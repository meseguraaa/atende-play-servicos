module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},650645,a=>{a.n(a.i(827572))},262530,a=>{a.n(a.i(688848))},409171,a=>{a.n(a.i(753004))},21802,a=>{a.n(a.i(277152))},155517,a=>{a.n(a.i(298906))},5408,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call MonthPicker() from the server but MonthPicker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/month-picker/month-picker.tsx <module evaluation>","MonthPicker");a.s(["MonthPicker",0,b])},897710,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call MonthPicker() from the server but MonthPicker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/month-picker/month-picker.tsx","MonthPicker");a.s(["MonthPicker",0,b])},868313,a=>{"use strict";a.i(5408);var b=a.i(897710);a.n(b)},56672,a=>{"use strict";a.i(868313),a.s([])},640230,a=>{a.n(a.i(972760))},590784,a=>{"use strict";var b=a.i(623127),c=a.i(169513);a.i(56672);var d=a.i(868313);async function e(){return(await (0,c.cookies)()).getAll().map(a=>`${a.name}=${a.value}`).join("; ")}async function f(){let a=await (0,c.headers)(),b=a.get("x-forwarded-host")??a.get("host"),d=a.get("x-forwarded-proto")??"http";return b?`${d}://${b}`:""}async function g(a){let b=await f(),c=new URLSearchParams;a&&c.set("month",a);let d=`${b}/api/professional/review${c.toString()?`?${c.toString()}`:""}`,g=await fetch(d,{method:"GET",cache:"no-store",headers:{cookie:await e()}});return await g.json()}async function h({searchParams:a}){let c=(await a).month,e=await g(c);if(!e.ok)return(0,b.jsxs)("div",{className:"max-w-7xl space-y-6",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-title text-content-primary",children:"Minhas avalia√ß√µes"}),(0,b.jsx)("p",{className:"text-paragraph-medium-size text-content-secondary",children:"Veja como os clientes avaliaram seus atendimentos."})]}),(0,b.jsx)("div",{className:"md:self-start",children:(0,b.jsx)(d.MonthPicker,{})})]}),(0,b.jsx)("section",{className:"rounded-xl border border-border-primary bg-background-tertiary p-4",children:(0,b.jsx)("p",{className:"text-paragraph-medium text-content-secondary",children:e.error})})]});let{month:f,stats:h,topPositiveTags:i,topNegativeTags:j,recentPositiveReviews:k,recentNegativeReviews:l}=e.data,m=h.totalReviewsMonth,n=h.totalReviewsOverall,o=m>0?h.averageRatingMonth.toFixed(2):"‚Äî",p=n>0?h.averageRatingOverall.toFixed(2):"‚Äî";return(0,b.jsxs)("div",{className:"max-w-7xl space-y-6",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-title text-content-primary",children:"Minhas avalia√ß√µes"}),(0,b.jsx)("p",{className:"text-paragraph-medium-size text-content-secondary",children:"Veja como os clientes avaliaram seus atendimentos."}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-secondary",children:["M√™s selecionado:"," ",(0,b.jsx)("span",{className:"font-semibold text-content-primary",children:f.label})]}),(0,b.jsx)("p",{className:"mt-1 text-paragraph-small text-content-tertiary",children:"Algumas avalia√ß√µes podem ter o nome do cliente oculto, isso acontece quando ele opta por avalia√ß√£o an√¥nima."})]}),(0,b.jsx)("div",{className:"md:self-start",children:(0,b.jsx)(d.MonthPicker,{})})]}),(0,b.jsxs)("section",{className:"space-y-4 rounded-xl border border-border-primary bg-background-tertiary p-4",children:[(0,b.jsx)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Suas avalia√ß√µes"}),(0,b.jsxs)("p",{className:"text-title text-content-primary",children:["Nota m√©dia no m√™s:"," ",(0,b.jsx)("span",{className:"text-title font-semibold",children:o}),m>0&&(0,b.jsx)("span",{className:"ml-2 align-middle text-xl text-yellow-500",children:"‚òÖ".repeat(Math.round(h.averageRatingMonth))})]}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-secondary",children:["Nota m√©dia geral (hist√≥rico):"," ",(0,b.jsx)("span",{className:"font-semibold text-content-primary",children:p})," ",n>0&&(0,b.jsxs)("span",{className:"text-content-tertiary",children:["(",n," avalia√ß√µes)"]})]}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-secondary",children:["Total de avalia√ß√µes no m√™s:"," ",(0,b.jsx)("span",{className:"font-semibold text-content-primary",children:m})]})]})}),0===m?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Voc√™ ainda n√£o possui avalia√ß√µes registradas neste m√™s."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-4 border-t border-border-primary/60 pt-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Motivos positivos mais citados (no m√™s)"}),0===i.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Ainda n√£o h√° motivos positivos suficientes neste m√™s."}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(a=>(0,b.jsxs)("span",{className:"flex items-center gap-1 rounded-full border border-emerald-500/60 bg-emerald-500/5 px-3 py-1 text-[11px] text-emerald-500",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsxs)("span",{className:"text-emerald-600",children:["¬∑ ",a.count]})]},a.label))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Motivos negativos mais citados (no m√™s)"}),0===j.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Nenhum motivo negativo se destacou neste m√™s. ‚ú®"}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(a=>(0,b.jsxs)("span",{className:"flex items-center gap-1 rounded-full border border-destructive/40 bg-destructive/5 px-3 py-1 text-[11px] text-destructive",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsxs)("span",{className:"text-destructive",children:["¬∑ ",a.count]})]},a.label))})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 border-t border-border-primary/60 pt-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Feedbacks positivos recentes (3‚Äì5 estrelas)"}),0===k.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Ainda n√£o h√° feedbacks positivos registrados neste m√™s."}):(0,b.jsx)("div",{className:"space-y-2",children:k.map(a=>(0,b.jsxs)("div",{className:"space-y-1 rounded-xl border border-border-primary bg-background-secondary px-3 py-2 text-[11px]",children:[(0,b.jsxs)("p",{className:"text-content-primary",children:[a.clientName," ¬∑"," ",(0,b.jsx)("span",{className:"text-content-secondary",children:a.serviceName})," ","¬∑"," ",(0,b.jsxs)("span",{className:"text-yellow-500",children:[a.rating,"‚òÖ"]})]}),a.tags.length>0&&(0,b.jsxs)("p",{className:"text-content-secondary",children:["Motivos:"," ",a.tags.join(", ")]}),a.comment?(0,b.jsxs)("p",{className:"text-content-secondary",children:["Coment√°rio:"," ",a.comment]}):(0,b.jsx)("p",{className:"text-content-tertiary",children:"Sem coment√°rio."}),(0,b.jsxs)("p",{className:"text-content-tertiary",children:["Registrado em:"," ",new Date(a.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Feedbacks negativos recentes (1‚Äì2 estrelas)"}),0===l.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Nenhum feedback negativo registrado neste m√™s. üß°"}):(0,b.jsx)("div",{className:"space-y-2",children:l.map(a=>(0,b.jsxs)("div",{className:"space-y-1 rounded-xl border border-border-primary bg-background-secondary px-3 py-2 text-[11px]",children:[(0,b.jsxs)("p",{className:"text-content-primary",children:[a.clientName," ¬∑"," ",(0,b.jsx)("span",{className:"text-content-secondary",children:a.serviceName})," ","¬∑"," ",(0,b.jsxs)("span",{className:"text-yellow-500",children:[a.rating,"‚òÖ"]})]}),a.tags.length>0&&(0,b.jsxs)("p",{className:"text-content-secondary",children:["Motivos:"," ",a.tags.join(", ")]}),a.comment?(0,b.jsxs)("p",{className:"text-content-secondary",children:["Coment√°rio:"," ",a.comment]}):(0,b.jsx)("p",{className:"text-content-tertiary",children:"Sem coment√°rio."}),(0,b.jsxs)("p",{className:"text-content-tertiary",children:["Registrado em:"," ",new Date(a.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]},a.id))})]})]}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-tertiary",children:["Depois a gente liga isso em"," ",(0,b.jsx)("span",{className:"text-content-secondary",children:"AppointmentReview"})," ","e tags. Por enquanto √© UI."]})]})]})]})}a.s(["default",()=>h,"dynamic",0,"force-dynamic","metadata",0,{title:"Profissional | Avalia√ß√µes"}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__493182dd._.js.map