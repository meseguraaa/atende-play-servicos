module.exports=[413687,a=>{"use strict";var b=a.i(976286);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call DashboardRevenueChart() from the server but DashboardRevenueChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx <module evaluation>","DashboardRevenueChart"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call mockRevenueData() from the server but mockRevenueData is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx <module evaluation>","mockRevenueData");a.s(["DashboardRevenueChart",0,c,"mockRevenueData",0,d])},979091,a=>{"use strict";var b=a.i(976286);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call DashboardRevenueChart() from the server but DashboardRevenueChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx","DashboardRevenueChart"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call mockRevenueData() from the server but mockRevenueData is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx","mockRevenueData");a.s(["DashboardRevenueChart",0,c,"mockRevenueData",0,d])},494034,a=>{"use strict";a.i(413687);var b=a.i(979091);a.n(b)},564981,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DashboardRatingsDistributionChart() from the server but DashboardRatingsDistributionChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-ratings-distribution-chart/dashboard-ratings-distribution-chart.tsx <module evaluation>","DashboardRatingsDistributionChart");a.s(["DashboardRatingsDistributionChart",0,b])},756642,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DashboardRatingsDistributionChart() from the server but DashboardRatingsDistributionChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-ratings-distribution-chart/dashboard-ratings-distribution-chart.tsx","DashboardRatingsDistributionChart");a.s(["DashboardRatingsDistributionChart",0,b])},596712,a=>{"use strict";a.i(564981);var b=a.i(756642);a.n(b)},818928,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DashboardProductsVsServicesChart() from the server but DashboardProductsVsServicesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-products-vs-services-chart/dashboard-products-vs-services-chart.tsx <module evaluation>","DashboardProductsVsServicesChart");a.s(["DashboardProductsVsServicesChart",0,b])},510957,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DashboardProductsVsServicesChart() from the server but DashboardProductsVsServicesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-products-vs-services-chart/dashboard-products-vs-services-chart.tsx","DashboardProductsVsServicesChart");a.s(["DashboardProductsVsServicesChart",0,b])},979802,a=>{"use strict";a.i(818928);var b=a.i(510957);a.n(b)},584063,a=>{"use strict";var b=a.i(623127),c=a.i(766518),d=a.i(28792),e=a.i(975127),f=a.i(678978),g=a.i(254413),h=a.i(607957),i=a.i(709207),j=a.i(151748),k=a.i(816443);a.i(960905);var l=a.i(645321);function m({children:a}){return(0,b.jsx)("div",{className:"rounded-xl border border-border-primary bg-background-tertiary px-4 py-3",children:a})}function n({totalGrossDay:a,totalGrossDayServices:c,totalGrossDayProducts:d,totalCommissionDay:e,totalCommissionDayServices:f,totalCommissionDayProducts:g,totalNetDay:h,totalNetDayServices:i,totalNetDayProducts:j,totalCancelFeeDay:k,totalCanceledWithFeeDay:l}){return(0,b.jsxs)("section",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Valor bruto (dia)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:a}),(0,b.jsxs)("p",{className:"text-label-small text-content-secondary",children:["ServiÃ§os: ",c," â€¢ Produtos:"," ",d]})]}),(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"ComissÃ£o (dia)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:e}),(0,b.jsxs)("p",{className:"text-label-small text-content-secondary",children:["ServiÃ§os: ",f," â€¢ Produtos:"," ",g]})]}),(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Valor lÃ­quido (dia)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:h}),(0,b.jsxs)("p",{className:"text-label-small text-content-secondary",children:["ServiÃ§os: ",i," â€¢ Produtos:"," ",j]})]}),(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Taxas de cancelamento (dia)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:k}),(0,b.jsxs)("p",{className:"text-label-small text-content-secondary",children:[l," cancelamento(s) com taxa"]})]})]})}function o({totalGrossMonth:a,totalGrossMonthServices:c,totalGrossMonthProducts:d,totalNetMonth:e,totalNetMonthServices:f,totalNetMonthProducts:g,totalExpensesMonth:h,realNetMonth:i,realNetMonthIsPositive:j,totalAppointmentsDoneDay:k,totalAppointmentsDoneMonth:l,totalAppointmentsCanceledDay:n,totalAppointmentsCanceledMonth:o,totalCanceledWithFeeDay:p,totalCanceledWithFeeMonth:q,productsInStock:r,productsSoldMonth:s,productsReservedMonth:t}){return(0,b.jsxs)("section",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Valor bruto (mÃªs)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:a}),(0,b.jsxs)("p",{className:"text-label-small text-content-secondary",children:["ServiÃ§os: ",c," â€¢ Produtos:"," ",d]})]}),(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Valor lÃ­quido (mÃªs - sem despesas)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:e}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-secondary",children:["ServiÃ§os: ",f," â€¢ Produtos:"," ",g]})]}),(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Despesas (mÃªs)"}),(0,b.jsx)("p",{className:"text-title text-content-primary",children:h}),(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Soma das despesas cadastradas no mÃ³dulo Financeiro."})]}),(0,b.jsxs)(m,{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Lucro real (mÃªs)"}),(0,b.jsx)("p",{className:`text-title ${j?"text-green-500":"text-red-600"}`,children:i}),(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Valor lÃ­quido (serviÃ§os + produtos) menos as despesas."})]}),(0,b.jsxs)("div",{className:"md:col-span-4 grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-border-primary bg-background-tertiary px-4 py-3 space-y-3",children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Atendimentos"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"ConcluÃ­dos"}),(0,b.jsxs)("p",{className:"text-paragraph-medium text-content-primary",children:["Dia:"," ",(0,b.jsx)("span",{className:"font-semibold",children:k})]}),(0,b.jsxs)("p",{className:"text-paragraph-medium text-content-primary",children:["MÃªs:"," ",(0,b.jsx)("span",{className:"font-semibold",children:l})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Cancelados"}),(0,b.jsxs)("p",{className:"text-paragraph-medium text-content-primary",children:["Dia:"," ",(0,b.jsx)("span",{className:"font-semibold",children:n})]}),(0,b.jsxs)("p",{className:"text-paragraph-medium text-content-primary",children:["MÃªs:"," ",(0,b.jsx)("span",{className:"font-semibold",children:o})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Com taxa"}),(0,b.jsxs)("p",{className:"text-paragraph-medium text-content-primary",children:["Dia:"," ",(0,b.jsx)("span",{className:"font-semibold",children:p})]}),(0,b.jsxs)("p",{className:"text-paragraph-medium text-content-primary",children:["MÃªs:"," ",(0,b.jsx)("span",{className:"font-semibold",children:q})]})]})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border-primary bg-background-tertiary px-4 py-3 space-y-3",children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"Produtos"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Em estoque"}),(0,b.jsx)("p",{className:"text-paragraph-medium text-content-primary",children:(0,b.jsx)("span",{className:"font-semibold",children:r})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Vendidos (mÃªs)"}),(0,b.jsx)("p",{className:"text-paragraph-medium text-content-primary",children:(0,b.jsx)("span",{className:"font-semibold",children:s})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Em reserva (mÃªs)"}),(0,b.jsx)("p",{className:"text-paragraph-medium text-content-primary",children:(0,b.jsx)("span",{className:"font-semibold",children:t})})]})]})]})]})]})}var p=a.i(494034),q=a.i(596712),r=a.i(979802);function s(a){return String(a??"").trim()}function t(a){if(null==a)return NaN;if("number"==typeof a)return a;if("string"==typeof a){let b=Number(a.replace(",","."));return Number.isFinite(b)?b:NaN}if("object"==typeof a){if("function"==typeof a?.toNumber){let b=a.toNumber();return Number.isFinite(b)?b:NaN}if("function"==typeof a?.toString){let b=Number(String(a.toString()).replace(",","."));return Number.isFinite(b)?b:NaN}}let b=Number(a);return Number.isFinite(b)?b:NaN}function u(a){return!Number.isFinite(a)||a<0?0:a>100?100:a}function v(a,b){return(Number.isFinite(a)?a:0)+(Number.isFinite(b)?b:0)}async function w({searchParams:a}){let m=await a,w=await (0,d.requireAdminForModule)("DASHBOARD"),x=w?.companyId??w?.company?.id??w?.session?.companyId??w?.data?.companyId,y=w?.unitId??w?.unit?.id??w?.session?.unitId??w?.data?.unitId;if(!x)throw Error("AdminDashboardPage: companyId nÃ£o encontrado no contexto do admin.");let z=function(a){let b=s(a);if(!b)return new Date;let[c,d,e]=b.split("-").map(Number);return c&&d&&e?new Date(c,d-1,e):new Date}(m?.date),A=function(a){let b=s(a);if(!b)return(0,i.startOfMonth)(new Date);let[c,d]=b.split("-").map(Number);return c&&d?(0,i.startOfMonth)(new Date(c,d-1,1)):(0,i.startOfMonth)(new Date)}(m?.month),B=(0,h.startOfDay)(z),C=(0,e.endOfDay)(z),D=(0,i.startOfMonth)(A),E=(0,f.endOfMonth)(A),F=(0,i.startOfMonth)((0,j.subMonths)(A,1)),G=(0,f.endOfMonth)((0,j.subMonths)(A,1)),H=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),I={companyId:x,...y?{unitId:y}:{}},J=await c.prisma.order.findMany({where:{...I,status:"COMPLETED",updatedAt:{gte:B,lte:C}},select:{id:!0,totalAmount:!0,appointment:{select:{professionalPercentageAtTheTime:!0}},items:{select:{quantity:!0,totalPrice:!0,serviceId:!0,productId:!0,service:{select:{professionalPercentage:!0}},product:{select:{professionalPercentage:!0}}}}}}),K=await c.prisma.order.findMany({where:{...I,status:"COMPLETED",updatedAt:{gte:D,lte:E}},select:{id:!0,totalAmount:!0,updatedAt:!0,appointment:{select:{professionalPercentageAtTheTime:!0}},items:{select:{quantity:!0,totalPrice:!0,serviceId:!0,productId:!0,service:{select:{professionalPercentage:!0}},product:{select:{professionalPercentage:!0}}}}}}),L=await c.prisma.order.findMany({where:{...I,status:"COMPLETED",updatedAt:{gte:F,lte:G}},select:{id:!0,totalAmount:!0,updatedAt:!0,items:{select:{totalPrice:!0,serviceId:!0,productId:!0}}}}),M=await c.prisma.appointment.findMany({where:{...I,status:"CANCELED",cancelledAt:{gte:B,lte:C}},select:{id:!0,cancelFeeApplied:!0,cancelFeeValue:!0}}),N=await c.prisma.appointment.findMany({where:{...I,status:"CANCELED",cancelledAt:{gte:D,lte:E}},select:{id:!0,cancelFeeApplied:!0,cancelFeeValue:!0}}),[O,P]=await Promise.all([c.prisma.appointment.count({where:{...I,status:"DONE",doneAt:{gte:B,lte:C}}}),c.prisma.appointment.count({where:{...I,status:"DONE",doneAt:{gte:D,lte:E}}})]),[Q,R]=await Promise.all([c.prisma.appointment.count({where:{...I,status:"CANCELED",cancelledAt:{gte:B,lte:C}}}),c.prisma.appointment.count({where:{...I,status:"CANCELED",cancelledAt:{gte:D,lte:E}}})]),S=await c.prisma.expense.findMany({where:{...I,dueDate:{gte:D,lte:E},isPaid:!0},select:{amount:!0}}),T=await c.prisma.product.aggregate({where:{...I},_sum:{stockQuantity:!0}}),U=await c.prisma.orderItem.findMany({where:{companyId:x,...y?{order:{unitId:y}}:{},productId:{not:null},order:{companyId:x,...y?{unitId:y}:{},status:"COMPLETED",updatedAt:{gte:D,lte:E}}},select:{quantity:!0}}),V=await c.prisma.orderItem.findMany({where:{companyId:x,...y?{order:{unitId:y}}:{},productId:{not:null},order:{companyId:x,...y?{unitId:y}:{},status:{in:["PENDING","PENDING_CHECKIN"]},createdAt:{gte:D,lte:E}}},select:{quantity:!0}}),W=await c.prisma.appointmentReview.aggregate({where:{companyId:x,...y?{appointment:{unitId:y}}:{},createdAt:{gte:D,lte:E}},_count:{id:!0},_avg:{rating:!0}}),X=await c.prisma.appointmentReview.aggregate({where:{companyId:x,...y?{appointment:{unitId:y}}:{}},_count:{id:!0},_avg:{rating:!0}}),Y=await c.prisma.appointmentReview.groupBy({by:["rating"],where:{companyId:x,...y?{appointment:{unitId:y}}:{},createdAt:{gte:D,lte:E}},_count:{rating:!0}}),Z=await c.prisma.appointmentReview.groupBy({by:["professionalId"],where:{companyId:x,...y?{appointment:{unitId:y}}:{},createdAt:{gte:D,lte:E}},_count:{id:!0},_avg:{rating:!0},orderBy:[{_avg:{rating:"desc"}},{_count:{id:"desc"}}]}),$=Z.map(a=>a.professionalId).filter(Boolean),_=new Map(($.length?await c.prisma.professional.findMany({where:{companyId:x,id:{in:$}},select:{id:!0,name:!0}}):[]).map(a=>[a.id,a.name])),aa=await c.prisma.appointmentReviewTag.groupBy({by:["tagId"],where:{review:{companyId:x,...y?{appointment:{unitId:y}}:{},createdAt:{gte:D,lte:E}}},_count:{tagId:!0},orderBy:{_count:{tagId:"desc"}},take:50}),ab=aa.map(a=>a.tagId),ac=new Map((ab.length>0?await c.prisma.reviewTag.findMany({where:{companyId:x,id:{in:ab}},select:{id:!0,label:!0,isNegative:!0}}):[]).map(a=>[a.id,a])),ad=aa.map(a=>{let b=ac.get(a.tagId);return!b||b.isNegative?null:{label:b.label,count:a._count.tagId}}).filter(Boolean).slice(0,8),ae=aa.map(a=>{let b=ac.get(a.tagId);return b&&b.isNegative?{label:b.label,count:a._count.tagId}:null}).filter(Boolean).slice(0,8),[af,ag]=await Promise.all([c.prisma.appointmentReview.findMany({where:{companyId:x,...y?{appointment:{unitId:y}}:{},createdAt:{gte:D,lte:E},rating:{gte:3}},orderBy:{createdAt:"desc"},take:8,include:{client:{select:{name:!0}},professional:{select:{name:!0}},appointment:{select:{service:{select:{name:!0}}}},tags:{include:{tag:{select:{label:!0}}}}}}),c.prisma.appointmentReview.findMany({where:{companyId:x,...y?{appointment:{unitId:y}}:{},createdAt:{gte:D,lte:E},rating:{lte:2}},orderBy:{createdAt:"desc"},take:8,include:{client:{select:{name:!0}},professional:{select:{name:!0}},appointment:{select:{service:{select:{name:!0}}}},tags:{include:{tag:{select:{label:!0}}}}}})]),ah=0,ai=0,aj=0,ak=0,al=0,am=0;for(let a of J){ah=v(ah,t(a.totalAmount));let b=u(t(a.appointment?.professionalPercentageAtTheTime));for(let c of a.items){let a=t(c.totalPrice);if(c.serviceId){ai=v(ai,a);let d=u(t(c.service?.professionalPercentage)),e=a*(b||d)/100;al=v(al,e),ak=v(ak,e)}else if(c.productId){aj=v(aj,a);let b=a*u(t(c.product?.professionalPercentage))/100;am=v(am,b),ak=v(ak,b)}}}let an=ah-ak,ao=ai-al,ap=aj-am,aq=0,ar=0;for(let a of M){if(!a.cancelFeeApplied)continue;let b=t(a.cancelFeeValue);Number.isFinite(b)&&b>0&&(aq=v(aq,b),ar+=1)}let as=0,at=0,au=0,av=0,aw=0,ax=Number((0,g.format)(E,"d")),ay=Array(ax).fill(0),az=Array(Number((0,g.format)(G,"d"))).fill(0),aA=Array(ax).fill(0),aB=Array(ax).fill(0);for(let a of K){as=v(as,t(a.totalAmount));let b=Number((0,g.format)(a.updatedAt,"d"))-1;b>=0&&b<ay.length&&(ay[b]=v(ay[b],t(a.totalAmount)));let c=u(t(a.appointment?.professionalPercentageAtTheTime));for(let d of a.items){let a=t(d.totalPrice);if(d.serviceId){at=v(at,a),b>=0&&b<aA.length&&(aA[b]=v(aA[b],a));let e=u(t(d.service?.professionalPercentage));av=v(av,a*(c||e)/100)}else d.productId&&(au=v(au,a),b>=0&&b<aB.length&&(aB[b]=v(aB[b],a)),aw=v(aw,a*u(t(d.product?.professionalPercentage))/100))}}for(let a of L){let b=Number((0,g.format)(a.updatedAt,"d"))-1;b>=0&&b<az.length&&(az[b]=v(az[b],t(a.totalAmount)))}let aC=at-av,aD=au-aw,aE=aC+aD,aF=0;for(let a of S)aF=v(aF,t(a.amount));let aG=aE-aF,aH=0;for(let a of N){if(!a.cancelFeeApplied)continue;let b=t(a.cancelFeeValue);Number.isFinite(b)&&b>0&&(aH+=1)}let aI=Number(T._sum.stockQuantity??0)||0,aJ=U.reduce((a,b)=>a+(b.quantity??0),0),aK=V.reduce((a,b)=>a+(b.quantity??0),0),aL=(0,g.format)(A,"MMM/yyyy",{locale:k.ptBR}),aM=(0,g.format)((0,j.subMonths)(A,1),"MMM/yyyy",{locale:k.ptBR}),aN=ay.reduce((a,b)=>a+b,0),aO=az.reduce((a,b)=>a+b,0),aP=Array.from({length:ax},(a,b)=>({day:b+1,currentMonth:Math.max(0,Math.round(ay[b]??0)),previousMonth:Math.max(0,Math.round(az[b]??0))})),aQ=Array.from({length:ax},(a,b)=>{let c=b+1;return{day:c,label:String(c).padStart(2,"0"),services:Math.max(0,Math.round(aA[b]??0)),products:Math.max(0,Math.round(aB[b]??0))}}),aR=aQ.reduce((a,b)=>a+b.services,0),aS=aQ.reduce((a,b)=>a+b.products,0),aT=W._count.id??0,aU=X._count.id??0,aV=Number(W._avg.rating??0),aW=Number(X._avg.rating??0),aX=aT>0?aV.toFixed(2):"â€”",aY=aU>0?aW.toFixed(2):"â€”",aZ=Z.map(a=>{let b=a.professionalId;return b?{professionalId:b,professionalName:_.get(b)??"Profissional",totalReviews:a._count.id??0,avgRating:Number(a._avg.rating??0)}:null}).filter(Boolean).sort((a,b)=>b.avgRating!==a.avgRating?b.avgRating-a.avgRating:b.totalReviews!==a.totalReviews?b.totalReviews-a.totalReviews:a.professionalName.localeCompare(b.professionalName)),a$=[1,2,3,4,5].map(a=>{let b=Y.find(b=>b.rating===a);return b?._count.rating??0}).map((a,b)=>({rating:b+1,count:a}));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-title text-content-primary",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-paragraph-medium-size text-content-secondary",children:"VisÃ£o geral de todos os agendamentos, serviÃ§os, vendas de produtos e satisfaÃ§Ã£o dos clientes."})]}),(0,b.jsx)(l.DatePicker,{})]}),(0,b.jsx)(n,{totalGrossDay:H.format(ah),totalGrossDayServices:H.format(ai),totalGrossDayProducts:H.format(aj),totalCommissionDay:H.format(ak),totalCommissionDayServices:H.format(al),totalCommissionDayProducts:H.format(am),totalNetDay:H.format(an),totalNetDayServices:H.format(ao),totalNetDayProducts:H.format(ap),totalCancelFeeDay:H.format(aq),totalCanceledWithFeeDay:ar}),(0,b.jsx)(o,{totalGrossMonth:H.format(as),totalGrossMonthServices:H.format(at),totalGrossMonthProducts:H.format(au),totalNetMonth:H.format(aE),totalNetMonthServices:H.format(aC),totalNetMonthProducts:H.format(aD),totalExpensesMonth:H.format(aF),realNetMonth:H.format(aG),realNetMonthIsPositive:aG>=0,totalAppointmentsDoneDay:O,totalAppointmentsDoneMonth:P,totalAppointmentsCanceledDay:Q,totalAppointmentsCanceledMonth:R,totalCanceledWithFeeDay:ar,totalCanceledWithFeeMonth:aH,productsInStock:aI,productsSoldMonth:aJ,productsReservedMonth:aK}),(0,b.jsx)(p.DashboardRevenueChart,{data:aP,currentMonthLabel:aL,previousMonthLabel:aM,variationPercentage:aO>0?(aN-aO)/aO*100:0}),(0,b.jsx)(r.DashboardProductsVsServicesChart,{data:aQ,monthLabel:aL,totalServices:aR,totalProducts:aS}),(0,b.jsxs)("section",{className:"space-y-4 rounded-xl border border-border-primary bg-background-tertiary p-4",children:[(0,b.jsx)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-label-small text-content-secondary",children:"SatisfaÃ§Ã£o dos clientes (mÃªs selecionado)"}),(0,b.jsxs)("p",{className:"text-title font-semibold text-content-primary",children:["Nota mÃ©dia no mÃªs:"," ",(0,b.jsx)("span",{className:"font-semibold",children:aX}),aT>0&&(0,b.jsx)("span",{className:"ml-2 align-middle text-xl text-yellow-500",children:"â˜…".repeat(Math.max(0,Math.min(5,Math.round(aV))))})]}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-secondary",children:["Nota mÃ©dia geral (histÃ³rico):"," ",(0,b.jsx)("span",{className:"font-semibold text-content-primary",children:aY})," ",aU>0&&(0,b.jsxs)("span",{className:"text-content-tertiary",children:["(",aU," avaliaÃ§Ãµes)"]})]}),(0,b.jsxs)("p",{className:"text-paragraph-small text-content-secondary",children:["Total de avaliaÃ§Ãµes no mÃªs:"," ",(0,b.jsx)("span",{className:"font-semibold text-content-primary",children:aT})]}),(0,b.jsx)("p",{className:"mt-1 text-paragraph-small text-content-tertiary",children:"Algumas avaliaÃ§Ãµes podem ter o nome do cliente oculto para o profissional, quando ele opta por avaliaÃ§Ã£o anÃ´nima. Aqui no painel, o administrador sempre vÃª o cliente real."})]})}),0===aZ.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Ainda nÃ£o hÃ¡ avaliaÃ§Ãµes registradas neste mÃªs."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-paragraph-small",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border-primary text-content-secondary",children:[(0,b.jsx)("th",{className:"py-2 pr-4",children:"#"}),(0,b.jsx)("th",{className:"py-2 pr-4",children:"Profissional"}),(0,b.jsx)("th",{className:"py-2 pr-4",children:"Nota mÃ©dia"}),(0,b.jsx)("th",{className:"py-2 pr-4",children:"AvaliaÃ§Ãµes"})]})}),(0,b.jsx)("tbody",{children:aZ.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-border-primary/60 last:border-0",children:[(0,b.jsx)("td",{className:"py-2 pr-4 text-content-secondary",children:c+1}),(0,b.jsx)("td",{className:"py-2 pr-4 text-content-primary",children:a.professionalName}),(0,b.jsx)("td",{className:"py-2 pr-4 text-content-primary",children:a.avgRating.toFixed(2)}),(0,b.jsx)("td",{className:"py-2 pr-4 text-content-secondary",children:a.totalReviews})]},a.professionalId))})]})}),(0,b.jsxs)("div",{className:"grid gap-4 border-t border-border-primary/60 pt-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Motivos positivos mais citados (no mÃªs)"}),0===ad.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Ainda nÃ£o hÃ¡ tags positivas suficientes neste mÃªs."}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:ad.map(a=>(0,b.jsxs)("span",{className:"flex items-center gap-1 rounded-full border border-emerald-500/60 bg-emerald-500/5 px-3 py-1 text-[11px] text-emerald-500",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsxs)("span",{className:"text-emerald-500",children:["Â· ",a.count]})]},a.label))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Motivos negativos mais citados (no mÃªs)"}),0===ae.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Ainda nÃ£o hÃ¡ feedbacks negativos suficientes neste mÃªs. âœ¨"}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:ae.map(a=>(0,b.jsxs)("span",{className:"flex items-center gap-1 rounded-full border border-destructive/40 bg-destructive/5 px-3 py-1 text-[11px] text-destructive",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsxs)("span",{className:"text-destructive",children:["Â· ",a.count]})]},a.label))})]})]}),(0,b.jsx)("div",{className:"border-t border-border-primary/60 pt-4",children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Feedbacks positivos recentes (3â€“5 estrelas no mÃªs)"}),0===af.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Nenhum feedback positivo registrado neste mÃªs ainda."}):(0,b.jsx)("div",{className:"space-y-2",children:af.map(a=>{let c=a.client?.name??"Cliente",d=a.professional?.name??"Profissional",e=a.appointment?.service?.name??"Atendimento";return(0,b.jsxs)("div",{className:"space-y-1 rounded-xl border border-border-primary bg-background-secondary px-3 py-2 text-[11px]",children:[(0,b.jsxs)("p",{className:"text-content-primary",children:[c," Â·"," ",(0,b.jsxs)("span",{className:"text-content-secondary",children:[d," ","Â·"," ",e]})," ","Â·"," ",(0,b.jsxs)("span",{className:"text-yellow-500",children:[a.rating,"â˜…"]})]}),a.tags?.length>0&&(0,b.jsxs)("p",{className:"text-content-secondary",children:["Motivos:"," ",a.tags.map(a=>a.tag.label).join(", ")]}),a.comment&&(0,b.jsxs)("p",{className:"text-content-secondary",children:["ComentÃ¡rio:"," ",a.comment]}),(0,b.jsxs)("p",{className:"text-content-tertiary",children:["Registrado em:"," ",a.createdAt.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]},a.id)})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-label-small text-content-primary",children:"Feedbacks negativos recentes (1â€“2 estrelas no mÃªs)"}),0===ag.length?(0,b.jsx)("p",{className:"text-paragraph-small text-content-secondary",children:"Nenhum feedback negativo registrado neste mÃªs. ðŸ§¡"}):(0,b.jsx)("div",{className:"space-y-2",children:ag.map(a=>{let c=a.client?.name??"Cliente",d=a.professional?.name??"Profissional",e=a.appointment?.service?.name??"Atendimento";return(0,b.jsxs)("div",{className:"space-y-1 rounded-xl border border-border-primary bg-background-secondary px-3 py-2 text-[11px]",children:[(0,b.jsxs)("p",{className:"text-content-primary",children:[c," Â·"," ",(0,b.jsxs)("span",{className:"text-content-secondary",children:[d," ","Â·"," ",e]})," ","Â·"," ",(0,b.jsxs)("span",{className:"text-yellow-500",children:[a.rating,"â˜…"]})]}),a.tags?.length>0&&(0,b.jsxs)("p",{className:"text-content-secondary",children:["Motivos:"," ",a.tags.map(a=>a.tag.label).join(", ")]}),a.comment&&(0,b.jsxs)("p",{className:"text-content-secondary",children:["ComentÃ¡rio:"," ",a.comment]}),(0,b.jsxs)("p",{className:"text-content-tertiary",children:["Registrado em:"," ",a.createdAt.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]},a.id)})})]})]})})]})]}),(0,b.jsx)(q.DashboardRatingsDistributionChart,{data:a$,monthLabel:aL,averageRatingMonth:aT>0?aV:null,averageRatingOverall:aU>0?aW:null,totalReviewsMonth:aT,totalReviewsOverall:aU})]})}a.s(["default",()=>w,"dynamic",0,"force-dynamic","metadata",0,{title:"Admin | Dashboard"}],584063)}];

//# sourceMappingURL=src_057787a6._.js.map