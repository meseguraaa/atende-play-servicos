{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/file-text.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/arrow-right.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/list-ordered.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/link.ts","turbopack:///[project]/src/components/plataform/partners/partner-edit-dialog/partner-edit-dialog.tsx","turbopack:///[project]/src/components/plataform/partners/partner-row/partner-row.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/eye.ts","turbopack:///[project]/src/components/plataform/partners/partner-new-dialog/partner-new-dialog.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/sliders-horizontal.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z',\n      key: '1oefj6',\n    },\n  ],\n  ['path', { d: 'M14 2v5a1 1 0 0 0 1 1h5', key: 'wfsgrz' }],\n  ['path', { d: 'M10 9H8', key: 'b1mrlr' }],\n  ['path', { d: 'M16 13H8', key: 't4e002' }],\n  ['path', { d: 'M16 17H8', key: 'z1uh3a' }],\n];\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMmEyIDIgMCAwIDEtMi0yVjRhMiAyIDAgMCAxIDItMmg4YTIuNCAyLjQgMCAwIDEgMS43MDQuNzA2bDMuNTg4IDMuNTg4QTIuNCAyLjQgMCAwIDEgMjAgOHYxMmEyIDIgMCAwIDEtMiAyeiIgLz4KICA8cGF0aCBkPSJNMTQgMnY1YTEgMSAwIDAgMCAxIDFoNSIgLz4KICA8cGF0aCBkPSJNMTAgOUg4IiAvPgogIDxwYXRoIGQ9Ik0xNiAxM0g4IiAvPgogIDxwYXRoIGQ9Ik0xNiAxN0g4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('file-text', __iconNode);\n\nexport default FileText;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('arrow-right', __iconNode);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M11 5h10', key: '1cz7ny' }],\n  ['path', { d: 'M11 12h10', key: '1438ji' }],\n  ['path', { d: 'M11 19h10', key: '11t30w' }],\n  ['path', { d: 'M4 4h1v5', key: '10yrso' }],\n  ['path', { d: 'M4 9h2', key: 'r1h2o0' }],\n  ['path', { d: 'M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02', key: 'xtkcd5' }],\n];\n\n/**\n * @component @name ListOrdered\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNWgxMCIgLz4KICA8cGF0aCBkPSJNMTEgMTJoMTAiIC8+CiAgPHBhdGggZD0iTTExIDE5aDEwIiAvPgogIDxwYXRoIGQ9Ik00IDRoMXY1IiAvPgogIDxwYXRoIGQ9Ik00IDloMiIgLz4KICA8cGF0aCBkPSJNNi41IDIwSDMuNGMwLTEgMi42LTEuOTI1IDIuNi0zLjVhMS41IDEuNSAwIDAgMC0yLjYtMS4wMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/list-ordered\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListOrdered = createLucideIcon('list-ordered', __iconNode);\n\nexport default ListOrdered;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n];\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('link', __iconNode);\n\nexport default Link;\n","// src/components/admin/partners/partner-edit-dialog/partner-edit-dialog.tsx\n'use client';\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\n\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\nimport { toast } from 'sonner';\nimport { cn } from '@/lib/utils';\n\nimport {\n    Handshake,\n    Image as ImageIcon,\n    AlignLeft,\n    BadgePercent,\n    Link as LinkIcon,\n    ArrowRight,\n    ListOrdered,\n    Eye,\n    Upload,\n    X,\n    FileText,\n    Building2,\n    Search,\n    Check,\n    Loader2,\n} from 'lucide-react';\n\ntype PartnerVisibilityMode = 'ALL' | 'SELECTED';\n\nexport type PartnerForRow = {\n    id: string;\n    name: string;\n\n    logoUrl: string | null;\n    logoKey?: string | null;\n\n    discountPct: number;\n\n    description?: string | null;\n    rules?: string | null;\n\n    ctaUrl: string | null;\n    ctaLabel?: string | null;\n\n    isActive: boolean;\n    visibilityMode?: PartnerVisibilityMode;\n    sortOrder?: number;\n\n    createdAt?: string | Date;\n    updatedAt?: string | Date;\n};\n\ntype UploadResponse =\n    | {\n          ok: true;\n          data: {\n              url: string;\n              key: string;\n              mime: string;\n              size: number;\n              originalName: string;\n              module?: 'PRODUCTS' | 'PROFESSIONALS' | 'PARTNERS';\n              category?: 'products' | 'professionals' | 'partners';\n          };\n      }\n    | { ok: false; error?: string };\n\ntype CompanyOption = {\n    id: string;\n    name: string;\n    isActive?: boolean;\n};\n\nconst MAX_UPLOAD_MB = 5;\nconst MAX_UPLOAD_BYTES = MAX_UPLOAD_MB * 1024 * 1024;\n\nfunction clampPct(raw: string): number | null {\n    const s = String(raw ?? '').trim();\n    if (!s) return null;\n    const n = Number(s.replace(',', '.'));\n    if (!Number.isFinite(n)) return null;\n    return Math.max(0, Math.min(100, Math.floor(n)));\n}\n\nfunction toInt(raw: string): number | null {\n    const s = String(raw ?? '').trim();\n    if (!s) return null;\n    const n = Number(s.replace(',', '.'));\n    if (!Number.isFinite(n)) return null;\n    return Math.floor(n);\n}\n\nfunction normalizeCtaUrl(raw: string): string | null {\n    const s = String(raw ?? '').trim();\n    if (!s) return null;\n\n    const lower = s.toLowerCase();\n    if (lower.startsWith('javascript:')) return null;\n    if (lower.startsWith('data:')) return null;\n\n    if (lower.startsWith('http://') || lower.startsWith('https://')) return s;\n    if (lower.startsWith('www.')) return `https://${s}`;\n\n    return null;\n}\n\nfunction initials(name: string) {\n    return (name || '?')\n        .trim()\n        .split(/\\s+/)\n        .filter(Boolean)\n        .map((n) => n[0])\n        .join('')\n        .slice(0, 2)\n        .toUpperCase();\n}\n\nfunction isValidPartnerLogoUrl(raw: unknown): boolean {\n    const s = String(raw ?? '').trim();\n    if (!s) return false;\n\n    const lowered = s.toLowerCase();\n\n    // bloqueios óbvios\n    if (lowered.startsWith('javascript:')) return false;\n    if (lowered.startsWith('data:')) return false;\n    if (lowered.startsWith('blob:')) return false;\n\n    // ✅ nosso upload atual\n    if (s.startsWith('/media/')) return true;\n\n    // legado\n    if (s.startsWith('/uploads/')) return true;\n\n    // URL absoluta\n    if (lowered.startsWith('http://') || lowered.startsWith('https://'))\n        return true;\n\n    return false;\n}\n\nfunction IconInput(\n    props: React.ComponentProps<typeof Input> & {\n        icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n    }\n) {\n    const { icon: Icon, className, ...rest } = props;\n\n    return (\n        <div className=\"relative\">\n            <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                <Icon className=\"h-4 w-4 text-content-brand\" />\n            </div>\n\n            <Input {...rest} className={cn('pl-10', className)} />\n        </div>\n    );\n}\n\nconst INPUT_BASE =\n    'bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0';\n\nconst INPUT_SECONDARY =\n    'bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0';\n\nconst SELECT_TRIGGER =\n    'h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0 focus-visible:border-border-brand';\n\nconst VISIBILITY_OPTIONS: Array<{\n    value: PartnerVisibilityMode;\n    label: string;\n}> = [\n    { value: 'ALL', label: 'Todas as empresas' },\n    { value: 'SELECTED', label: 'Empresas selecionadas' },\n];\n\nasync function safeReadJson<T>(res: Response): Promise<T | null> {\n    try {\n        return (await res.json()) as T;\n    } catch {\n        return null;\n    }\n}\n\n/**\n * ✅ Busca empresas do painel da PLATAFORMA\n */\nasync function fetchCompaniesPlatform(): Promise<CompanyOption[]> {\n    const urls = [\n        '/api/plataform/companies/options',\n        '/api/plataform/companies?active=1',\n        '/api/plataform/companies',\n    ];\n\n    for (const url of urls) {\n        try {\n            const res = await fetch(url, { method: 'GET' });\n            if (!res.ok) continue;\n\n            const json = await safeReadJson<any>(res);\n            if (!json) continue;\n\n            const rawList =\n                json.companies ?? json.items ?? json.data ?? json.list ?? null;\n\n            if (Array.isArray(rawList)) {\n                const mapped: CompanyOption[] = rawList\n                    .map((c: any) => ({\n                        id: String(c?.id ?? '').trim(),\n                        name: String(c?.name ?? c?.title ?? '').trim(),\n                        isActive:\n                            typeof c?.isActive === 'boolean'\n                                ? c.isActive\n                                : undefined,\n                    }))\n                    .filter((c: CompanyOption) => c.id && c.name);\n\n                if (mapped.length) return mapped;\n            }\n        } catch {\n            // tenta a próxima\n        }\n    }\n\n    return [];\n}\n\n/**\n * Busca companyIds já vinculados ao parceiro (para pré-seleção no EDIT).\n *\n * ✅ GET /api/plataform/partners/:partnerId\n * retorna { ok:true, data:{ partner, companyIds } }.\n */\nasync function fetchPartnerCompanyIds(partnerId: string): Promise<string[]> {\n    const urls = [\n        `/api/plataform/partners/${partnerId}`,\n        `/api/plataform/partners/${partnerId}/companies`,\n        `/api/plataform/partners/${partnerId}/visibility`,\n    ];\n\n    for (const url of urls) {\n        try {\n            const res = await fetch(url, { method: 'GET' });\n            if (!res.ok) continue;\n\n            const json = await safeReadJson<any>(res);\n            if (!json) continue;\n\n            const ids1 =\n                json?.companyIds ??\n                json?.data?.companyIds ??\n                json?.data?.selectedCompanyIds ??\n                null;\n\n            if (Array.isArray(ids1)) {\n                const ids = ids1\n                    .map((v: any) => String(v ?? '').trim())\n                    .filter(Boolean);\n\n                return Array.from(new Set(ids));\n            }\n\n            const ids2 =\n                json?.companies ??\n                json?.data?.companies ??\n                json?.data?.items ??\n                null;\n\n            if (Array.isArray(ids2)) {\n                const ids = ids2\n                    .map((v: any) => String(v?.companyId ?? v?.id ?? '').trim())\n                    .filter(Boolean);\n\n                if (ids.length) return Array.from(new Set(ids));\n            }\n        } catch {\n            // tenta a próxima\n        }\n    }\n\n    return [];\n}\n\nexport function PartnerEditDialog({ partner }: { partner: PartnerForRow }) {\n    const router = useRouter();\n\n    const [open, setOpen] = React.useState(false);\n    const [isPending, startTransition] = React.useTransition();\n\n    const [name, setName] = React.useState<string>(partner.name ?? '');\n    const [logoUrl, setLogoUrl] = React.useState<string>(partner.logoUrl ?? '');\n\n    const [logoKey, setLogoKey] = React.useState<string>(() => {\n        const v = String(partner.logoKey ?? '').trim();\n        return v.length ? v : '';\n    });\n\n    const [discountPct, setDiscountPct] = React.useState<string>(() => {\n        const v = Number(partner.discountPct ?? 0);\n        return Number.isFinite(v) ? String(v) : '0';\n    });\n\n    const [description, setDescription] = React.useState<string>(\n        String(partner.description ?? '')\n    );\n    const [rules, setRules] = React.useState<string>(\n        String(partner.rules ?? '')\n    );\n\n    const [ctaUrl, setCtaUrl] = React.useState<string>(partner.ctaUrl ?? '');\n    const [ctaLabel, setCtaLabel] = React.useState<string>(() => {\n        const v = String(partner.ctaLabel ?? '').trim();\n        return v.length ? v : 'Ativar cashback e ir pra loja';\n    });\n\n    const [visibilityMode, setVisibilityMode] =\n        React.useState<PartnerVisibilityMode>(() => {\n            const v = String(partner.visibilityMode ?? 'ALL')\n                .trim()\n                .toUpperCase();\n            return v === 'SELECTED' ? 'SELECTED' : 'ALL';\n        });\n\n    const [sortOrder, setSortOrder] = React.useState<string>(() => {\n        const v = Number(partner.sortOrder ?? 100);\n        return Number.isFinite(v) ? String(v) : '100';\n    });\n\n    // upload\n    const fileInputRef = React.useRef<HTMLInputElement | null>(null);\n    const [uploadingImage, setUploadingImage] = React.useState(false);\n\n    // ✅ preview robusto (se img quebrar, mostra iniciais)\n    const [previewBroken, setPreviewBroken] = React.useState(false);\n\n    // companies (para SELECTED)\n    const [companies, setCompanies] = React.useState<CompanyOption[]>([]);\n    const [companiesLoading, setCompaniesLoading] = React.useState(false);\n    const [companiesQuery, setCompaniesQuery] = React.useState('');\n    const [selectedCompanyIds, setSelectedCompanyIds] = React.useState<\n        string[]\n    >([]);\n\n    React.useEffect(() => {\n        if (!open) return;\n\n        setName(partner.name ?? '');\n        setLogoUrl(partner.logoUrl ?? '');\n\n        setLogoKey(() => {\n            const v = String(partner.logoKey ?? '').trim();\n            return v.length ? v : '';\n        });\n\n        setDiscountPct(() => {\n            const v = Number(partner.discountPct ?? 0);\n            return Number.isFinite(v) ? String(v) : '0';\n        });\n\n        setDescription(String(partner.description ?? ''));\n        setRules(String(partner.rules ?? ''));\n\n        setCtaUrl(partner.ctaUrl ?? '');\n        setCtaLabel(() => {\n            const v = String(partner.ctaLabel ?? '').trim();\n            return v.length ? v : 'Ativar cashback e ir pra loja';\n        });\n\n        setVisibilityMode(() => {\n            const v = String(partner.visibilityMode ?? 'ALL')\n                .trim()\n                .toUpperCase();\n            return v === 'SELECTED' ? 'SELECTED' : 'ALL';\n        });\n\n        setSortOrder(() => {\n            const v = Number(partner.sortOrder ?? 100);\n            return Number.isFinite(v) ? String(v) : '100';\n        });\n\n        setCompaniesQuery('');\n        setSelectedCompanyIds([]);\n\n        setUploadingImage(false);\n        setPreviewBroken(false);\n\n        if (fileInputRef.current) fileInputRef.current.value = '';\n    }, [open, partner]);\n\n    // carrega empresas + ids já selecionados quando abrir\n    React.useEffect(() => {\n        if (!open) return;\n\n        let alive = true;\n\n        async function load() {\n            setCompaniesLoading(true);\n            try {\n                const [list, ids] = await Promise.all([\n                    fetchCompaniesPlatform(),\n                    fetchPartnerCompanyIds(partner.id),\n                ]);\n\n                if (!alive) return;\n\n                if (!list.length) {\n                    toast.error(\n                        'Não encontrei empresas para listar. Verifique o endpoint /api/plataform/companies/options.'\n                    );\n                }\n\n                setCompanies(list);\n                setSelectedCompanyIds(ids);\n\n                const v = String(partner.visibilityMode ?? 'ALL')\n                    .trim()\n                    .toUpperCase();\n                setVisibilityMode(v === 'SELECTED' ? 'SELECTED' : 'ALL');\n            } catch {\n                if (!alive) return;\n                toast.error('Erro ao carregar empresas do parceiro.');\n            } finally {\n                if (!alive) return;\n                setCompaniesLoading(false);\n            }\n        }\n\n        void load();\n\n        return () => {\n            alive = false;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open, partner.id]);\n\n    React.useEffect(() => {\n        setPreviewBroken(false);\n    }, [logoUrl]);\n\n    React.useEffect(() => {\n        if (visibilityMode !== 'ALL') return;\n        if (selectedCompanyIds.length === 0) return;\n        setSelectedCompanyIds([]);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [visibilityMode]);\n\n    const filteredCompanies = React.useMemo(() => {\n        const q = companiesQuery.trim().toLowerCase();\n        if (!q) return companies;\n\n        return companies.filter((c) =>\n            String(c.name ?? '')\n                .toLowerCase()\n                .includes(q)\n        );\n    }, [companies, companiesQuery]);\n\n    async function uploadImage(file: File) {\n        if (!file.type?.startsWith('image/')) {\n            toast.error('Selecione um arquivo de imagem.');\n            return;\n        }\n\n        if (file.size > MAX_UPLOAD_BYTES) {\n            toast.error(`Imagem muito grande. Máximo: ${MAX_UPLOAD_MB}MB.`);\n            return;\n        }\n\n        setUploadingImage(true);\n        try {\n            const fd = new FormData();\n            fd.append('file', file);\n            fd.append('module', 'PARTNERS');\n\n            const res = await fetch('/api/admin/uploads', {\n                method: 'POST',\n                body: fd,\n            });\n\n            const json = (await res\n                .json()\n                .catch(() => null)) as UploadResponse | null;\n\n            if (!res.ok || !json || json.ok !== true) {\n                const msg =\n                    (json && json.ok === false && json.error) ||\n                    'Não foi possível fazer upload da imagem.';\n                toast.error(msg);\n                return;\n            }\n\n            const url = String(json.data.url ?? '').trim();\n\n            // ✅ valida retorno do upload (aceita /media, /uploads, http(s))\n            if (!isValidPartnerLogoUrl(url)) {\n                toast.error(\n                    'Upload retornou uma URL inválida para o parceiro. O esperado é /media/... (recomendado), /uploads/... (legado) ou http(s).'\n                );\n                return;\n            }\n\n            setLogoUrl(url);\n            setLogoKey(String(json.data.key ?? '').trim());\n            setPreviewBroken(false);\n\n            toast.success('Imagem enviada!');\n        } catch {\n            toast.error('Erro de rede ao fazer upload da imagem.');\n        } finally {\n            setUploadingImage(false);\n        }\n    }\n\n    const requiredInvalid =\n        !name.trim() ||\n        !logoUrl.trim() ||\n        !discountPct.trim() ||\n        !ctaUrl.trim() ||\n        !ctaLabel.trim() ||\n        !sortOrder.trim();\n\n    const selectedInvalid =\n        visibilityMode === 'SELECTED' && selectedCompanyIds.length === 0;\n\n    const loadingSelectedData =\n        visibilityMode === 'SELECTED' && companiesLoading;\n\n    const formInvalid =\n        requiredInvalid ||\n        selectedInvalid ||\n        uploadingImage ||\n        loadingSelectedData;\n\n    function buildPayload() {\n        const pct = clampPct(discountPct) ?? 0;\n        const so = toInt(sortOrder);\n        const cta = normalizeCtaUrl(ctaUrl);\n\n        const companyIds =\n            visibilityMode === 'SELECTED' ? selectedCompanyIds : [];\n\n        return {\n            name: name.trim(),\n            logoUrl: logoUrl.trim(),\n            logoKey: logoKey.trim() || null,\n\n            discountPct: pct,\n\n            description: String(description ?? '').trim() || null,\n            rules: String(rules ?? '').trim() || null,\n\n            ctaUrl: cta ?? ctaUrl.trim(),\n            ctaLabel: ctaLabel.trim() || 'Ativar cashback e ir pra loja',\n\n            visibilityMode,\n            sortOrder: Number.isFinite(so as any) ? Number(so) : 100,\n\n            companyIds,\n        };\n    }\n\n    async function handleSave() {\n        if (formInvalid) {\n            if (loadingSelectedData) {\n                toast.error('Aguarde carregar as empresas antes de salvar.');\n                return;\n            }\n            if (selectedInvalid) {\n                toast.error('Selecione pelo menos 1 empresa para SELECTED.');\n                return;\n            }\n            if (!logoUrl.trim()) {\n                toast.error('Logo é obrigatória.');\n                return;\n            }\n            toast.error('Preencha os campos obrigatórios antes de salvar.');\n            return;\n        }\n\n        const payload = buildPayload();\n\n        // ✅ valida logo também no client\n        if (!isValidPartnerLogoUrl(payload.logoUrl)) {\n            toast.error(\n                'logoUrl inválida. Envie uma imagem (/media ou /uploads) ou forneça uma URL http(s) válida.'\n            );\n            return;\n        }\n\n        const pct = Number(payload.discountPct);\n        if (!Number.isFinite(pct) || pct < 0 || pct > 100) {\n            toast.error('Desconto inválido (0 a 100).');\n            return;\n        }\n\n        const so = Number(payload.sortOrder);\n        if (!Number.isFinite(so) || so < 0) {\n            toast.error('Ordem inválida (0 ou maior).');\n            return;\n        }\n\n        const cta = normalizeCtaUrl(payload.ctaUrl);\n        if (!cta) {\n            toast.error('CTA URL inválida. Use http(s) ou comece com www.');\n            return;\n        }\n\n        startTransition(async () => {\n            try {\n                const res = await fetch(\n                    `/api/plataform/partners/${partner.id}`,\n                    {\n                        method: 'PATCH',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify({\n                            update: { ...payload, ctaUrl: cta },\n                        }),\n                    }\n                );\n\n                const json = (await res.json().catch(() => null)) as\n                    | { ok: true; data?: any }\n                    | { ok: false; error?: string }\n                    | null;\n\n                if (!res.ok || !json || (json as any).ok !== true) {\n                    const msg =\n                        (json as any)?.error ||\n                        'Não foi possível salvar o parceiro. Tente novamente.';\n                    toast.error(msg);\n                    return;\n                }\n\n                toast.success('Parceiro atualizado!');\n                setOpen(false);\n                router.refresh();\n            } catch {\n                toast.error('Erro de rede ao salvar parceiro.');\n            }\n        });\n    }\n\n    const previewUrl = logoUrl.trim() ? logoUrl.trim() : null;\n\n    function toggleCompany(id: string) {\n        setSelectedCompanyIds((prev) => {\n            if (prev.includes(id)) return prev.filter((x) => x !== id);\n            return [...prev, id];\n        });\n    }\n\n    function selectAllFiltered() {\n        const ids = filteredCompanies.map((c) => c.id);\n        setSelectedCompanyIds((prev) => {\n            const set = new Set(prev);\n            ids.forEach((id) => set.add(id));\n            return Array.from(set);\n        });\n    }\n\n    function clearAll() {\n        setSelectedCompanyIds([]);\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onOpenChange={(v) => !isPending && !uploadingImage && setOpen(v)}\n        >\n            <DialogTrigger asChild>\n                <Button\n                    variant=\"edit2\"\n                    size=\"sm\"\n                    className=\"border-border-primary hover:bg-muted/40\"\n                >\n                    Editar\n                </Button>\n            </DialogTrigger>\n\n            <DialogContent className=\"bg-background-secondary border border-border-primary max-h-[80vh] overflow-y-auto\">\n                <DialogHeader>\n                    <DialogTitle className=\"text-title text-content-primary\">\n                        Editar parceiro\n                    </DialogTitle>\n                </DialogHeader>\n\n                <div className=\"space-y-4 pb-2\">\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Nome do parceiro{' '}\n                            <span className=\"text-red-500\">*</span>\n                        </label>\n                        <IconInput\n                            icon={Handshake}\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                            disabled={isPending}\n                            className={INPUT_BASE}\n                        />\n                    </div>\n\n                    {/* LOGO (UPLOAD) */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Logo do parceiro{' '}\n                            <span className=\"text-red-500\">*</span>\n                        </label>\n\n                        <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            className=\"hidden\"\n                            disabled={isPending || uploadingImage}\n                            onChange={(e) => {\n                                const f = e.currentTarget.files?.[0];\n                                if (!f) return;\n                                void uploadImage(f);\n                            }}\n                        />\n\n                        <div className=\"grid gap-3 sm:grid-cols-[1fr_auto] sm:items-start\">\n                            <div className=\"space-y-2\">\n                                <div className=\"relative\">\n                                    <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                                        <ImageIcon className=\"h-4 w-4 text-content-brand\" />\n                                    </div>\n\n                                    <Input\n                                        value={previewUrl ?? ''}\n                                        readOnly\n                                        placeholder=\"Escolha seu arquivo clicando em Upload.\"\n                                        className={cn(\n                                            'pl-10 pr-10',\n                                            INPUT_BASE\n                                        )}\n                                    />\n\n                                    {previewUrl ? (\n                                        <button\n                                            type=\"button\"\n                                            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-content-secondary hover:text-content-primary\"\n                                            onClick={() => {\n                                                setLogoUrl('');\n                                                setLogoKey('');\n                                                setPreviewBroken(false);\n                                                if (fileInputRef.current)\n                                                    fileInputRef.current.value =\n                                                        '';\n                                            }}\n                                            disabled={\n                                                isPending || uploadingImage\n                                            }\n                                            title=\"Remover imagem\"\n                                        >\n                                            <X className=\"h-4 w-4\" />\n                                        </button>\n                                    ) : null}\n                                </div>\n\n                                {logoKey ? (\n                                    <p className=\"text-[11px] text-content-secondary/70\">\n                                        key:{' '}\n                                        <span className=\"text-content-primary\">\n                                            {logoKey}\n                                        </span>\n                                    </p>\n                                ) : null}\n                            </div>\n\n                            <Button\n                                type=\"button\"\n                                variant=\"brand\"\n                                className=\"h-10\"\n                                onClick={() => fileInputRef.current?.click()}\n                                disabled={isPending || uploadingImage}\n                                title={\n                                    uploadingImage ? 'Enviando...' : undefined\n                                }\n                            >\n                                <span className=\"inline-flex items-center gap-2\">\n                                    <Upload className=\"h-4 w-4\" />\n                                    {uploadingImage ? 'Enviando...' : 'Upload'}\n                                </span>\n                            </Button>\n                        </div>\n\n                        {previewUrl ? (\n                            <div className=\"overflow-hidden rounded-xl border border-border-primary bg-background-tertiary\">\n                                <div className=\"h-40 w-full flex items-center justify-center\">\n                                    {/* eslint-disable-next-line @next/next/no-img-element */}\n                                    {!previewBroken ? (\n                                        <img\n                                            src={previewUrl}\n                                            alt=\"Preview do parceiro\"\n                                            className=\"h-40 w-full object-cover\"\n                                            onError={() =>\n                                                setPreviewBroken(true)\n                                            }\n                                        />\n                                    ) : (\n                                        <div className=\"h-40 w-full flex items-center justify-center\">\n                                            <div className=\"h-16 w-16 rounded-2xl border border-border-primary bg-background-secondary flex items-center justify-center\">\n                                                <span className=\"text-sm font-semibold text-content-secondary\">\n                                                    {initials(name)}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ) : null}\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Desconto (%) <span className=\"text-red-500\">*</span>\n                        </label>\n                        <IconInput\n                            icon={BadgePercent}\n                            value={discountPct}\n                            onChange={(e) => setDiscountPct(e.target.value)}\n                            disabled={isPending}\n                            inputMode=\"numeric\"\n                            placeholder=\"Ex: 10\"\n                            className={INPUT_BASE}\n                        />\n                        <p className=\"text-[11px] text-content-secondary/70\">\n                            O servidor normaliza para 0–100.\n                        </p>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Descrição\n                        </label>\n                        <div className=\"relative\">\n                            <div className=\"pointer-events-none absolute left-3 top-3\">\n                                <AlignLeft className=\"h-4 w-4 text-content-brand\" />\n                            </div>\n                            <Textarea\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                disabled={isPending}\n                                rows={3}\n                                className={cn('pl-10', INPUT_BASE)}\n                                placeholder=\"Sobre o parceiro...\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Regras\n                        </label>\n                        <div className=\"relative\">\n                            <div className=\"pointer-events-none absolute left-3 top-3\">\n                                <FileText className=\"h-4 w-4 text-content-brand\" />\n                            </div>\n                            <Textarea\n                                value={rules}\n                                onChange={(e) => setRules(e.target.value)}\n                                disabled={isPending}\n                                rows={3}\n                                className={cn('pl-10', INPUT_BASE)}\n                                placeholder=\"Condições e regras...\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Link do parceiro (ctaUrl){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n                            <IconInput\n                                icon={LinkIcon}\n                                value={ctaUrl}\n                                onChange={(e) => setCtaUrl(e.target.value)}\n                                disabled={isPending}\n                                placeholder=\"https://... ou www...\"\n                                className={INPUT_SECONDARY}\n                            />\n                            <p className=\"text-[11px] text-content-secondary/70\">\n                                Aceita http(s) e “www.” (o servidor normaliza).\n                            </p>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Texto do botão (ctaLabel){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n                            <IconInput\n                                icon={ArrowRight}\n                                value={ctaLabel}\n                                onChange={(e) => setCtaLabel(e.target.value)}\n                                disabled={isPending}\n                                placeholder=\"Ex: Ativar cashback e ir pra loja\"\n                                className={INPUT_SECONDARY}\n                            />\n                        </div>\n                    </div>\n\n                    {/* VISIBILIDADE + EMPRESAS */}\n                    <div className=\"space-y-2 rounded-xl border border-border-primary bg-background-tertiary p-3\">\n                        <div className=\"flex items-start justify-between gap-4\">\n                            <div>\n                                <p className=\"text-sm font-medium text-content-primary\">\n                                    Visibilidade\n                                </p>\n                                <p className=\"text-xs text-content-secondary\">\n                                    ALL: aparece para todas as empresas.\n                                    SELECTED: aparece só para empresas\n                                    selecionadas.\n                                </p>\n                            </div>\n                        </div>\n\n                        <Select\n                            value={visibilityMode}\n                            onValueChange={(v) =>\n                                setVisibilityMode(v as PartnerVisibilityMode)\n                            }\n                            disabled={isPending}\n                        >\n                            <SelectTrigger className={SELECT_TRIGGER}>\n                                <div className=\"flex items-center gap-2\">\n                                    <Eye className=\"h-4 w-4 text-content-brand\" />\n                                    <SelectValue placeholder=\"Selecione\" />\n                                </div>\n                            </SelectTrigger>\n\n                            <SelectContent>\n                                {VISIBILITY_OPTIONS.map((opt) => (\n                                    <SelectItem\n                                        key={opt.value}\n                                        value={opt.value}\n                                    >\n                                        {opt.label}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n\n                        {visibilityMode === 'SELECTED' ? (\n                            <div className=\"mt-3 space-y-2\">\n                                <div className=\"flex items-center justify-between gap-2\">\n                                    <p className=\"text-xs font-medium text-content-primary\">\n                                        Empresas selecionadas (\n                                        {selectedCompanyIds.length})\n                                    </p>\n\n                                    <div className=\"flex items-center gap-2\">\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"outline\"\n                                            className=\"h-8 px-3\"\n                                            onClick={selectAllFiltered}\n                                            disabled={\n                                                companiesLoading || isPending\n                                            }\n                                            title=\"Selecionar todas as empresas filtradas\"\n                                        >\n                                            <span className=\"inline-flex items-center gap-2 text-xs\">\n                                                <Check className=\"h-4 w-4\" />\n                                                Selecionar\n                                            </span>\n                                        </Button>\n\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"ghost\"\n                                            className=\"h-8 px-3\"\n                                            onClick={clearAll}\n                                            disabled={\n                                                companiesLoading || isPending\n                                            }\n                                            title=\"Limpar seleção\"\n                                        >\n                                            <span className=\"text-xs\">\n                                                Limpar\n                                            </span>\n                                        </Button>\n                                    </div>\n                                </div>\n\n                                <div className=\"relative\">\n                                    <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                                        <Search className=\"h-4 w-4 text-content-brand\" />\n                                    </div>\n                                    <Input\n                                        value={companiesQuery}\n                                        onChange={(e) =>\n                                            setCompaniesQuery(e.target.value)\n                                        }\n                                        disabled={companiesLoading || isPending}\n                                        placeholder=\"Buscar empresa...\"\n                                        className={cn('pl-10', INPUT_BASE)}\n                                    />\n                                </div>\n\n                                <div className=\"rounded-xl border border-border-primary bg-background-secondary p-2\">\n                                    {companiesLoading ? (\n                                        <div className=\"flex items-center gap-2 p-2 text-xs text-content-secondary\">\n                                            <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                            Carregando empresas...\n                                        </div>\n                                    ) : filteredCompanies.length === 0 ? (\n                                        <div className=\"p-2 text-xs text-content-secondary\">\n                                            Nenhuma empresa encontrada.\n                                        </div>\n                                    ) : (\n                                        <div className=\"max-h-56 overflow-y-auto\">\n                                            {filteredCompanies.map((c) => {\n                                                const checked =\n                                                    selectedCompanyIds.includes(\n                                                        c.id\n                                                    );\n\n                                                return (\n                                                    <label\n                                                        key={c.id}\n                                                        className={cn(\n                                                            'flex cursor-pointer items-center justify-between gap-3 rounded-lg px-3 py-2 hover:bg-background-tertiary',\n                                                            checked\n                                                                ? 'bg-background-tertiary'\n                                                                : ''\n                                                        )}\n                                                    >\n                                                        <div className=\"flex items-center gap-2\">\n                                                            <Building2 className=\"h-4 w-4 text-content-brand\" />\n                                                            <span className=\"text-sm text-content-primary\">\n                                                                {c.name}\n                                                            </span>\n                                                            {c.isActive ===\n                                                            false ? (\n                                                                <span className=\"rounded-md bg-red-500/10 px-2 py-0.5 text-[11px] text-red-500\">\n                                                                    inativa\n                                                                </span>\n                                                            ) : null}\n                                                        </div>\n\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            checked={checked}\n                                                            onChange={() =>\n                                                                toggleCompany(\n                                                                    c.id\n                                                                )\n                                                            }\n                                                            disabled={isPending}\n                                                            className=\"h-4 w-4 accent-(--brand)\"\n                                                        />\n                                                    </label>\n                                                );\n                                            })}\n                                        </div>\n                                    )}\n                                </div>\n\n                                {selectedInvalid ? (\n                                    <p className=\"text-[11px] text-red-500\">\n                                        Se estiver em SELECTED, você precisa\n                                        selecionar pelo menos 1 empresa.\n                                    </p>\n                                ) : (\n                                    <p className=\"text-[11px] text-content-secondary/70\">\n                                        Essas empresas vão no payload como{' '}\n                                        <span className=\"text-content-primary\">\n                                            companyIds\n                                        </span>{' '}\n                                        para o backend atualizar os vínculos.\n                                    </p>\n                                )}\n                            </div>\n                        ) : (\n                            <p className=\"mt-2 text-[11px] text-content-secondary/70\">\n                                Em ALL, não precisa selecionar empresas.\n                            </p>\n                        )}\n                    </div>\n\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Ordem (menor aparece primeiro){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n                            <IconInput\n                                icon={ListOrdered}\n                                value={sortOrder}\n                                onChange={(e) => setSortOrder(e.target.value)}\n                                disabled={isPending}\n                                inputMode=\"numeric\"\n                                placeholder=\"Ex: 100\"\n                                className={INPUT_BASE}\n                            />\n                            <p className=\"text-[11px] text-content-secondary/70\">\n                                Menor aparece primeiro.\n                            </p>\n                        </div>\n                    </div>\n\n                    <div className=\"flex justify-end gap-2 pt-2\">\n                        <Button\n                            type=\"button\"\n                            variant=\"brand\"\n                            disabled={isPending || formInvalid}\n                            onClick={handleSave}\n                            title={\n                                loadingSelectedData\n                                    ? 'Aguarde carregar as empresas'\n                                    : uploadingImage\n                                      ? 'Aguarde o upload da imagem'\n                                      : selectedInvalid\n                                        ? 'Selecione pelo menos 1 empresa'\n                                        : requiredInvalid\n                                          ? 'Preencha os campos obrigatórios'\n                                          : undefined\n                            }\n                        >\n                            {isPending ? 'Salvando...' : 'Salvar alterações'}\n                        </Button>\n                    </div>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","// src/components/plataform/partners/partner-row/partner-row.tsx\n'use client';\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\nimport { cn } from '@/lib/utils';\n\nimport { Button } from '@/components/ui/button';\n\nimport type { PartnerForRow } from '@/app/plataform/partners/page';\nimport { PartnerEditDialog } from '@/components/plataform/partners/partner-edit-dialog/partner-edit-dialog';\n\nfunction Pill({\n    children,\n    variant = 'neutral',\n}: {\n    children: React.ReactNode;\n    variant?: 'neutral' | 'success' | 'danger';\n}) {\n    const cls =\n        variant === 'success'\n            ? 'bg-emerald-500/10 text-emerald-700 border-emerald-500/20'\n            : variant === 'danger'\n              ? 'bg-rose-500/10 text-rose-700 border-rose-500/20'\n              : 'bg-black/5 text-content-secondary border-border-primary';\n\n    return (\n        <span\n            className={cn(\n                'inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold',\n                cls\n            )}\n        >\n            {children}\n        </span>\n    );\n}\n\n/* ✅ Badge de STATUS padronizado (igual Finance / Services / Products) */\nfunction StatusBadge({\n    isActive,\n    title,\n}: {\n    isActive: boolean;\n    title?: string;\n}) {\n    const toneClass = isActive\n        ? 'bg-green-500/15 text-green-600 border-green-500/30'\n        : 'bg-red-500/15 text-red-600 border-red-500/30';\n\n    return (\n        <span\n            title={title}\n            className={cn(\n                'inline-flex items-center rounded-md border px-2 py-0.5 text-xs',\n                toneClass\n            )}\n        >\n            {isActive ? 'Ativo' : 'Inativo'}\n        </span>\n    );\n}\n\nfunction initials(name: string) {\n    return (name || '?')\n        .trim()\n        .split(/\\s+/)\n        .filter(Boolean)\n        .map((n) => n[0])\n        .join('')\n        .slice(0, 2)\n        .toUpperCase();\n}\n\n// ✅ fallback para quando img falhar/carregar errado\nfunction PartnerLogo({ src, name }: { src?: string | null; name: string }) {\n    const [broken, setBroken] = React.useState(false);\n\n    const hasSrc = Boolean(src && String(src).trim().length);\n    const showImg = hasSrc && !broken;\n\n    return (\n        <div className=\"h-10 w-10 overflow-hidden rounded-lg border border-border-primary bg-background-secondary flex items-center justify-center\">\n            {/* eslint-disable-next-line @next/next/no-img-element */}\n            {showImg ? (\n                <img\n                    src={String(src)}\n                    alt={name}\n                    className=\"h-full w-full object-cover\"\n                    loading=\"lazy\"\n                    onError={() => setBroken(true)}\n                />\n            ) : (\n                <span className=\"text-[11px] font-semibold text-content-secondary\">\n                    {initials(name)}\n                </span>\n            )}\n        </div>\n    );\n}\n\nexport function PartnerRow({ partner }: { partner: PartnerForRow }) {\n    const router = useRouter();\n    const [isPending, startTransition] = React.useTransition();\n\n    function handleToggleActive() {\n        startTransition(async () => {\n            try {\n                const res = await fetch(\n                    `/api/plataform/partners/${partner.id}`,\n                    {\n                        method: 'PATCH',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify({ toggleActive: true }),\n                    }\n                );\n\n                const json = (await res.json().catch(() => null)) as\n                    | { ok: true; data?: any }\n                    | { ok: false; error?: string }\n                    | null;\n\n                if (!res.ok || !json || (json as any).ok !== true) {\n                    const msg =\n                        (json as any)?.error ||\n                        'Não foi possível alterar o status do parceiro.';\n                    toast.error(msg);\n                    return;\n                }\n\n                toast.success(\n                    partner.isActive\n                        ? 'Parceiro desativado.'\n                        : 'Parceiro ativado.'\n                );\n                router.refresh();\n            } catch {\n                toast.error('Erro de rede ao alterar status do parceiro.');\n            }\n        });\n    }\n\n    return (\n        <tr className=\"border-t border-border-primary\">\n            <td className=\"px-4 py-3\">\n                <div className=\"flex items-center gap-3\">\n                    {/* ✅ agora com fallback quando a imagem quebra */}\n                    <PartnerLogo src={partner.logoUrl} name={partner.name} />\n\n                    <div className=\"min-w-0\">\n                        <p className=\"truncate font-semibold text-content-primary\">\n                            {partner.name}\n                        </p>\n                        <p className=\"truncate text-xs text-content-secondary\">\n                            {partner.ctaUrl ?? '—'}\n                        </p>\n                    </div>\n                </div>\n            </td>\n\n            <td className=\"px-4 py-3\">\n                <Pill variant=\"neutral\">\n                    {Number(partner.discountPct ?? 0) > 0\n                        ? `${partner.discountPct}% OFF`\n                        : '—'}\n                </Pill>\n            </td>\n\n            <td className=\"px-4 py-3\">\n                <Pill variant=\"neutral\">\n                    {partner.visibilityMode === 'SELECTED' ? 'SELECTED' : 'ALL'}\n                </Pill>\n            </td>\n\n            <td className=\"px-4 py-3\">\n                <span className=\"text-xs font-semibold text-content-secondary\">\n                    {partner.sortOrder ?? 100}\n                </span>\n            </td>\n\n            {/* ✅ STATUS padronizado */}\n            <td className=\"px-4 py-3\">\n                <StatusBadge isActive={Boolean(partner.isActive)} />\n            </td>\n\n            <td className=\"px-4 py-3 text-right\">\n                <div className=\"inline-flex items-center gap-2\">\n                    <PartnerEditDialog\n                        partner={{\n                            id: partner.id,\n                            name: partner.name,\n\n                            logoUrl: partner.logoUrl ?? null,\n                            logoKey: partner.logoKey ?? null,\n\n                            discountPct: Number(partner.discountPct ?? 0),\n\n                            description: partner.description ?? null,\n                            rules: partner.rules ?? null,\n\n                            ctaUrl: partner.ctaUrl ?? '',\n                            ctaLabel: partner.ctaLabel ?? null,\n\n                            isActive: Boolean(partner.isActive),\n                            visibilityMode: partner.visibilityMode ?? 'ALL',\n                            sortOrder: Number(partner.sortOrder ?? 100),\n\n                            createdAt: partner.createdAt,\n                            updatedAt: partner.updatedAt,\n                        }}\n                    />\n\n                    <Button\n                        variant={partner.isActive ? 'destructive' : 'active'}\n                        size=\"sm\"\n                        type=\"button\"\n                        className=\"border-border-primary hover:bg-muted/40\"\n                        onClick={handleToggleActive}\n                        disabled={isPending}\n                        title={isPending ? 'Processando...' : undefined}\n                    >\n                        {isPending\n                            ? 'Aguarde...'\n                            : partner.isActive\n                              ? 'Desativar'\n                              : 'Ativar'}\n                    </Button>\n                </div>\n            </td>\n        </tr>\n    );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","// src/components/admin/partners/partner-new-dialog/partner-new-dialog.tsx\n'use client';\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\n\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\nimport { toast } from 'sonner';\nimport { cn } from '@/lib/utils';\n\nimport {\n    Handshake,\n    Image as ImageIcon,\n    AlignLeft,\n    BadgePercent,\n    Link as LinkIcon,\n    ArrowRight,\n    Upload,\n    X,\n    SlidersHorizontal,\n    ListOrdered,\n    FileText,\n    Building2,\n    Search,\n    Check,\n    Loader2,\n} from 'lucide-react';\n\ntype PartnerVisibilityMode = 'ALL' | 'SELECTED';\n\ntype UploadResponse =\n    | {\n          ok: true;\n          data: {\n              url: string;\n              key: string;\n              mime: string;\n              size: number;\n              originalName: string;\n              module?: 'PRODUCTS' | 'PROFESSIONALS' | 'PARTNERS';\n              category?: 'products' | 'professionals' | 'partners';\n          };\n      }\n    | { ok: false; error?: string };\n\ntype CompanyOption = {\n    id: string;\n    name: string;\n    isActive?: boolean;\n};\n\nconst MAX_UPLOAD_MB = 5;\nconst MAX_UPLOAD_BYTES = MAX_UPLOAD_MB * 1024 * 1024;\n\nfunction clampPct(raw: string): number | null {\n    const s = String(raw ?? '').trim();\n    if (!s) return null;\n    const n = Number(s.replace(',', '.'));\n    if (!Number.isFinite(n)) return null;\n    return Math.max(0, Math.min(100, Math.floor(n)));\n}\n\nfunction toInt(raw: string): number | null {\n    const s = String(raw ?? '').trim();\n    if (!s) return null;\n    const n = Number(s.replace(',', '.'));\n    if (!Number.isFinite(n)) return null;\n    return Math.floor(n);\n}\n\nfunction normalizeCtaUrl(raw: string): string | null {\n    const s = String(raw ?? '').trim();\n    if (!s) return null;\n\n    const lower = s.toLowerCase();\n    if (lower.startsWith('javascript:')) return null;\n    if (lower.startsWith('data:')) return null;\n\n    if (lower.startsWith('http://') || lower.startsWith('https://')) return s;\n    if (lower.startsWith('www.')) return `https://${s}`;\n\n    return null;\n}\n\nfunction initials(name: string) {\n    return (name || '?')\n        .trim()\n        .split(/\\s+/)\n        .filter(Boolean)\n        .map((n) => n[0])\n        .join('')\n        .slice(0, 2)\n        .toUpperCase();\n}\n\nfunction isValidPartnerLogoUrl(raw: unknown): boolean {\n    const s = String(raw ?? '').trim();\n    if (!s) return false;\n\n    const lowered = s.toLowerCase();\n\n    // bloqueios óbvios\n    if (lowered.startsWith('javascript:')) return false;\n    if (lowered.startsWith('data:')) return false;\n    if (lowered.startsWith('blob:')) return false;\n\n    // ✅ nosso upload atual\n    if (s.startsWith('/media/')) return true;\n\n    // ✅ legado\n    if (s.startsWith('/uploads/')) return true;\n\n    // URL absoluta\n    if (lowered.startsWith('http://') || lowered.startsWith('https://'))\n        return true;\n\n    return false;\n}\n\nfunction IconInput(\n    props: React.ComponentProps<typeof Input> & {\n        icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n    }\n) {\n    const { icon: Icon, className, ...rest } = props;\n\n    return (\n        <div className=\"relative\">\n            <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                <Icon className=\"h-4 w-4 text-content-brand\" />\n            </div>\n\n            <Input {...rest} className={cn('pl-10', className)} />\n        </div>\n    );\n}\n\nconst INPUT_BASE =\n    'bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0';\n\nconst INPUT_SECONDARY =\n    'bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0';\n\nconst SELECT_TRIGGER =\n    'h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0 focus-visible:border-border-brand';\n\nasync function safeReadJson<T>(res: Response): Promise<T | null> {\n    try {\n        return (await res.json()) as T;\n    } catch {\n        return null;\n    }\n}\n\n/**\n * ✅ Busca empresas do painel da PLATAFORMA\n * GET /api/plataform/companies/options\n */\nasync function fetchCompaniesPlatform(): Promise<CompanyOption[]> {\n    const res = await fetch('/api/plataform/companies/options', {\n        method: 'GET',\n    });\n    if (!res.ok) return [];\n\n    const json = await safeReadJson<any>(res);\n    if (!json || json.ok !== true) return [];\n\n    const rawList =\n        json.companies ?? json.items ?? json.data ?? json.list ?? [];\n    if (!Array.isArray(rawList)) return [];\n\n    return rawList\n        .map((c: any) => ({\n            id: String(c?.id ?? '').trim(),\n            name: String(c?.name ?? c?.title ?? '').trim(),\n            isActive: typeof c?.isActive === 'boolean' ? c.isActive : undefined,\n        }))\n        .filter((c: CompanyOption) => c.id && c.name);\n}\n\nexport function PartnerNewDialog() {\n    const router = useRouter();\n\n    const [open, setOpen] = React.useState(false);\n    const [isPending, startTransition] = React.useTransition();\n\n    // form\n    const [name, setName] = React.useState('');\n    const [logoUrl, setLogoUrl] = React.useState('');\n    const [logoKey, setLogoKey] = React.useState<string>('');\n\n    const [discountPct, setDiscountPct] = React.useState('');\n\n    const [description, setDescription] = React.useState('');\n    const [rules, setRules] = React.useState('');\n\n    const [ctaUrl, setCtaUrl] = React.useState('');\n    const [ctaLabel, setCtaLabel] = React.useState(\n        'Ativar cashback e ir pra loja'\n    );\n\n    const [visibilityMode, setVisibilityMode] =\n        React.useState<PartnerVisibilityMode>('ALL');\n\n    const [sortOrder, setSortOrder] = React.useState('100');\n\n    // upload\n    const fileInputRef = React.useRef<HTMLInputElement | null>(null);\n    const [uploadingImage, setUploadingImage] = React.useState(false);\n\n    // ✅ preview robusto (se img quebrar, mostra iniciais)\n    const [previewBroken, setPreviewBroken] = React.useState(false);\n\n    // companies (para SELECTED)\n    const [companies, setCompanies] = React.useState<CompanyOption[]>([]);\n    const [companiesLoading, setCompaniesLoading] = React.useState(false);\n    const [companiesQuery, setCompaniesQuery] = React.useState('');\n    const [selectedCompanyIds, setSelectedCompanyIds] = React.useState<\n        string[]\n    >([]);\n\n    function resetForm() {\n        setName('');\n        setLogoUrl('');\n        setLogoKey('');\n\n        setDiscountPct('');\n\n        setDescription('');\n        setRules('');\n\n        setCtaUrl('');\n        setCtaLabel('Ativar cashback e ir pra loja');\n\n        setVisibilityMode('ALL');\n        setSortOrder('100');\n\n        setSelectedCompanyIds([]);\n        setCompaniesQuery('');\n\n        setUploadingImage(false);\n        setPreviewBroken(false);\n\n        if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n\n    React.useEffect(() => {\n        if (open) return;\n        resetForm();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open]);\n\n    // carrega empresas quando o dialog abre\n    React.useEffect(() => {\n        if (!open) return;\n\n        let alive = true;\n\n        async function load() {\n            setCompaniesLoading(true);\n            try {\n                const list = await fetchCompaniesPlatform();\n                if (!alive) return;\n\n                if (!list.length) {\n                    toast.error(\n                        'Não encontrei empresas para listar. Verifique /api/plataform/companies/options.'\n                    );\n                }\n\n                setCompanies(list);\n            } catch {\n                if (!alive) return;\n                toast.error('Erro ao carregar empresas.');\n            } finally {\n                if (!alive) return;\n                setCompaniesLoading(false);\n            }\n        }\n\n        void load();\n\n        return () => {\n            alive = false;\n        };\n    }, [open]);\n\n    // ✅ se trocar pra ALL, limpa seleção\n    React.useEffect(() => {\n        if (visibilityMode !== 'ALL') return;\n        if (selectedCompanyIds.length === 0) return;\n        setSelectedCompanyIds([]);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [visibilityMode]);\n\n    // ✅ se mudou logoUrl, reseta o \"broken\" do preview\n    React.useEffect(() => {\n        setPreviewBroken(false);\n    }, [logoUrl]);\n\n    const filteredCompanies = React.useMemo(() => {\n        const q = companiesQuery.trim().toLowerCase();\n        if (!q) return companies;\n\n        return companies.filter((c) =>\n            String(c.name ?? '')\n                .toLowerCase()\n                .includes(q)\n        );\n    }, [companies, companiesQuery]);\n\n    const requiredInvalid =\n        !name.trim() ||\n        !logoUrl.trim() ||\n        !ctaUrl.trim() ||\n        !ctaLabel.trim() ||\n        !sortOrder.trim();\n\n    const selectedInvalid =\n        visibilityMode === 'SELECTED' && selectedCompanyIds.length === 0;\n\n    const loadingSelectedData =\n        visibilityMode === 'SELECTED' && companiesLoading;\n\n    const formInvalid =\n        requiredInvalid ||\n        selectedInvalid ||\n        uploadingImage ||\n        loadingSelectedData;\n\n    async function uploadImage(file: File) {\n        if (!file.type?.startsWith('image/')) {\n            toast.error('Selecione um arquivo de imagem.');\n            return;\n        }\n\n        if (file.size > MAX_UPLOAD_BYTES) {\n            toast.error(`Imagem muito grande. Máximo: ${MAX_UPLOAD_MB}MB.`);\n            return;\n        }\n\n        setUploadingImage(true);\n        try {\n            const fd = new FormData();\n            fd.append('file', file);\n            fd.append('module', 'PARTNERS');\n\n            const res = await fetch('/api/admin/uploads', {\n                method: 'POST',\n                body: fd,\n            });\n\n            const json = (await res\n                .json()\n                .catch(() => null)) as UploadResponse | null;\n\n            if (!res.ok || !json || json.ok !== true) {\n                const msg =\n                    (json && json.ok === false && json.error) ||\n                    'Não foi possível fazer upload da imagem.';\n                toast.error(msg);\n                return;\n            }\n\n            const url = String(json.data.url ?? '').trim();\n\n            // ✅ valida retorno do upload (aceita /media, /uploads, http(s))\n            if (!isValidPartnerLogoUrl(url)) {\n                toast.error(\n                    'Upload retornou uma URL inválida para o parceiro. O esperado é /media/... (recomendado), /uploads/... (legado) ou http(s).'\n                );\n                return;\n            }\n\n            setLogoUrl(url);\n            setLogoKey(String(json.data.key ?? '').trim());\n            setPreviewBroken(false);\n            toast.success('Logo enviada!');\n        } catch {\n            toast.error('Erro de rede ao fazer upload da logo.');\n        } finally {\n            setUploadingImage(false);\n        }\n    }\n\n    function buildPayload() {\n        const pct = clampPct(discountPct) ?? 0;\n        const so = toInt(sortOrder);\n        const cta = normalizeCtaUrl(ctaUrl);\n\n        const companyIds =\n            visibilityMode === 'SELECTED' ? selectedCompanyIds : [];\n\n        return {\n            name: name.trim(),\n            logoUrl: logoUrl.trim(),\n            logoKey: logoKey.trim() || null,\n\n            discountPct: pct,\n\n            description: String(description ?? '').trim() || null,\n            rules: String(rules ?? '').trim() || null,\n\n            ctaUrl: cta ?? ctaUrl.trim(),\n            ctaLabel: ctaLabel.trim() || 'Ativar cashback e ir pra loja',\n\n            isActive: true,\n            visibilityMode,\n            sortOrder: Number.isFinite(so as any) ? Number(so) : 100,\n\n            companyIds,\n        };\n    }\n\n    async function handleCreate() {\n        if (formInvalid) {\n            if (loadingSelectedData) {\n                toast.error('Aguarde carregar as empresas antes de criar.');\n                return;\n            }\n            if (selectedInvalid) {\n                toast.error('Selecione pelo menos 1 empresa para SELECTED.');\n                return;\n            }\n            if (!logoUrl.trim()) {\n                toast.error('Logo é obrigatória.');\n                return;\n            }\n            toast.error('Preencha os campos obrigatórios antes de criar.');\n            return;\n        }\n\n        const payload = buildPayload();\n\n        if (!payload.name) {\n            toast.error('Nome é obrigatório.');\n            return;\n        }\n\n        if (!payload.logoUrl) {\n            toast.error('Logo é obrigatória.');\n            return;\n        }\n\n        // ✅ valida também no client (pra não depender do backend)\n        if (!isValidPartnerLogoUrl(payload.logoUrl)) {\n            toast.error(\n                'logoUrl inválida. Envie uma imagem (/media ou /uploads) ou forneça uma URL http(s) válida.'\n            );\n            return;\n        }\n\n        const pct = Number(payload.discountPct);\n        if (!Number.isFinite(pct) || pct < 0 || pct > 100) {\n            toast.error('Desconto inválido (0 a 100).');\n            return;\n        }\n\n        const so = Number(payload.sortOrder);\n        if (!Number.isFinite(so) || so < 0) {\n            toast.error('Ordem inválida (0 ou maior).');\n            return;\n        }\n\n        const cta = normalizeCtaUrl(payload.ctaUrl);\n        if (!cta) {\n            toast.error('CTA URL inválida. Use http(s) ou comece com www.');\n            return;\n        }\n\n        startTransition(async () => {\n            try {\n                const res = await fetch('/api/plataform/partners', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({ ...payload, ctaUrl: cta }),\n                });\n\n                const json = (await res.json().catch(() => null)) as\n                    | { ok: true; data?: any }\n                    | { ok: false; error?: string }\n                    | null;\n\n                if (!res.ok || !json || (json as any).ok !== true) {\n                    const msg =\n                        (json as any)?.error ||\n                        'Não foi possível criar o parceiro. Tente novamente.';\n                    toast.error(msg);\n                    return;\n                }\n\n                toast.success('Parceiro criado com sucesso!');\n                setOpen(false);\n                router.refresh();\n            } catch {\n                toast.error('Erro de rede ao criar parceiro.');\n            }\n        });\n    }\n\n    const previewUrl = logoUrl.trim() ? logoUrl.trim() : null;\n\n    function toggleCompany(id: string) {\n        setSelectedCompanyIds((prev) => {\n            if (prev.includes(id)) return prev.filter((x) => x !== id);\n            return [...prev, id];\n        });\n    }\n\n    function selectAllFiltered() {\n        const ids = filteredCompanies.map((c) => c.id);\n        setSelectedCompanyIds((prev) => {\n            const set = new Set(prev);\n            ids.forEach((id) => set.add(id));\n            return Array.from(set);\n        });\n    }\n\n    function clearAll() {\n        setSelectedCompanyIds([]);\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onOpenChange={(v) => !isPending && !uploadingImage && setOpen(v)}\n        >\n            <DialogTrigger asChild>\n                <Button variant=\"brand\">Novo parceiro</Button>\n            </DialogTrigger>\n\n            <DialogContent className=\"bg-background-secondary border border-border-primary max-h-[80vh] overflow-y-auto\">\n                <DialogHeader>\n                    <DialogTitle className=\"text-title text-content-primary\">\n                        Novo parceiro\n                    </DialogTitle>\n                </DialogHeader>\n\n                <div className=\"space-y-4 pb-2\">\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Nome do parceiro{' '}\n                            <span className=\"text-red-500\">*</span>\n                        </label>\n                        <IconInput\n                            icon={Handshake}\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                            disabled={isPending}\n                            className={INPUT_BASE}\n                        />\n                    </div>\n\n                    {/* LOGO (UPLOAD) */}\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Logo / imagem{' '}\n                            <span className=\"text-red-500\">*</span>\n                        </label>\n\n                        <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            className=\"hidden\"\n                            disabled={isPending || uploadingImage}\n                            onChange={(e) => {\n                                const f = e.currentTarget.files?.[0];\n                                if (!f) return;\n                                void uploadImage(f);\n                            }}\n                        />\n\n                        <div className=\"grid gap-3 sm:grid-cols-[1fr_auto] sm:items-start\">\n                            <div className=\"space-y-2\">\n                                <div className=\"relative\">\n                                    <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                                        <ImageIcon className=\"h-4 w-4 text-content-brand\" />\n                                    </div>\n\n                                    <Input\n                                        value={previewUrl ?? ''}\n                                        readOnly\n                                        placeholder=\"Escolha seu arquivo clicando em Upload.\"\n                                        className={cn(\n                                            'pl-10 pr-10',\n                                            INPUT_BASE\n                                        )}\n                                    />\n\n                                    {previewUrl ? (\n                                        <button\n                                            type=\"button\"\n                                            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-content-secondary hover:text-content-primary\"\n                                            onClick={() => {\n                                                setLogoUrl('');\n                                                setLogoKey('');\n                                                setPreviewBroken(false);\n                                                if (fileInputRef.current)\n                                                    fileInputRef.current.value =\n                                                        '';\n                                            }}\n                                            disabled={\n                                                isPending || uploadingImage\n                                            }\n                                            title=\"Remover imagem\"\n                                        >\n                                            <X className=\"h-4 w-4\" />\n                                        </button>\n                                    ) : null}\n                                </div>\n\n                                {logoKey ? (\n                                    <p className=\"text-[11px] text-content-secondary/70\">\n                                        key:{' '}\n                                        <span className=\"text-content-primary\">\n                                            {logoKey}\n                                        </span>\n                                    </p>\n                                ) : null}\n                            </div>\n\n                            <Button\n                                type=\"button\"\n                                variant=\"brand\"\n                                className=\"h-10\"\n                                onClick={() => fileInputRef.current?.click()}\n                                disabled={isPending || uploadingImage}\n                                title={\n                                    uploadingImage ? 'Enviando...' : undefined\n                                }\n                            >\n                                <span className=\"inline-flex items-center gap-2\">\n                                    <Upload className=\"h-4 w-4\" />\n                                    {uploadingImage ? 'Enviando...' : 'Upload'}\n                                </span>\n                            </Button>\n                        </div>\n\n                        {/* ✅ preview com fallback se quebrar */}\n                        {previewUrl ? (\n                            <div className=\"overflow-hidden rounded-xl border border-border-primary bg-background-tertiary\">\n                                <div className=\"h-40 w-full flex items-center justify-center\">\n                                    {/* eslint-disable-next-line @next/next/no-img-element */}\n                                    {!previewBroken ? (\n                                        <img\n                                            src={previewUrl}\n                                            alt=\"Preview da logo\"\n                                            className=\"h-40 w-full object-cover\"\n                                            onError={() =>\n                                                setPreviewBroken(true)\n                                            }\n                                        />\n                                    ) : (\n                                        <div className=\"h-40 w-full flex items-center justify-center\">\n                                            <div className=\"h-16 w-16 rounded-2xl border border-border-primary bg-background-secondary flex items-center justify-center\">\n                                                <span className=\"text-sm font-semibold text-content-secondary\">\n                                                    {initials(name)}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ) : null}\n                    </div>\n\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Desconto (%)\n                            </label>\n                            <IconInput\n                                icon={BadgePercent}\n                                value={discountPct}\n                                onChange={(e) => setDiscountPct(e.target.value)}\n                                disabled={isPending}\n                                inputMode=\"numeric\"\n                                placeholder=\"Ex: 10\"\n                                className={INPUT_BASE}\n                            />\n                            <p className=\"text-[11px] text-content-secondary/70\">\n                                O servidor normaliza para 0–100.\n                            </p>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Ordem (menor aparece primeiro){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n                            <IconInput\n                                icon={ListOrdered}\n                                value={sortOrder}\n                                onChange={(e) => setSortOrder(e.target.value)}\n                                disabled={isPending}\n                                inputMode=\"numeric\"\n                                placeholder=\"Ex: 100\"\n                                className={INPUT_BASE}\n                            />\n                        </div>\n                    </div>\n\n                    {/* VISIBILIDADE */}\n                    <div className=\"space-y-2 rounded-xl border border-border-primary bg-background-tertiary p-3\">\n                        <div className=\"flex items-start justify-between gap-4\">\n                            <div>\n                                <p className=\"text-sm font-medium text-content-primary\">\n                                    Visibilidade\n                                </p>\n                            </div>\n                        </div>\n\n                        <Select\n                            value={visibilityMode}\n                            onValueChange={(v) =>\n                                setVisibilityMode(v as PartnerVisibilityMode)\n                            }\n                            disabled={isPending}\n                        >\n                            <SelectTrigger className={SELECT_TRIGGER}>\n                                <div className=\"flex items-center gap-2\">\n                                    <SlidersHorizontal className=\"h-4 w-4 text-content-brand\" />\n                                    <SelectValue placeholder=\"Selecione\" />\n                                </div>\n                            </SelectTrigger>\n                            <SelectContent>\n                                <SelectItem value=\"ALL\">\n                                    Todas as empresas\n                                </SelectItem>\n                                <SelectItem value=\"SELECTED\">\n                                    Empresas selecionadas\n                                </SelectItem>\n                            </SelectContent>\n                        </Select>\n\n                        {visibilityMode === 'SELECTED' ? (\n                            <div className=\"mt-3 space-y-2\">\n                                <div className=\"flex items-center justify-between gap-2\">\n                                    <p className=\"text-xs font-medium text-content-primary\">\n                                        Empresas selecionadas (\n                                        {selectedCompanyIds.length})\n                                    </p>\n\n                                    <div className=\"flex items-center gap-2\">\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"outline\"\n                                            className=\"h-8 px-3\"\n                                            onClick={selectAllFiltered}\n                                            disabled={\n                                                companiesLoading || isPending\n                                            }\n                                            title=\"Selecionar todas as empresas filtradas\"\n                                        >\n                                            <span className=\"inline-flex items-center gap-2 text-xs\">\n                                                <Check className=\"h-4 w-4\" />\n                                                Selecionar\n                                            </span>\n                                        </Button>\n\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"ghost\"\n                                            className=\"h-8 px-3\"\n                                            onClick={clearAll}\n                                            disabled={\n                                                companiesLoading || isPending\n                                            }\n                                            title=\"Limpar seleção\"\n                                        >\n                                            <span className=\"text-xs\">\n                                                Limpar\n                                            </span>\n                                        </Button>\n                                    </div>\n                                </div>\n\n                                <div className=\"relative\">\n                                    <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                                        <Search className=\"h-4 w-4 text-content-brand\" />\n                                    </div>\n                                    <Input\n                                        value={companiesQuery}\n                                        onChange={(e) =>\n                                            setCompaniesQuery(e.target.value)\n                                        }\n                                        disabled={companiesLoading || isPending}\n                                        placeholder=\"Buscar empresa...\"\n                                        className={cn('pl-10', INPUT_BASE)}\n                                    />\n                                </div>\n\n                                <div className=\"rounded-xl border border-border-primary bg-background-secondary p-2\">\n                                    {companiesLoading ? (\n                                        <div className=\"flex items-center gap-2 p-2 text-xs text-content-secondary\">\n                                            <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                            Carregando empresas...\n                                        </div>\n                                    ) : filteredCompanies.length === 0 ? (\n                                        <div className=\"p-2 text-xs text-content-secondary\">\n                                            Nenhuma empresa encontrada.\n                                        </div>\n                                    ) : (\n                                        <div className=\"max-h-56 overflow-y-auto\">\n                                            {filteredCompanies.map((c) => {\n                                                const checked =\n                                                    selectedCompanyIds.includes(\n                                                        c.id\n                                                    );\n\n                                                return (\n                                                    <label\n                                                        key={c.id}\n                                                        className={cn(\n                                                            'flex cursor-pointer items-center justify-between gap-3 rounded-lg px-3 py-2 hover:bg-background-tertiary',\n                                                            checked\n                                                                ? 'bg-background-tertiary'\n                                                                : ''\n                                                        )}\n                                                    >\n                                                        <div className=\"flex items-center gap-2\">\n                                                            <Building2 className=\"h-4 w-4 text-content-brand\" />\n                                                            <span className=\"text-sm text-content-primary\">\n                                                                {c.name}\n                                                            </span>\n                                                            {c.isActive ===\n                                                            false ? (\n                                                                <span className=\"rounded-md bg-red-500/10 px-2 py-0.5 text-[11px] text-red-500\">\n                                                                    inativa\n                                                                </span>\n                                                            ) : null}\n                                                        </div>\n\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            checked={checked}\n                                                            onChange={() =>\n                                                                toggleCompany(\n                                                                    c.id\n                                                                )\n                                                            }\n                                                            disabled={isPending}\n                                                            className=\"h-4 w-4 accent-(--brand)\"\n                                                        />\n                                                    </label>\n                                                );\n                                            })}\n                                        </div>\n                                    )}\n                                </div>\n\n                                {selectedInvalid ? (\n                                    <p className=\"text-[11px] text-red-500\">\n                                        Se estiver em SELECTED, você precisa\n                                        selecionar pelo menos 1 empresa.\n                                    </p>\n                                ) : (\n                                    <p className=\"text-[11px] text-content-secondary/70\">\n                                        Essas empresas vão no payload como{' '}\n                                        <span className=\"text-content-primary\">\n                                            companyIds\n                                        </span>{' '}\n                                        para o backend criar os vínculos.\n                                    </p>\n                                )}\n                            </div>\n                        ) : (\n                            <p className=\"mt-2 text-[11px] text-content-secondary/70\">\n                                Em ALL, não precisa selecionar empresas.\n                            </p>\n                        )}\n                    </div>\n\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Link do parceiro (ctaUrl){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n                            <IconInput\n                                icon={LinkIcon}\n                                value={ctaUrl}\n                                onChange={(e) => setCtaUrl(e.target.value)}\n                                disabled={isPending}\n                                placeholder=\"https://... ou www...\"\n                                className={INPUT_SECONDARY}\n                            />\n                            <p className=\"text-[11px] text-content-secondary/70\">\n                                Aceita http(s) e “www.” (o servidor normaliza).\n                            </p>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Texto do botão (ctaLabel){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n                            <IconInput\n                                icon={ArrowRight}\n                                value={ctaLabel}\n                                onChange={(e) => setCtaLabel(e.target.value)}\n                                disabled={isPending}\n                                className={INPUT_SECONDARY}\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Descrição\n                        </label>\n                        <div className=\"relative\">\n                            <div className=\"pointer-events-none absolute left-3 top-3\">\n                                <AlignLeft className=\"h-4 w-4 text-content-brand\" />\n                            </div>\n                            <Textarea\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                disabled={isPending}\n                                rows={3}\n                                className={cn('pl-10', INPUT_BASE)}\n                                placeholder=\"Sobre o parceiro...\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-label-small text-content-secondary\">\n                            Regras\n                        </label>\n                        <div className=\"relative\">\n                            <div className=\"pointer-events-none absolute left-3 top-3\">\n                                <FileText className=\"h-4 w-4 text-content-brand\" />\n                            </div>\n                            <Textarea\n                                value={rules}\n                                onChange={(e) => setRules(e.target.value)}\n                                disabled={isPending}\n                                rows={3}\n                                className={cn('pl-10', INPUT_BASE)}\n                                placeholder=\"Condições e regras...\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"flex justify-end gap-2 pt-2\">\n                        <Button\n                            type=\"button\"\n                            variant=\"brand\"\n                            disabled={isPending || formInvalid}\n                            onClick={handleCreate}\n                            title={\n                                loadingSelectedData\n                                    ? 'Aguarde carregar as empresas'\n                                    : uploadingImage\n                                      ? 'Aguarde o upload da imagem'\n                                      : selectedInvalid\n                                        ? 'Selecione pelo menos 1 empresa'\n                                        : requiredInvalid\n                                          ? 'Preencha os campos obrigatórios'\n                                          : undefined\n                            }\n                        >\n                            {isPending ? 'Criando...' : 'Criar parceiro'}\n                        </Button>\n                    </div>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 5H3', key: '1qgfaw' }],\n  ['path', { d: 'M12 19H3', key: 'yhmn1j' }],\n  ['path', { d: 'M14 3v4', key: '1sua03' }],\n  ['path', { d: 'M16 17v4', key: '1q0r14' }],\n  ['path', { d: 'M21 12h-9', key: '1o4lsq' }],\n  ['path', { d: 'M21 19h-5', key: '1rlt1p' }],\n  ['path', { d: 'M21 5h-7', key: '1oszz2' }],\n  ['path', { d: 'M8 10v4', key: 'tgpxqk' }],\n  ['path', { d: 'M8 12H3', key: 'a7s4jb' }],\n];\n\n/**\n * @component @name SlidersHorizontal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgNUgzIiAvPgogIDxwYXRoIGQ9Ik0xMiAxOUgzIiAvPgogIDxwYXRoIGQ9Ik0xNCAzdjQiIC8+CiAgPHBhdGggZD0iTTE2IDE3djQiIC8+CiAgPHBhdGggZD0iTTIxIDEyaC05IiAvPgogIDxwYXRoIGQ9Ik0yMSAxOWgtNSIgLz4KICA8cGF0aCBkPSJNMjEgNWgtNyIgLz4KICA8cGF0aCBkPSJNOCAxMHY0IiAvPgogIDxwYXRoIGQ9Ik04IDEySDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sliders-horizontal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SlidersHorizontal = createLucideIcon('sliders-horizontal', __iconNode);\n\nexport default SlidersHorizontal;\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,6,8]}