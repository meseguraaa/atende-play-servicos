{"version":3,"sources":["turbopack:///[project]/src/components/admin/setting/unit-availability-card/unit-availability-card.tsx","turbopack:///[project]/src/app/admin/setting/admin-settings-client.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/toggle-right.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/hash.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/map-pin.ts"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogDescription,\n    DialogFooter,\n} from '@/components/ui/dialog';\n\nimport { Calendar as UICalendar } from '@/components/ui/calendar';\nimport {\n    Popover,\n    PopoverContent,\n    PopoverTrigger,\n} from '@/components/ui/popover';\n\nimport { format, isValid } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\n\nimport { Calendar as CalendarIcon, ChevronDown, Clock } from 'lucide-react';\nimport { toast } from 'sonner';\n\nconst WEEKDAY_SHORT = [\n    'Dom',\n    'Seg',\n    'Ter',\n    'Qua',\n    'Qui',\n    'Sex',\n    'S√°b',\n] as const;\n\nconst WEEKDAY_FULL = [\n    'Domingo',\n    'Segunda',\n    'Ter√ßa',\n    'Quarta',\n    'Quinta',\n    'Sexta',\n    'S√°bado',\n] as const;\n\nexport type WeeklyDayUI = {\n    isActive: boolean;\n    startTime: string;\n    endTime: string;\n};\n\ntype Props = {\n    unitId: string;\n\n    weekly: Record<number, WeeklyDayUI> | undefined;\n\n    setWeeklyByUnitId: React.Dispatch<\n        React.SetStateAction<Record<string, Record<number, WeeklyDayUI>>>\n    >;\n\n    onSubmitWeekly: (unitId: string, e: React.FormEvent) => void;\n\n    onCreateException?: () => void; // (mantido por compatibilidade; n√£o usamos mais aqui)\n};\n\ntype ApiOk<T> = { ok: true; data: T };\ntype ApiErr = { ok: false; error: string };\ntype ApiResp<T> = ApiOk<T> | ApiErr;\n\ntype UnitExceptionApi = {\n    id: string;\n    date: string; // \"YYYY-MM-DD\"\n    isClosed: boolean;\n    intervals: Array<{\n        id: string;\n        startTime: string; // \"HH:mm\"\n        endTime: string; // \"HH:mm\"\n    }>;\n};\n\ntype ExceptionMode = 'FULL_DAY' | 'INTERVALS';\n\ntype IntervalUI = {\n    startTime: string;\n    endTime: string;\n};\n\n// ‚úÖ 00:00 ‚Üí 23:30 (30 em 30)\nconst TIME_OPTIONS = (() => {\n    const times: string[] = [];\n    for (let hour = 0; hour <= 23; hour++) {\n        for (let minute = 0; minute < 60; minute += 30) {\n            times.push(\n                `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`\n            );\n        }\n    }\n    return times; // inclui 23:30\n})();\n\nfunction safeApiError(json: unknown): string {\n    if (\n        json &&\n        typeof json === 'object' &&\n        'ok' in json &&\n        (json as any).ok === false &&\n        typeof (json as any).error === 'string'\n    ) {\n        return String((json as any).error);\n    }\n    return 'internal_error';\n}\n\nfunction toExceptionMessage(code: string) {\n    const map: Record<string, string> = {\n        forbidden_owner_only: 'Somente o dono pode criar exce√ß√µes.',\n        unit_not_found: 'N√£o foi poss√≠vel encontrar essa unidade.',\n        unit_id_required: 'Unidade inv√°lida.',\n        exception_id_required: 'Exce√ß√£o inv√°lida.',\n        invalid_json: 'Erro ao enviar dados. Tente novamente.',\n        date_required: 'Informe uma data v√°lida.',\n        invalid_time_format: 'Informe hor√°rio no formato correto (HH:mm).',\n        invalid_time_range: 'O hor√°rio final deve ser maior que o inicial.',\n        intervals_overlap: 'Os intervalos n√£o podem se sobrepor.',\n        unauthorized: 'Voc√™ n√£o tem permiss√£o para realizar esta a√ß√£o.',\n        internal_error: 'Erro interno. Tente novamente.',\n        exception_not_found: 'Exce√ß√£o n√£o encontrada.',\n    };\n\n    return map[code] ?? 'Algo deu errado. Tente novamente.';\n}\n\nfunction isValidHHmm(v: string) {\n    return /^([01]\\d|2[0-3]):([0-5]\\d)$/.test(v.trim());\n}\n\nfunction timeToMinutes(hhmm: string) {\n    const [h, m] = hhmm.split(':').map(Number);\n    return h * 60 + m;\n}\n\nfunction todayISO() {\n    // \"YYYY-MM-DD\" no timezone local do navegador\n    const d = new Date();\n    const y = d.getFullYear();\n    const m = String(d.getMonth() + 1).padStart(2, '0');\n    const day = String(d.getDate()).padStart(2, '0');\n    return `${y}-${m}-${day}`;\n}\n\nfunction parseISODateToDate(dateISO: string): Date | null {\n    if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(dateISO)) return null;\n    const [y, m, d] = dateISO.split('-').map(Number);\n    if (!y || !m || !d) return null;\n    const parsed = new Date(y, m - 1, d);\n    return isValid(parsed) ? parsed : null;\n}\n\nfunction formatDateBR(iso: string) {\n    // iso \"YYYY-MM-DD\"\n    const [y, m, d] = iso.split('-').map(Number);\n    if (!y || !m || !d) return iso;\n    try {\n        return new Intl.DateTimeFormat('pt-BR', {\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n        }).format(new Date(y, m - 1, d));\n    } catch {\n        return iso;\n    }\n}\n\nfunction sortExceptionsDesc(list: UnitExceptionApi[]) {\n    return [...list].sort((a, b) => {\n        // \"YYYY-MM-DD\" ordena lexicograficamente igual √† ordem de data\n        if (a.date === b.date) return 0;\n        return a.date < b.date ? 1 : -1;\n    });\n}\n\n/**\n * Pega weekday (0-6) a partir de \"YYYY-MM-DD\" no timezone local do browser.\n * Obs: isso √© OK para UI; no backend voc√™ j√° est√° tratando UTC pro armazenamento.\n */\nfunction weekdayFromISODate(dateISO: string): number | null {\n    if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(dateISO)) return null;\n    const [y, m, d] = dateISO.split('-').map(Number);\n    if (!y || !m || !d) return null;\n    const dt = new Date(y, m - 1, d);\n    const wd = dt.getDay();\n    return Number.isFinite(wd) ? wd : null;\n}\n\nfunction sortIntervalsAsc<T extends { startTime: string; endTime: string }>(\n    list: T[]\n) {\n    return [...list].sort(\n        (a, b) =>\n            timeToMinutes(a.startTime) - timeToMinutes(b.startTime) ||\n            timeToMinutes(a.endTime) - timeToMinutes(b.endTime)\n    );\n}\n\nfunction hasOverlap(list: Array<{ startTime: string; endTime: string }>) {\n    const sorted = sortIntervalsAsc(list);\n    for (let i = 1; i < sorted.length; i++) {\n        const prevEnd = timeToMinutes(sorted[i - 1].endTime);\n        const currStart = timeToMinutes(sorted[i].startTime);\n        if (currStart < prevEnd) return true;\n    }\n    return false;\n}\n\nexport function UnitAvailabilityCard({\n    unitId,\n    weekly,\n    setWeeklyByUnitId,\n    onSubmitWeekly,\n}: Props) {\n    const days = React.useMemo(() => {\n        const w = weekly || {};\n        return Array.from({ length: 7 }).map((_, weekday) => {\n            const d = w[weekday] || {\n                isActive: false,\n                startTime: '',\n                endTime: '',\n            };\n\n            return {\n                weekday,\n                short: WEEKDAY_SHORT[weekday] ?? `Dia ${weekday}`,\n                full: WEEKDAY_FULL[weekday] ?? `Dia ${weekday}`,\n                isActive: d.isActive,\n                startTime: d.startTime,\n                endTime: d.endTime,\n            };\n        });\n    }, [weekly]);\n\n    const hasAnyWeeklyError = React.useMemo(() => {\n        return days.some((d) => {\n            if (!d.isActive) return false;\n            const s = String(d.startTime || '').trim();\n            const e = String(d.endTime || '').trim();\n            if (!isValidHHmm(s) || !isValidHHmm(e)) return false; // mant√©m compat: vazio n√£o ‚Äúquebra‚Äù\n            return timeToMinutes(s) >= timeToMinutes(e);\n        });\n    }, [days]);\n\n    // =========================\n    // EXCE√á√ïES (LISTAR)\n    // =========================\n    const [exceptions, setExceptions] = React.useState<UnitExceptionApi[]>([]);\n    const [exceptionsLoading, setExceptionsLoading] = React.useState(true);\n    const [exceptionsError, setExceptionsError] = React.useState<string | null>(\n        null\n    );\n\n    const exceptionsAbortRef = React.useRef<AbortController | null>(null);\n\n    const fetchExceptions = React.useCallback(async () => {\n        setExceptionsLoading(true);\n        setExceptionsError(null);\n\n        if (exceptionsAbortRef.current) exceptionsAbortRef.current.abort();\n        const controller = new AbortController();\n        exceptionsAbortRef.current = controller;\n\n        try {\n            const res = await fetch(\n                `/api/admin/settings/units/${unitId}/exceptions`,\n                {\n                    method: 'GET',\n                    headers: { 'Content-Type': 'application/json' },\n                    signal: controller.signal,\n                }\n            );\n\n            let json: ApiResp<UnitExceptionApi[]> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<UnitExceptionApi[]>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                const msg = toExceptionMessage(code);\n                setExceptions([]);\n                setExceptionsError(msg);\n                return;\n            }\n\n            const data = Array.isArray(json.data) ? json.data : [];\n            setExceptions(sortExceptionsDesc(data));\n        } catch (err: any) {\n            if (err?.name === 'AbortError') return;\n            setExceptions([]);\n            setExceptionsError(\n                'N√£o foi poss√≠vel carregar as exce√ß√µes. Verifique sua conex√£o.'\n            );\n        } finally {\n            setExceptionsLoading(false);\n        }\n    }, [unitId]);\n\n    React.useEffect(() => {\n        fetchExceptions();\n        return () => {\n            if (exceptionsAbortRef.current) exceptionsAbortRef.current.abort();\n        };\n    }, [fetchExceptions]);\n\n    // =========================\n    // EXCE√á√ïES (REMOVER)\n    // =========================\n    const [deletingExceptionId, setDeletingExceptionId] = React.useState<\n        string | null\n    >(null);\n\n    async function handleDeleteException(exceptionId: string) {\n        if (!exceptionId) return;\n\n        setDeletingExceptionId(exceptionId);\n        try {\n            const res = await fetch(\n                `/api/admin/settings/units/${unitId}/exceptions/${exceptionId}`,\n                {\n                    method: 'DELETE',\n                    headers: { 'Content-Type': 'application/json' },\n                }\n            );\n\n            let json: ApiResp<unknown> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<unknown>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toExceptionMessage(code));\n                return;\n            }\n\n            toast.success('Exce√ß√£o removida ‚úÖ');\n            await fetchExceptions();\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel remover a exce√ß√£o. Verifique a conex√£o.'\n            );\n        } finally {\n            setDeletingExceptionId(null);\n        }\n    }\n\n    // =========================\n    // MODAL: CRIAR EXCE√á√ÉO (PAUSA/BLOQUEIO)\n    // =========================\n    const [exceptionOpen, setExceptionOpen] = React.useState(false);\n    const [exceptionSaving, setExceptionSaving] = React.useState(false);\n\n    const [datePopoverOpen, setDatePopoverOpen] = React.useState(false);\n\n    const [exceptionForm, setExceptionForm] = React.useState<{\n        date: string;\n        mode: ExceptionMode;\n        intervals: IntervalUI[];\n    }>({\n        date: todayISO(),\n        mode: 'INTERVALS',\n        intervals: [{ startTime: '12:00', endTime: '14:00' }],\n    });\n\n    const selectedDate = React.useMemo(() => {\n        return parseISODateToDate(exceptionForm.date) ?? new Date();\n    }, [exceptionForm.date]);\n\n    function resetExceptionForm() {\n        setExceptionForm({\n            date: todayISO(),\n            mode: 'INTERVALS',\n            intervals: [{ startTime: '12:00', endTime: '14:00' }],\n        });\n        setDatePopoverOpen(false);\n    }\n\n    function openExceptionModal() {\n        resetExceptionForm();\n        setExceptionOpen(true);\n    }\n\n    function closeExceptionModal() {\n        if (exceptionSaving) return;\n        setExceptionOpen(false);\n        setDatePopoverOpen(false);\n    }\n\n    function addInterval() {\n        setExceptionForm((p) => ({\n            ...p,\n            mode: 'INTERVALS',\n            intervals: [\n                ...p.intervals,\n                { startTime: '12:00', endTime: '14:00' },\n            ],\n        }));\n    }\n\n    function removeInterval(idx: number) {\n        setExceptionForm((p) => {\n            const next = [...p.intervals];\n            next.splice(idx, 1);\n            return {\n                ...p,\n                intervals: next.length\n                    ? next\n                    : [{ startTime: '12:00', endTime: '14:00' }],\n            };\n        });\n    }\n\n    function updateInterval(idx: number, patch: Partial<IntervalUI>) {\n        setExceptionForm((p) => {\n            const next = [...p.intervals];\n            next[idx] = { ...next[idx], ...patch };\n            return { ...p, intervals: next };\n        });\n    }\n\n    function resolveFullDayRange(\n        dateISO: string\n    ): { startTime: string; endTime: string } | null {\n        const wd = weekdayFromISODate(dateISO);\n        if (wd === null) return null;\n\n        const day = weekly?.[wd];\n        if (!day?.isActive) return null;\n\n        const startTime = String(day.startTime || '').trim();\n        const endTime = String(day.endTime || '').trim();\n\n        if (!isValidHHmm(startTime) || !isValidHHmm(endTime)) return null;\n\n        const sMin = timeToMinutes(startTime);\n        const eMin = timeToMinutes(endTime);\n        if (eMin <= sMin) return null;\n\n        return { startTime, endTime };\n    }\n\n    async function handleCreateException(e: React.FormEvent) {\n        e.preventDefault();\n\n        const date = String(exceptionForm.date || '').trim();\n        const mode = exceptionForm.mode;\n\n        if (!date || !/^\\d{4}-\\d{2}-\\d{2}$/.test(date)) {\n            toast.error('Informe uma data v√°lida.');\n            return;\n        }\n\n        let intervalsToSend: IntervalUI[] = [];\n\n        if (mode === 'FULL_DAY') {\n            const range = resolveFullDayRange(date);\n            if (!range) {\n                const wd = weekdayFromISODate(date);\n                const dayName =\n                    wd !== null ? (WEEKDAY_FULL[wd] ?? `Dia ${wd}`) : 'o dia';\n                toast.error(\n                    `N√£o d√° pra bloquear o dia inteiro: ${dayName} n√£o est√° com hor√°rio v√°lido no padr√£o semanal.`\n                );\n                return;\n            }\n\n            intervalsToSend = [range];\n        } else {\n            // INTERVALS\n            const intervals = exceptionForm.intervals.map((it) => ({\n                startTime: String(it.startTime || '').trim(),\n                endTime: String(it.endTime || '').trim(),\n            }));\n\n            for (let i = 0; i < intervals.length; i++) {\n                const it = intervals[i];\n\n                if (!isValidHHmm(it.startTime) || !isValidHHmm(it.endTime)) {\n                    toast.error(`Intervalo #${i + 1}: hor√°rios inv√°lidos.`);\n                    return;\n                }\n\n                const sMin = timeToMinutes(it.startTime);\n                const eMin = timeToMinutes(it.endTime);\n                if (eMin <= sMin) {\n                    toast.error(\n                        `Intervalo #${i + 1}: o hor√°rio final deve ser maior que o inicial.`\n                    );\n                    return;\n                }\n            }\n\n            if (hasOverlap(intervals)) {\n                toast.error('Os intervalos n√£o podem se sobrepor.');\n                return;\n            }\n\n            intervalsToSend = sortIntervalsAsc(intervals);\n        }\n\n        setExceptionSaving(true);\n        try {\n            const res = await fetch(\n                `/api/admin/settings/units/${unitId}/exceptions`,\n                {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        date,\n                        mode,\n                        intervals: intervalsToSend,\n                    }),\n                }\n            );\n\n            let json: ApiResp<unknown> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<unknown>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toExceptionMessage(code));\n                return;\n            }\n\n            toast.success(\n                mode === 'FULL_DAY'\n                    ? 'Exce√ß√£o criada (dia inteiro) ‚úÖ'\n                    : 'Exce√ß√£o criada ‚úÖ'\n            );\n            setExceptionOpen(false);\n\n            // ‚úÖ refresh da lista\n            await fetchExceptions();\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel criar a exce√ß√£o. Verifique a conex√£o.'\n            );\n        } finally {\n            setExceptionSaving(false);\n        }\n    }\n\n    return (\n        <div className=\"rounded-2xl border border-border-primary bg-background-secondary p-4 space-y-4\">\n            {/* =========================\n             * MODAL: CRIAR EXCE√á√ÉO\n             * ========================= */}\n            <Dialog\n                open={exceptionOpen}\n                onOpenChange={(v) =>\n                    v ? setExceptionOpen(true) : closeExceptionModal()\n                }\n            >\n                <DialogContent\n                    variant=\"appointment\"\n                    overlayVariant=\"blurred\"\n                    showCloseButton\n                    className=\"sm:max-w-[720px]\"\n                >\n                    <DialogHeader>\n                        <DialogTitle size=\"modal\">Criar exce√ß√£o</DialogTitle>\n                        <DialogDescription size=\"modal\">\n                            Bloqueie o dia inteiro (com base no padr√£o semanal)\n                            ou crie pausas por intervalos.\n                        </DialogDescription>\n                    </DialogHeader>\n\n                    <form\n                        onSubmit={handleCreateException}\n                        className=\"space-y-4\"\n                    >\n                        {/* DATA + TIPO */}\n                        <div className=\"grid gap-4 md:grid-cols-2\">\n                            {/* DATA (DatePicker style ‚úÖ) */}\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Data\n                                </label>\n\n                                <Popover\n                                    open={datePopoverOpen}\n                                    onOpenChange={setDatePopoverOpen}\n                                >\n                                    <PopoverTrigger asChild>\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"outline\"\n                                            className=\"w-full justify-between text-left font-normal bg-transparent border-border-primary text-content-primary hover:bg-background-tertiary hover:border-border-secondary hover:text-content-primary focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand focus:border-border-brand focus-visible:border-border-brand\"\n                                            disabled={exceptionSaving}\n                                        >\n                                            <div className=\"flex items-center gap-2\">\n                                                <CalendarIcon className=\"h-4 w-4 text-content-brand\" />\n                                                {selectedDate ? (\n                                                    format(\n                                                        selectedDate,\n                                                        'dd/MM/yyyy',\n                                                        {\n                                                            locale: ptBR,\n                                                        }\n                                                    )\n                                                ) : (\n                                                    <span>\n                                                        Selecione uma data\n                                                    </span>\n                                                )}\n                                            </div>\n                                            <ChevronDown className=\"h-4 w-4 opacity-50\" />\n                                        </Button>\n                                    </PopoverTrigger>\n\n                                    <PopoverContent className=\"w-auto p-0\">\n                                        <UICalendar\n                                            mode=\"single\"\n                                            selected={selectedDate}\n                                            onSelect={(d) => {\n                                                if (!d) return;\n                                                setExceptionForm((p) => ({\n                                                    ...p,\n                                                    date: format(\n                                                        d,\n                                                        'yyyy-MM-dd'\n                                                    ),\n                                                }));\n                                                setDatePopoverOpen(false);\n                                            }}\n                                            autoFocus\n                                            locale={ptBR}\n                                        />\n                                    </PopoverContent>\n                                </Popover>\n\n                                <p className=\"text-[11px] text-content-secondary/70\">\n                                    Selecione uma data para criar o bloqueio.\n                                </p>\n                            </div>\n\n                            {/* TIPO */}\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Tipo de bloqueio\n                                </label>\n\n                                <Select\n                                    value={exceptionForm.mode}\n                                    onValueChange={(v) =>\n                                        setExceptionForm((p) => ({\n                                            ...p,\n                                            mode: v as ExceptionMode,\n                                        }))\n                                    }\n                                    disabled={exceptionSaving}\n                                >\n                                    <SelectTrigger className=\"h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Clock className=\"h-4 w-4 text-content-brand\" />\n                                            <SelectValue placeholder=\"Selecione\" />\n                                        </div>\n                                    </SelectTrigger>\n\n                                    <SelectContent>\n                                        <SelectItem value=\"FULL_DAY\">\n                                            Dia inteiro\n                                        </SelectItem>\n                                        <SelectItem value=\"INTERVALS\">\n                                            Intervalos\n                                        </SelectItem>\n                                    </SelectContent>\n                                </Select>\n\n                                <p className=\"text-[11px] text-content-secondary/70\">\n                                    {exceptionForm.mode === 'FULL_DAY'\n                                        ? 'Vai bloquear o per√≠odo de atendimento do dia, baseado no padr√£o semanal.'\n                                        : 'Voc√™ pode adicionar v√°rios intervalos de pausa/bloqueio.'}\n                                </p>\n                            </div>\n                        </div>\n\n                        {/* FULL DAY */}\n                        {exceptionForm.mode === 'FULL_DAY' ? (\n                            <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-2\">\n                                {(() => {\n                                    const wd = weekdayFromISODate(\n                                        exceptionForm.date\n                                    );\n                                    const name =\n                                        wd !== null\n                                            ? (WEEKDAY_FULL[wd] ?? `Dia ${wd}`)\n                                            : '‚Äî';\n                                    const range = resolveFullDayRange(\n                                        exceptionForm.date\n                                    );\n\n                                    return (\n                                        <>\n                                            <p className=\"text-[11px] text-content-secondary\">\n                                                Dia selecionado:{' '}\n                                                <span className=\"text-content-primary font-medium\">\n                                                    {name}\n                                                </span>\n                                            </p>\n\n                                            {range ? (\n                                                <p className=\"text-[11px] text-content-secondary\">\n                                                    Hor√°rio do padr√£o semanal:{' '}\n                                                    <span className=\"text-content-primary\">\n                                                        {range.startTime} √†s{' '}\n                                                        {range.endTime}\n                                                    </span>\n                                                </p>\n                                            ) : (\n                                                <p className=\"text-[11px] text-destructive\">\n                                                    Esse dia n√£o tem hor√°rio\n                                                    v√°lido no padr√£o semanal (ou\n                                                    est√° desativado).\n                                                </p>\n                                            )}\n\n                                            <p className=\"text-[11px] text-content-secondary/70\">\n                                                Dica: ajuste o padr√£o semanal se\n                                                quiser que ‚Äúdia inteiro‚Äù\n                                                funcione nesse dia.\n                                            </p>\n                                        </>\n                                    );\n                                })()}\n                            </div>\n                        ) : (\n                            /* INTERVALS */\n                            <div className=\"space-y-3\">\n                                <div className=\"flex items-center justify-between gap-3\">\n                                    <div>\n                                        <p className=\"text-label-medium-size text-content-primary\">\n                                            Intervalos\n                                        </p>\n                                        <p className=\"text-[11px] text-content-secondary/70\">\n                                            Adicione pausas/bloqueios no dia\n                                            selecionado.\n                                        </p>\n                                    </div>\n\n                                    <Button\n                                        type=\"button\"\n                                        variant=\"outline\"\n                                        size=\"sm\"\n                                        onClick={addInterval}\n                                        disabled={exceptionSaving}\n                                    >\n                                        + Adicionar intervalo\n                                    </Button>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    {exceptionForm.intervals.map((it, idx) => (\n                                        <div\n                                            key={`${idx}-${it.startTime}-${it.endTime}`}\n                                            className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-3\"\n                                        >\n                                            <div className=\"flex items-center justify-between gap-2\">\n                                                <p className=\"text-[11px] text-content-secondary\">\n                                                    Intervalo #{idx + 1}\n                                                </p>\n\n                                                <Button\n                                                    type=\"button\"\n                                                    variant=\"outline\"\n                                                    size=\"sm\"\n                                                    onClick={() =>\n                                                        removeInterval(idx)\n                                                    }\n                                                    disabled={\n                                                        exceptionSaving ||\n                                                        exceptionForm.intervals\n                                                            .length <= 1\n                                                    }\n                                                >\n                                                    Remover\n                                                </Button>\n                                            </div>\n\n                                            <div className=\"grid gap-4 md:grid-cols-2\">\n                                                {/* IN√çCIO */}\n                                                <div className=\"space-y-2\">\n                                                    <label className=\"text-label-medium-size text-content-primary\">\n                                                        In√≠cio\n                                                    </label>\n\n                                                    <Select\n                                                        value={\n                                                            it.startTime || ''\n                                                        }\n                                                        onValueChange={(\n                                                            value\n                                                        ) =>\n                                                            updateInterval(\n                                                                idx,\n                                                                {\n                                                                    startTime:\n                                                                        value,\n                                                                }\n                                                            )\n                                                        }\n                                                        disabled={\n                                                            exceptionSaving\n                                                        }\n                                                    >\n                                                        <SelectTrigger\n                                                            className={cn(\n                                                                'h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand focus:border-border-brand focus-visible:border-border-brand'\n                                                            )}\n                                                        >\n                                                            <div className=\"flex items-center gap-2\">\n                                                                <Clock className=\"h-4 w-4 text-content-brand\" />\n                                                                <SelectValue placeholder=\"00:00\" />\n                                                            </div>\n                                                        </SelectTrigger>\n\n                                                        <SelectContent>\n                                                            {TIME_OPTIONS.map(\n                                                                (time) => (\n                                                                    <SelectItem\n                                                                        key={\n                                                                            time\n                                                                        }\n                                                                        value={\n                                                                            time\n                                                                        }\n                                                                    >\n                                                                        {time}\n                                                                    </SelectItem>\n                                                                )\n                                                            )}\n                                                        </SelectContent>\n                                                    </Select>\n                                                </div>\n\n                                                {/* FIM */}\n                                                <div className=\"space-y-2\">\n                                                    <label className=\"text-label-medium-size text-content-primary\">\n                                                        Fim\n                                                    </label>\n\n                                                    <Select\n                                                        value={it.endTime || ''}\n                                                        onValueChange={(\n                                                            value\n                                                        ) =>\n                                                            updateInterval(\n                                                                idx,\n                                                                {\n                                                                    endTime:\n                                                                        value,\n                                                                }\n                                                            )\n                                                        }\n                                                        disabled={\n                                                            exceptionSaving\n                                                        }\n                                                    >\n                                                        <SelectTrigger\n                                                            className={cn(\n                                                                'h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand focus:border-border-brand focus-visible:border-border-brand'\n                                                            )}\n                                                        >\n                                                            <div className=\"flex items-center gap-2\">\n                                                                <Clock className=\"h-4 w-4 text-content-brand\" />\n                                                                <SelectValue placeholder=\"00:00\" />\n                                                            </div>\n                                                        </SelectTrigger>\n\n                                                        <SelectContent>\n                                                            {TIME_OPTIONS.map(\n                                                                (time) => (\n                                                                    <SelectItem\n                                                                        key={\n                                                                            time\n                                                                        }\n                                                                        value={\n                                                                            time\n                                                                        }\n                                                                    >\n                                                                        {time}\n                                                                    </SelectItem>\n                                                                )\n                                                            )}\n                                                        </SelectContent>\n                                                    </Select>\n                                                </div>\n                                            </div>\n\n                                            <p className=\"text-[11px] text-content-secondary/70\">\n                                                Exemplo: <strong>12:00</strong>{' '}\n                                                at√© <strong>14:00</strong> para\n                                                a pausa do almo√ßo. ü•™\n                                            </p>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n\n                        <DialogFooter className=\"gap-2 sm:gap-3\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"edit2\"\n                                size=\"sm\"\n                                disabled={exceptionSaving}\n                            >\n                                {exceptionSaving ? 'Criando‚Ä¶' : 'Criar exce√ß√£o'}\n                            </Button>\n\n                            <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={closeExceptionModal}\n                                disabled={exceptionSaving}\n                            >\n                                Cancelar\n                            </Button>\n                        </DialogFooter>\n                    </form>\n                </DialogContent>\n            </Dialog>\n\n            <form\n                onSubmit={(e) => onSubmitWeekly(unitId, e)}\n                className=\"space-y-4\"\n            >\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                    <div>\n                        <h3 className=\"text-label-small text-content-primary\">\n                            Disponibilidade da unidade\n                        </h3>\n                        <p className=\"text-paragraph-small text-content-secondary\">\n                            Ajuste o padr√£o semanal de atendimento desta\n                            unidade.\n                        </p>\n                    </div>\n\n                    <div className=\"flex items-center justify-end gap-2\">\n                        <Button\n                            type=\"submit\"\n                            variant=\"edit2\"\n                            size=\"sm\"\n                            disabled={hasAnyWeeklyError}\n                            title={\n                                hasAnyWeeklyError\n                                    ? 'Corrija os hor√°rios inv√°lidos antes de salvar.'\n                                    : undefined\n                            }\n                        >\n                            Salvar padr√£o semanal\n                        </Button>\n\n                        <Button\n                            type=\"button\"\n                            variant=\"destructive\"\n                            size=\"sm\"\n                            onClick={openExceptionModal}\n                        >\n                            Criar exce√ß√£o\n                        </Button>\n                    </div>\n                </div>\n\n                {/* ‚úÖ MESMO PADR√ÉO VISUAL do outro componente */}\n                <div className=\"grid grid-cols-2 gap-3 md:grid-cols-4 lg:grid-cols-7\">\n                    {days.map((d) => {\n                        const startOk = isValidHHmm(String(d.startTime || ''));\n                        const endOk = isValidHHmm(String(d.endTime || ''));\n                        const hasError =\n                            d.isActive &&\n                            startOk &&\n                            endOk &&\n                            timeToMinutes(d.startTime) >=\n                                timeToMinutes(d.endTime);\n\n                        return (\n                            <div\n                                key={d.weekday}\n                                className={cn(\n                                    'flex flex-col rounded-xl border px-3 py-3 text-paragraph-small-size transition-colors',\n                                    d.isActive\n                                        ? 'border-border-brand bg-background-tertiary/80'\n                                        : 'border-border-secondary bg-background-tertiary'\n                                )}\n                            >\n                                {/* Cabe√ßalho do dia */}\n                                <div className=\"mb-2 flex items-center justify-between gap-2\">\n                                    <div className=\"flex flex-col\">\n                                        <span className=\"text-content-primary font-medium\">\n                                            {d.short}\n                                        </span>\n                                        <span className=\"text-[11px] text-content-primary\">\n                                            {d.full}\n                                        </span>\n                                    </div>\n\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => {\n                                            const nextActive = !d.isActive;\n\n                                            setWeeklyByUnitId((prev) => ({\n                                                ...prev,\n                                                [unitId]: {\n                                                    ...(prev[unitId] || {}),\n                                                    [d.weekday]: {\n                                                        ...(prev[unitId]?.[\n                                                            d.weekday\n                                                        ] || {\n                                                            isActive: false,\n                                                            startTime: '',\n                                                            endTime: '',\n                                                        }),\n                                                        isActive: nextActive,\n                                                    },\n                                                },\n                                            }));\n                                        }}\n                                        className={cn(\n                                            'inline-flex items-center rounded-full px-3 py-1 text-[11px] font-medium transition-colors',\n                                            d.isActive\n                                                ? 'bg-background-brand text-content-on-brand'\n                                                : 'bg-background-primary text-content-secondary border border-border-secondary'\n                                        )}\n                                    >\n                                        {d.isActive ? 'Sim' : 'N√£o'}\n                                    </button>\n                                </div>\n\n                                {/* Inputs de hor√°rio (dropdowns) */}\n                                <div className=\"mt-auto space-y-2\">\n                                    {/* Das */}\n                                    <div className=\"flex flex-col gap-1\">\n                                        <span className=\"text-[11px] text-content-primary\">\n                                            Das\n                                        </span>\n\n                                        <Select\n                                            value={d.startTime || ''}\n                                            onValueChange={(value) => {\n                                                setWeeklyByUnitId((prev) => ({\n                                                    ...prev,\n                                                    [unitId]: {\n                                                        ...(prev[unitId] || {}),\n                                                        [d.weekday]: {\n                                                            ...(prev[unitId]?.[\n                                                                d.weekday\n                                                            ] || {\n                                                                isActive: false,\n                                                                startTime: '',\n                                                                endTime: '',\n                                                            }),\n                                                            startTime: value,\n                                                        },\n                                                    },\n                                                }));\n                                            }}\n                                            disabled={!d.isActive}\n                                        >\n                                            <SelectTrigger\n                                                className={cn(\n                                                    'h-9 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand focus:border-border-brand focus-visible:border-border-brand',\n                                                    hasError &&\n                                                        'border-destructive focus-visible:ring-destructive/40'\n                                                )}\n                                            >\n                                                <div className=\"flex items-center gap-2\">\n                                                    <Clock className=\"h-4 w-4 text-content-brand\" />\n                                                    <SelectValue placeholder=\"00:00\" />\n                                                </div>\n                                            </SelectTrigger>\n                                            <SelectContent>\n                                                {TIME_OPTIONS.map((time) => (\n                                                    <SelectItem\n                                                        key={time}\n                                                        value={time}\n                                                    >\n                                                        {time}\n                                                    </SelectItem>\n                                                ))}\n                                            </SelectContent>\n                                        </Select>\n                                    </div>\n\n                                    {/* At√© */}\n                                    <div className=\"flex flex-col gap-1\">\n                                        <span className=\"text-[11px] text-content-primary\">\n                                            At√©\n                                        </span>\n\n                                        <Select\n                                            value={d.endTime || ''}\n                                            onValueChange={(value) => {\n                                                setWeeklyByUnitId((prev) => ({\n                                                    ...prev,\n                                                    [unitId]: {\n                                                        ...(prev[unitId] || {}),\n                                                        [d.weekday]: {\n                                                            ...(prev[unitId]?.[\n                                                                d.weekday\n                                                            ] || {\n                                                                isActive: false,\n                                                                startTime: '',\n                                                                endTime: '',\n                                                            }),\n                                                            endTime: value,\n                                                        },\n                                                    },\n                                                }));\n                                            }}\n                                            disabled={!d.isActive}\n                                        >\n                                            <SelectTrigger\n                                                className={cn(\n                                                    'h-9 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand focus:border-border-brand focus-visible:border-border-brand',\n                                                    hasError &&\n                                                        'border-destructive focus-visible:ring-destructive/40'\n                                                )}\n                                            >\n                                                <div className=\"flex items-center gap-2\">\n                                                    <Clock className=\"h-4 w-4 text-content-brand\" />\n                                                    <SelectValue placeholder=\"00:00\" />\n                                                </div>\n                                            </SelectTrigger>\n                                            <SelectContent>\n                                                {TIME_OPTIONS.map((time) => (\n                                                    <SelectItem\n                                                        key={time}\n                                                        value={time}\n                                                    >\n                                                        {time}\n                                                    </SelectItem>\n                                                ))}\n                                            </SelectContent>\n                                        </Select>\n                                    </div>\n                                </div>\n\n                                {hasError && (\n                                    <p className=\"mt-2 text-[11px] text-destructive\">\n                                        Em dias ativos, o hor√°rio inicial deve\n                                        ser menor que o final.\n                                    </p>\n                                )}\n                            </div>\n                        );\n                    })}\n                </div>\n\n                {hasAnyWeeklyError && (\n                    <p className=\"text-[11px] text-destructive\">\n                        Existem dias ativos com hor√°rio inv√°lido (in√≠cio\n                        maior/igual ao fim).\n                    </p>\n                )}\n\n                <div className=\"pt-4 space-y-2\">\n                    <div className=\"flex items-center justify-between gap-3\">\n                        <div>\n                            <p className=\"text-label-small text-content-primary\">\n                                Exce√ß√µes\n                            </p>\n                            <p className=\"text-[11px] text-content-secondary\">\n                                Pausas/bloqueios em datas espec√≠ficas.\n                            </p>\n                        </div>\n\n                        <Button\n                            type=\"button\"\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={fetchExceptions}\n                            disabled={exceptionsLoading}\n                        >\n                            {exceptionsLoading ? 'Atualizando‚Ä¶' : 'Atualizar'}\n                        </Button>\n                    </div>\n\n                    {exceptionsError ? (\n                        <div className=\"rounded-xl border border-destructive/40 bg-destructive/5 p-4\">\n                            <p className=\"text-[11px] text-destructive\">\n                                {exceptionsError}\n                            </p>\n                        </div>\n                    ) : exceptionsLoading ? (\n                        <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-2\">\n                            <div className=\"h-9 w-full rounded-lg bg-background-secondary/60\" />\n                            <div className=\"h-9 w-full rounded-lg bg-background-secondary/60\" />\n                            <p className=\"text-[11px] text-content-secondary\">\n                                Carregando exce√ß√µes‚Ä¶\n                            </p>\n                        </div>\n                    ) : exceptions.length === 0 ? (\n                        <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Nenhuma exce√ß√£o cadastrada ainda.\n                            </p>\n                        </div>\n                    ) : (\n                        <div className=\"space-y-2\">\n                            {exceptions.map((ex) => {\n                                const isDeleting =\n                                    deletingExceptionId === ex.id;\n\n                                const intervals = Array.isArray(ex.intervals)\n                                    ? ex.intervals\n                                    : [];\n\n                                return (\n                                    <div\n                                        key={ex.id}\n                                        className=\"rounded-xl border border-border-primary bg-background-tertiary p-4\"\n                                    >\n                                        <div className=\"flex items-start justify-between gap-3\">\n                                            <div className=\"min-w-0\">\n                                                <p className=\"text-paragraph-small text-content-primary font-medium\">\n                                                    {formatDateBR(ex.date)}\n                                                </p>\n\n                                                {ex.isClosed ? (\n                                                    <p className=\"text-[11px] text-content-secondary mt-1\">\n                                                        Dia fechado (sem\n                                                        atendimento)\n                                                    </p>\n                                                ) : intervals.length ? (\n                                                    <div className=\"mt-1 space-y-1\">\n                                                        {intervals.map((it) => (\n                                                            <p\n                                                                key={it.id}\n                                                                className=\"text-[11px] text-content-secondary\"\n                                                            >\n                                                                Pausa:{' '}\n                                                                <span className=\"text-content-primary\">\n                                                                    {\n                                                                        it.startTime\n                                                                    }{' '}\n                                                                    √†s{' '}\n                                                                    {it.endTime}\n                                                                </span>\n                                                            </p>\n                                                        ))}\n                                                    </div>\n                                                ) : (\n                                                    <p className=\"text-[11px] text-content-secondary mt-1\">\n                                                        Exce√ß√£o sem intervalos\n                                                        (vazia)\n                                                    </p>\n                                                )}\n                                            </div>\n\n                                            <div className=\"flex items-center gap-2\">\n                                                <span className=\"shrink-0 rounded-full border border-border-primary px-3 py-1 text-[11px] text-content-secondary\">\n                                                    Bloqueio\n                                                </span>\n\n                                                <Button\n                                                    type=\"button\"\n                                                    variant=\"outline\"\n                                                    size=\"sm\"\n                                                    disabled={isDeleting}\n                                                    onClick={() =>\n                                                        handleDeleteException(\n                                                            ex.id\n                                                        )\n                                                    }\n                                                >\n                                                    {isDeleting\n                                                        ? 'Removendo‚Ä¶'\n                                                        : 'Remover'}\n                                                </Button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n}\n","// src/app/admin/setting/admin-settings-client.tsx\n'use client';\n\nimport * as React from 'react';\n\nimport {\n    Accordion,\n    AccordionItem,\n    AccordionTrigger,\n    AccordionContent,\n} from '@/components/ui/accordion';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Switch } from '@/components/ui/switch';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogDescription,\n    DialogFooter,\n} from '@/components/ui/dialog';\n\nimport {\n    Building2,\n    Phone,\n    MapPin,\n    Hash,\n    Loader2,\n    ToggleRight,\n    User,\n    Mail,\n    KeyRound,\n} from 'lucide-react';\n\nimport { toast } from 'sonner';\nimport {\n    UnitAvailabilityCard,\n    type WeeklyDayUI,\n} from '@/components/admin/setting/unit-availability-card/unit-availability-card';\n\ntype UnitUI = {\n    id: string;\n    name: string;\n    phone: string;\n    address: string;\n    isActive: boolean;\n    createdAt: Date;\n};\n\ntype PermissionsUI = {\n    canAccessDashboard: boolean;\n    canAccessReports: boolean;\n    canAccessCheckout: boolean;\n    canAccessAppointments: boolean;\n    canAccessProfessionals: boolean;\n    canAccessServices: boolean;\n    canAccessReviews: boolean;\n    canAccessProducts: boolean;\n\n    // ‚úÖ NOVO: Parceiros\n    canAccessPartners: boolean;\n\n    canAccessClients: boolean;\n    canAccessClientLevels: boolean;\n    canAccessFinance: boolean;\n    canAccessSettings: boolean;\n};\n\ntype AdminUI = {\n    id: string;\n    name: string;\n    email: string;\n    phone: string;\n    createdAt: Date;\n    isOwner: boolean;\n    isActive: boolean;\n    permissions: PermissionsUI;\n};\n\ntype CompanyUI = {\n    id: string;\n    name: string;\n    segment: 'BARBERSHOP' | 'AESTHETIC';\n    isActive: boolean;\n};\n\ntype ApiOk<T> = { ok: true; data: T };\ntype ApiErr = { ok: false; error: string };\ntype ApiResp<T> = ApiOk<T> | ApiErr;\n\ntype UnitApi = {\n    id: string;\n    name: string;\n    phone: string | null;\n    cep: string | null;\n    street: string | null;\n    number: string | null;\n    complement: string | null;\n    neighborhood: string | null;\n    city: string | null;\n    state: string | null;\n    address: string | null;\n    isActive: boolean;\n    createdAt: string;\n    updatedAt: string;\n};\n\ntype AdminApi = {\n    id: string;\n    name: string | null;\n    email: string;\n    phone: string | null;\n    createdAt: string;\n    isOwner: boolean;\n    isActive: boolean;\n    permissions: PermissionsUI;\n};\n\ntype ViaCepResp =\n    | {\n          cep: string;\n          logradouro: string;\n          complemento: string;\n          bairro: string;\n          localidade: string;\n          uf: string;\n          ibge?: string;\n          gia?: string;\n          ddd?: string;\n          siafi?: string;\n          erro?: false;\n      }\n    | { erro: true };\n\nconst WEEKDAY_FULL = [\n    'Domingo',\n    'Segunda',\n    'Ter√ßa',\n    'Quarta',\n    'Quinta',\n    'Sexta',\n    'S√°bado',\n] as const;\n\nfunction formatDateTimeBR(d: Date) {\n    try {\n        return new Intl.DateTimeFormat('pt-BR', {\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n        }).format(d);\n    } catch {\n        return d.toISOString();\n    }\n}\n\nfunction toCompanyMessage(code: string) {\n    const map: Record<string, string> = {\n        forbidden_owner_only: 'Somente o dono pode editar dados da empresa.',\n        company_not_found: 'N√£o foi poss√≠vel encontrar a empresa.',\n        company_name_required: 'Informe o nome da empresa.',\n        invalid_json: 'Erro ao enviar dados. Tente novamente.',\n        internal_error: 'Erro interno. Tente novamente.',\n        forbidden: 'Voc√™ n√£o tem permiss√£o para acessar esta √°rea.',\n    };\n\n    return map[code] ?? 'Algo deu errado. Tente novamente.';\n}\n\nfunction toUnitMessage(code: string) {\n    const map: Record<string, string> = {\n        forbidden_owner_only: 'Somente o dono pode criar unidades.',\n        unit_name_required: 'Informe o nome da unidade.',\n        invalid_json: 'Erro ao enviar dados. Tente novamente.',\n        internal_error: 'Erro interno. Tente novamente.',\n        forbidden: 'Voc√™ n√£o tem permiss√£o para gerenciar unidades.',\n        unit_not_found: 'N√£o foi poss√≠vel encontrar essa unidade.',\n    };\n\n    return map[code] ?? 'Algo deu errado. Tente novamente.';\n}\n\nfunction toAdminMessage(code: string) {\n    const map: Record<string, string> = {\n        forbidden_owner_only:\n            'Somente o dono pode criar/editar administradores.',\n        forbidden_cannot_edit_owner:\n            'N√£o √© poss√≠vel editar permiss√µes do dono (OWNER).',\n        target_not_found: 'N√£o foi poss√≠vel encontrar esse administrador.',\n        target_not_admin: 'Esse usu√°rio n√£o √© um administrador.',\n        nothing_to_update: 'Nenhuma altera√ß√£o foi enviada.',\n        invalid_id: 'Administrador inv√°lido.',\n        admin_name_required: 'Informe o nome do administrador.',\n        admin_email_required: 'Informe o e-mail do administrador.',\n        admin_email_invalid: 'Informe um e-mail v√°lido.',\n        admin_phone_invalid: 'Informe um telefone v√°lido.',\n        admin_password_invalid: 'A senha deve ter pelo menos 6 caracteres.',\n        email_in_use: 'Este e-mail j√° est√° em uso.',\n        missing_unit:\n            'Voc√™ precisa ter pelo menos 1 unidade ativa para criar administradores.',\n        invalid_json: 'Erro ao enviar dados. Tente novamente.',\n        internal_error: 'Erro interno. Tente novamente.',\n        forbidden: 'Voc√™ n√£o tem permiss√£o para acessar esta √°rea.',\n        unauthorized: 'Sua sess√£o expirou. Fa√ßa login novamente.',\n        admin_not_found: 'N√£o foi poss√≠vel encontrar esse administrador.',\n    };\n\n    return map[code] ?? 'Algo deu errado. Tente novamente.';\n}\n\nfunction safeApiError(json: unknown): string {\n    if (\n        json &&\n        typeof json === 'object' &&\n        'ok' in json &&\n        (json as any).ok === false &&\n        typeof (json as any).error === 'string'\n    ) {\n        return String((json as any).error);\n    }\n    return 'internal_error';\n}\n\nfunction makeDefaultWeekly() {\n    return Array.from({ length: 7 }).reduce<Record<number, WeeklyDayUI>>(\n        (acc, _, i) => {\n            acc[i] =\n                i === 0\n                    ? { isActive: false, startTime: '', endTime: '' }\n                    : { isActive: true, startTime: '09:00', endTime: '18:00' };\n            return acc;\n        },\n        {}\n    );\n}\n\nfunction normalizeUnitFromApi(u: UnitApi): UnitUI {\n    const createdAt = new Date(u.createdAt);\n    const addressLine =\n        u.address ||\n        [u.street, u.number ? `, ${u.number}` : ''].join('').trim() ||\n        '‚Äî';\n\n    return {\n        id: u.id,\n        name: u.name,\n        phone: u.phone?.trim() ? u.phone : '‚Äî',\n        address: addressLine || '‚Äî',\n        isActive: !!u.isActive,\n        createdAt: Number.isNaN(createdAt.getTime()) ? new Date() : createdAt,\n    };\n}\n\nfunction normalizeAdminFromApi(a: AdminApi): AdminUI {\n    const createdAt = new Date(a.createdAt);\n    return {\n        id: a.id,\n        name: (a.name ?? '').trim() || '‚Äî',\n        email: a.email,\n        phone: (a.phone ?? '').trim() || '‚Äî',\n        createdAt: Number.isNaN(createdAt.getTime()) ? new Date() : createdAt,\n        isOwner: !!a.isOwner,\n        isActive: !!a.isActive,\n        permissions: {\n            canAccessDashboard: !!a.permissions?.canAccessDashboard,\n            canAccessReports: !!a.permissions?.canAccessReports,\n            canAccessCheckout: !!a.permissions?.canAccessCheckout,\n            canAccessAppointments: !!a.permissions?.canAccessAppointments,\n            canAccessProfessionals: !!a.permissions?.canAccessProfessionals,\n            canAccessServices: !!a.permissions?.canAccessServices,\n            canAccessReviews: !!a.permissions?.canAccessReviews,\n            canAccessProducts: !!a.permissions?.canAccessProducts,\n\n            // ‚úÖ NOVO\n            canAccessPartners: !!a.permissions?.canAccessPartners,\n\n            canAccessClients: !!a.permissions?.canAccessClients,\n            canAccessClientLevels: !!a.permissions?.canAccessClientLevels,\n            canAccessFinance: !!a.permissions?.canAccessFinance,\n            canAccessSettings: !!a.permissions?.canAccessSettings,\n        },\n    };\n}\n\nfunction onlyDigits(v: string) {\n    return v.replace(/\\D/g, '');\n}\n\nfunction formatCepBR(digits: string) {\n    const d = onlyDigits(digits).slice(0, 8);\n    if (d.length <= 5) return d;\n    return `${d.slice(0, 5)}-${d.slice(5)}`;\n}\n\nfunction formatPhoneBR(input: string) {\n    const d = onlyDigits(input).slice(0, 11);\n    if (d.length === 0) return '';\n    if (d.length < 3) return `(${d}`;\n\n    const ddd = d.slice(0, 2);\n    const rest = d.slice(2);\n\n    if (d.length <= 10) {\n        const p1 = rest.slice(0, 4);\n        const p2 = rest.slice(4, 8);\n        if (rest.length <= 4) return `(${ddd}) ${p1}`;\n        return `(${ddd}) ${p1}-${p2}`;\n    }\n\n    const p1 = rest.slice(0, 5);\n    const p2 = rest.slice(5, 9);\n    if (rest.length <= 5) return `(${ddd}) ${p1}`;\n    return `(${ddd}) ${p1}-${p2}`;\n}\n\nfunction asTrimmedOrNull(v: unknown): string | null {\n    if (typeof v !== 'string') return null;\n    const t = v.trim();\n    return t ? t : null;\n}\n\nfunction buildAddressLineClient(input: {\n    street?: string | null;\n    number?: string | null;\n    neighborhood?: string | null;\n    city?: string | null;\n    state?: string | null;\n    cep?: string | null;\n    complement?: string | null;\n}) {\n    const parts: string[] = [];\n\n    const street = asTrimmedOrNull(input.street);\n    const number = asTrimmedOrNull(input.number);\n    const neighborhood = asTrimmedOrNull(input.neighborhood);\n    const city = asTrimmedOrNull(input.city);\n    const state = asTrimmedOrNull(input.state);\n    const cep = asTrimmedOrNull(input.cep);\n    const complement = asTrimmedOrNull(input.complement);\n\n    const streetLine = [street, number ? `, ${number}` : ''].join('').trim();\n    if (streetLine) parts.push(streetLine);\n\n    if (complement) parts.push(complement);\n    if (neighborhood) parts.push(neighborhood);\n\n    const cityState = [city, state].filter(Boolean).join(' - ');\n    if (cityState) parts.push(cityState);\n\n    if (cep) parts.push(`CEP ${cep}`);\n\n    return parts.join(' ‚Ä¢ ') || '‚Äî';\n}\n\nconst PERMISSION_LABELS: Partial<Record<keyof PermissionsUI, string>> = {\n    canAccessDashboard: 'Dashboard',\n    canAccessReports: 'Relat√≥rios',\n    canAccessCheckout: 'Checkout',\n    canAccessAppointments: 'Agendamentos',\n    canAccessProfessionals: 'Profissionais',\n    canAccessServices: 'Servi√ßos',\n    canAccessReviews: 'Avalia√ß√µes',\n    canAccessProducts: 'Produtos',\n    canAccessClients: 'Clientes',\n    canAccessClientLevels: 'N√≠veis do Cliente',\n    canAccessFinance: 'Financeiro',\n    canAccessSettings: 'Configura√ß√µes',\n};\n\nfunction clonePerms(p: PermissionsUI): PermissionsUI {\n    return {\n        canAccessDashboard: !!p.canAccessDashboard,\n        canAccessReports: !!p.canAccessReports,\n        canAccessCheckout: !!p.canAccessCheckout,\n        canAccessAppointments: !!p.canAccessAppointments,\n        canAccessProfessionals: !!p.canAccessProfessionals,\n        canAccessServices: !!p.canAccessServices,\n        canAccessReviews: !!p.canAccessReviews,\n        canAccessProducts: !!p.canAccessProducts,\n        canAccessPartners: !!p.canAccessPartners,\n        canAccessClients: !!p.canAccessClients,\n        canAccessClientLevels: !!p.canAccessClientLevels,\n        canAccessFinance: !!p.canAccessFinance,\n        canAccessSettings: !!p.canAccessSettings,\n    };\n}\n\nfunction arePermsEqual(a: PermissionsUI, b: PermissionsUI) {\n    const keys = Object.keys(PERMISSION_LABELS) as (keyof PermissionsUI)[];\n    for (const k of keys) {\n        if (!!a[k] !== !!b[k]) return false;\n    }\n    return true;\n}\n\nfunction PermissionBox(props: {\n    label: string;\n    value: boolean;\n    disabled?: boolean;\n    onToggle?: () => void;\n}) {\n    const { label, value, disabled, onToggle } = props;\n\n    const base =\n        'flex items-center justify-between gap-3 rounded-xl border px-3 py-2 transition select-none';\n    const enabledStyles = value\n        ? 'border-emerald-500/40 bg-emerald-500/10'\n        : 'border-destructive/40 bg-destructive/10';\n    const disabledStyles = 'opacity-70 cursor-not-allowed';\n    const clickableStyles = disabled ? disabledStyles : 'cursor-pointer';\n\n    return (\n        <button\n            type=\"button\"\n            onClick={disabled ? undefined : onToggle}\n            disabled={disabled}\n            className={`${base} ${enabledStyles} ${clickableStyles}`}\n            aria-pressed={value}\n        >\n            <span className=\"text-[11px] text-content-secondary\">{label}</span>\n            <span\n                className={`text-[11px] font-medium ${\n                    value ? 'text-emerald-500' : 'text-content-secondary'\n                }`}\n            >\n                {value ? 'Liberado' : 'Bloqueado'}\n            </span>\n        </button>\n    );\n}\n\nfunction IconInput(\n    props: {\n        icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n        iconClassName?: string;\n        inputClassName?: string;\n        wrapperClassName?: string;\n        disabledIcon?: boolean;\n    } & React.ComponentProps<typeof Input>\n) {\n    const {\n        icon: Icon,\n        iconClassName,\n        inputClassName,\n        wrapperClassName,\n        disabledIcon,\n        className,\n        ...rest\n    } = props;\n\n    return (\n        <div className={`relative ${wrapperClassName ?? ''}`}>\n            <div className=\"absolute left-3 top-1/2 -translate-y-1/2 -mt-px pointer-events-none\">\n                <Icon\n                    width={20}\n                    height={20}\n                    className={`${\n                        disabledIcon\n                            ? 'text-content-secondary/50'\n                            : 'text-content-brand'\n                    } ${iconClassName ?? ''}`}\n                />\n            </div>\n\n            <Input\n                {...rest}\n                className={`pl-10 ${inputClassName ?? ''} ${className ?? ''}`}\n            />\n        </div>\n    );\n}\n\nexport default function AdminSettingsClient() {\n    // =========================\n    // EMPRESA (API REAL)\n    // =========================\n    const [company, setCompany] = React.useState<CompanyUI>({\n        id: '',\n        name: '',\n        segment: 'BARBERSHOP',\n        isActive: true,\n    });\n\n    const [companyLoading, setCompanyLoading] = React.useState(true);\n    const [companySaving, setCompanySaving] = React.useState(false);\n    const [companyError, setCompanyError] = React.useState<string | null>(null);\n\n    React.useEffect(() => {\n        let alive = true;\n        const controller = new AbortController();\n\n        async function run() {\n            setCompanyLoading(true);\n            setCompanyError(null);\n\n            try {\n                const res = await fetch('/api/admin/settings/company', {\n                    method: 'GET',\n                    headers: { 'Content-Type': 'application/json' },\n                    signal: controller.signal,\n                });\n\n                let json: ApiResp<CompanyUI> | null = null;\n                try {\n                    json = (await res.json()) as ApiResp<CompanyUI>;\n                } catch {\n                    json = null;\n                }\n\n                if (!alive) return;\n\n                if (!res.ok || !json || !json.ok) {\n                    const code = json ? safeApiError(json) : 'internal_error';\n                    setCompanyError(toCompanyMessage(code));\n                    return;\n                }\n\n                setCompany({\n                    id: json.data.id,\n                    name: json.data.name,\n                    segment: json.data.segment,\n                    isActive: json.data.isActive,\n                });\n            } catch (err: any) {\n                if (!alive) return;\n                if (err?.name === 'AbortError') return;\n                setCompanyError(\n                    'N√£o foi poss√≠vel carregar a empresa. Verifique sua conex√£o.'\n                );\n            } finally {\n                if (!alive) return;\n                setCompanyLoading(false);\n            }\n        }\n\n        run();\n\n        return () => {\n            alive = false;\n            controller.abort();\n        };\n    }, []);\n\n    // =========================\n    // UNIDADES (API REAL)\n    // =========================\n    const [units, setUnits] = React.useState<UnitUI[]>([]);\n    const [unitsLoading, setUnitsLoading] = React.useState(true);\n    const [unitCreating, setUnitCreating] = React.useState(false);\n\n    const [unitDetailsById, setUnitDetailsById] = React.useState<\n        Record<string, UnitApi>\n    >({});\n\n    const [weeklyByUnitId, setWeeklyByUnitId] = React.useState<\n        Record<string, Record<number, WeeklyDayUI>>\n    >({});\n\n    const [weeklySavingByUnitId, setWeeklySavingByUnitId] = React.useState<\n        Record<string, boolean>\n    >({});\n\n    React.useEffect(() => {\n        let alive = true;\n        const controller = new AbortController();\n\n        async function run() {\n            setUnitsLoading(true);\n\n            try {\n                const res = await fetch('/api/admin/settings/units', {\n                    method: 'GET',\n                    headers: { 'Content-Type': 'application/json' },\n                    signal: controller.signal,\n                });\n\n                let json: ApiResp<UnitApi[]> | null = null;\n                try {\n                    json = (await res.json()) as ApiResp<UnitApi[]>;\n                } catch {\n                    json = null;\n                }\n\n                if (!alive) return;\n\n                if (!res.ok || !json || !json.ok) {\n                    const code = json ? safeApiError(json) : 'internal_error';\n                    const msg = toUnitMessage(code);\n                    toast.error(msg);\n                    setUnits([]);\n                    setUnitDetailsById({});\n                    return;\n                }\n\n                const detailsMap = json.data.reduce<Record<string, UnitApi>>(\n                    (acc, u) => {\n                        acc[u.id] = u;\n                        return acc;\n                    },\n                    {}\n                );\n                setUnitDetailsById(detailsMap);\n\n                const mapped = json.data.map(normalizeUnitFromApi);\n                setUnits(mapped);\n\n                setWeeklyByUnitId((prev) => {\n                    const next = { ...prev };\n                    for (const u of mapped) {\n                        if (!next[u.id]) next[u.id] = makeDefaultWeekly();\n                    }\n                    return next;\n                });\n            } catch (err: any) {\n                if (!alive) return;\n                if (err?.name === 'AbortError') return;\n                toast.error(\n                    'N√£o foi poss√≠vel carregar as unidades. Verifique sua conex√£o.'\n                );\n                setUnits([]);\n                setUnitDetailsById({});\n            } finally {\n                if (!alive) return;\n                setUnitsLoading(false);\n            }\n        }\n\n        run();\n\n        return () => {\n            alive = false;\n            controller.abort();\n        };\n    }, []);\n\n    // =========================\n    // ADMINS (API REAL)\n    // =========================\n    const [admins, setAdmins] = React.useState<AdminUI[]>([]);\n    const [adminsLoading, setAdminsLoading] = React.useState(true);\n\n    // Estado ‚Äúedit√°vel inline‚Äù das permiss√µes por admin\n    const [pendingPermsByAdminId, setPendingPermsByAdminId] = React.useState<\n        Record<string, PermissionsUI>\n    >({});\n    const [dirtyPermsByAdminId, setDirtyPermsByAdminId] = React.useState<\n        Record<string, boolean>\n    >({});\n    const [savingPermsByAdminId, setSavingPermsByAdminId] = React.useState<\n        Record<string, boolean>\n    >({});\n\n    const fetchAdmins = React.useCallback(async () => {\n        setAdminsLoading(true);\n        try {\n            const res = await fetch('/api/admin/settings/admins', {\n                method: 'GET',\n                headers: { 'Content-Type': 'application/json' },\n            });\n\n            let json: ApiResp<AdminApi[]> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<AdminApi[]>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toAdminMessage(code));\n                setAdmins([]);\n                return;\n            }\n\n            const mapped = (json.data || []).map(normalizeAdminFromApi);\n            mapped.sort((a, b) => {\n                if (a.isOwner !== b.isOwner) return a.isOwner ? -1 : 1;\n                return b.createdAt.getTime() - a.createdAt.getTime();\n            });\n\n            setAdmins(mapped);\n\n            // sincroniza os ‚Äúpending‚Äù com os valores atuais do backend\n            setPendingPermsByAdminId((prev) => {\n                const next: Record<string, PermissionsUI> = { ...prev };\n                for (const a of mapped) {\n                    if (!a.isOwner) next[a.id] = clonePerms(a.permissions);\n                }\n                return next;\n            });\n\n            // limpa dirty quando recarrega do server (fail-safe)\n            setDirtyPermsByAdminId((prev) => {\n                const next: Record<string, boolean> = { ...prev };\n                for (const a of mapped) {\n                    if (!a.isOwner) next[a.id] = false;\n                }\n                return next;\n            });\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel carregar os administradores. Verifique sua conex√£o.'\n            );\n            setAdmins([]);\n        } finally {\n            setAdminsLoading(false);\n        }\n    }, []);\n\n    React.useEffect(() => {\n        let alive = true;\n        const controller = new AbortController();\n\n        (async () => {\n            try {\n                setAdminsLoading(true);\n                const res = await fetch('/api/admin/settings/admins', {\n                    method: 'GET',\n                    headers: { 'Content-Type': 'application/json' },\n                    signal: controller.signal,\n                });\n\n                let json: ApiResp<AdminApi[]> | null = null;\n                try {\n                    json = (await res.json()) as ApiResp<AdminApi[]>;\n                } catch {\n                    json = null;\n                }\n\n                if (!alive) return;\n\n                if (!res.ok || !json || !json.ok) {\n                    const code = json ? safeApiError(json) : 'internal_error';\n                    toast.error(toAdminMessage(code));\n                    setAdmins([]);\n                    return;\n                }\n\n                const mapped = (json.data || []).map(normalizeAdminFromApi);\n                mapped.sort((a, b) => {\n                    if (a.isOwner !== b.isOwner) return a.isOwner ? -1 : 1;\n                    return b.createdAt.getTime() - a.createdAt.getTime();\n                });\n\n                setAdmins(mapped);\n\n                setPendingPermsByAdminId((prev) => {\n                    const next: Record<string, PermissionsUI> = { ...prev };\n                    for (const a of mapped) {\n                        if (!a.isOwner) next[a.id] = clonePerms(a.permissions);\n                    }\n                    return next;\n                });\n\n                setDirtyPermsByAdminId((prev) => {\n                    const next: Record<string, boolean> = { ...prev };\n                    for (const a of mapped) {\n                        if (!a.isOwner) next[a.id] = false;\n                    }\n                    return next;\n                });\n            } catch (err: any) {\n                if (!alive) return;\n                if (err?.name === 'AbortError') return;\n                toast.error(\n                    'N√£o foi poss√≠vel carregar os administradores. Verifique sua conex√£o.'\n                );\n                setAdmins([]);\n            } finally {\n                if (!alive) return;\n                setAdminsLoading(false);\n            }\n        })();\n\n        return () => {\n            alive = false;\n            controller.abort();\n        };\n    }, []);\n\n    function togglePermission(adminId: string, key: keyof PermissionsUI) {\n        const admin = admins.find((a) => a.id === adminId) ?? null;\n        if (!admin || admin.isOwner) return;\n\n        const currentPending = pendingPermsByAdminId[adminId]\n            ? clonePerms(pendingPermsByAdminId[adminId])\n            : clonePerms(admin.permissions);\n\n        const nextPending: PermissionsUI = {\n            ...currentPending,\n            [key]: !currentPending[key],\n        };\n\n        setPendingPermsByAdminId((prev) => ({\n            ...prev,\n            [adminId]: nextPending,\n        }));\n\n        // dirty s√≥ liga depois do primeiro clique (e continua ligado)\n        const isDirtyNow = !arePermsEqual(nextPending, admin.permissions);\n        setDirtyPermsByAdminId((prev) => ({ ...prev, [adminId]: isDirtyNow }));\n    }\n\n    async function saveAdminPermissions(adminId: string) {\n        const admin = admins.find((a) => a.id === adminId) ?? null;\n        if (!admin || admin.isOwner) return;\n\n        const pending = pendingPermsByAdminId[adminId];\n        if (!pending) return;\n\n        const isDirty = !!dirtyPermsByAdminId[adminId];\n        if (!isDirty) return;\n\n        setSavingPermsByAdminId((prev) => ({ ...prev, [adminId]: true }));\n\n        try {\n            const res = await fetch(`/api/admin/settings/admins/${adminId}`, {\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    permissions: pending,\n                }),\n            });\n\n            let json: ApiResp<AdminApi> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<AdminApi>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toAdminMessage(code));\n                return;\n            }\n\n            toast.success('Permiss√µes salvas.');\n\n            // Atualiza o estado local sem precisar abrir modal nem nada\n            setAdmins((prev) =>\n                prev.map((x) =>\n                    x.id === adminId\n                        ? { ...x, permissions: clonePerms(pending) }\n                        : x\n                )\n            );\n\n            setDirtyPermsByAdminId((prev) => ({ ...prev, [adminId]: false }));\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel salvar as permiss√µes. Verifique sua conex√£o.'\n            );\n        } finally {\n            setSavingPermsByAdminId((prev) => ({ ...prev, [adminId]: false }));\n        }\n    }\n\n    // ====== forms (CREATE UNIT) ======\n    const [newUnit, setNewUnit] = React.useState({\n        name: '',\n        phone: '',\n        cep: '',\n        number: '',\n        complement: '',\n        street: '',\n        neighborhood: '',\n        city: '',\n        state: '',\n    });\n\n    const [cepStatus, setCepStatus] = React.useState<\n        'idle' | 'loading' | 'success' | 'error'\n    >('idle');\n    const [cepError, setCepError] = React.useState<string | null>(null);\n    const lastFetchedCepRef = React.useRef<string>('');\n    const cepAbortRef = React.useRef<AbortController | null>(null);\n\n    React.useEffect(() => {\n        const cepDigits = onlyDigits(newUnit.cep).slice(0, 8);\n\n        if (cepDigits.length < 8) {\n            if (cepAbortRef.current) cepAbortRef.current.abort();\n            setCepStatus('idle');\n            setCepError(null);\n            lastFetchedCepRef.current = '';\n\n            setNewUnit((p) => ({\n                ...p,\n                street: '',\n                neighborhood: '',\n                city: '',\n                state: '',\n            }));\n            return;\n        }\n\n        if (lastFetchedCepRef.current === cepDigits) return;\n\n        (async () => {\n            try {\n                setCepStatus('loading');\n                setCepError(null);\n\n                if (cepAbortRef.current) cepAbortRef.current.abort();\n                const controller = new AbortController();\n                cepAbortRef.current = controller;\n\n                const res = await fetch(\n                    `https://viacep.com.br/ws/${cepDigits}/json/`,\n                    {\n                        method: 'GET',\n                        headers: { 'Content-Type': 'application/json' },\n                        signal: controller.signal,\n                    }\n                );\n\n                const json = (await res.json()) as ViaCepResp;\n\n                if (!res.ok) throw new Error('FETCH_FAILED');\n\n                if ('erro' in json && json.erro) {\n                    lastFetchedCepRef.current = '';\n                    setCepStatus('error');\n                    setCepError('CEP n√£o encontrado.');\n\n                    setNewUnit((p) => ({\n                        ...p,\n                        street: '',\n                        neighborhood: '',\n                        city: '',\n                        state: '',\n                    }));\n\n                    toast.error('CEP inv√°lido ou n√£o encontrado.');\n                    return;\n                }\n\n                lastFetchedCepRef.current = cepDigits;\n                setCepStatus('success');\n                setCepError(null);\n\n                setNewUnit((p) => ({\n                    ...p,\n                    street: json.logradouro || '',\n                    neighborhood: json.bairro || '',\n                    city: json.localidade || '',\n                    state: json.uf || '',\n                }));\n            } catch (err: any) {\n                if (err?.name === 'AbortError') return;\n                lastFetchedCepRef.current = '';\n                setCepStatus('error');\n                setCepError('N√£o foi poss√≠vel buscar o CEP. Tente novamente.');\n                toast.error('N√£o foi poss√≠vel buscar o endere√ßo pelo CEP.');\n            }\n        })();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [newUnit.cep]);\n\n    // ====== EDIT UNIT MODAL ======\n    const [editOpen, setEditOpen] = React.useState(false);\n    const [editingUnitId, setEditingUnitId] = React.useState<string | null>(\n        null\n    );\n\n    const [editUnitSaving, setEditUnitSaving] = React.useState(false);\n\n    const [editUnit, setEditUnit] = React.useState({\n        name: '',\n        phone: '',\n        cep: '',\n        number: '',\n        complement: '',\n        street: '',\n        neighborhood: '',\n        city: '',\n        state: '',\n        isActive: true,\n    });\n\n    const [editCepStatus, setEditCepStatus] = React.useState<\n        'idle' | 'loading' | 'success' | 'error'\n    >('idle');\n    const [editCepError, setEditCepError] = React.useState<string | null>(null);\n    const editLastFetchedCepRef = React.useRef<string>('');\n    const editCepAbortRef = React.useRef<AbortController | null>(null);\n\n    async function ensureUnitDetails(unitId: string) {\n        if (unitDetailsById[unitId]) return unitDetailsById[unitId];\n\n        try {\n            const res = await fetch(`/api/admin/settings/units/${unitId}`, {\n                method: 'GET',\n                headers: { 'Content-Type': 'application/json' },\n            });\n\n            let json: ApiResp<UnitApi> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<UnitApi>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toUnitMessage(code));\n                return null;\n            }\n\n            setUnitDetailsById((prev) => ({ ...prev, [unitId]: json!.data }));\n            return json.data;\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel carregar a unidade. Verifique a conex√£o.'\n            );\n            return null;\n        }\n    }\n\n    async function openEditUnit(unitId: string) {\n        const details = await ensureUnitDetails(unitId);\n\n        if (!details) {\n            toast.error(\n                'N√£o foi poss√≠vel carregar os dados dessa unidade para edi√ß√£o.'\n            );\n            return;\n        }\n\n        const cepDigits = onlyDigits(details.cep || '').slice(0, 8);\n\n        editLastFetchedCepRef.current = cepDigits || '';\n        setEditCepStatus(cepDigits.length === 8 ? 'success' : 'idle');\n        setEditCepError(null);\n\n        setEditingUnitId(unitId);\n        setEditUnit({\n            name: details.name || '',\n            phone: formatPhoneBR(details.phone || ''),\n            cep: cepDigits,\n            number: details.number || '',\n            complement: details.complement || '',\n            street: details.street || '',\n            neighborhood: details.neighborhood || '',\n            city: details.city || '',\n            state: details.state || '',\n            isActive: !!details.isActive,\n        });\n        setEditOpen(true);\n    }\n\n    React.useEffect(() => {\n        if (!editOpen) return;\n\n        const cepDigits = onlyDigits(editUnit.cep).slice(0, 8);\n\n        if (cepDigits.length < 8) {\n            if (editCepAbortRef.current) editCepAbortRef.current.abort();\n            setEditCepStatus('idle');\n            setEditCepError(null);\n            editLastFetchedCepRef.current = '';\n\n            setEditUnit((p) => ({\n                ...p,\n                street: '',\n                neighborhood: '',\n                city: '',\n                state: '',\n            }));\n            return;\n        }\n\n        if (editLastFetchedCepRef.current === cepDigits) return;\n\n        (async () => {\n            try {\n                setEditCepStatus('loading');\n                setEditCepError(null);\n\n                if (editCepAbortRef.current) editCepAbortRef.current.abort();\n                const controller = new AbortController();\n                editCepAbortRef.current = controller;\n\n                const res = await fetch(\n                    `https://viacep.com.br/ws/${cepDigits}/json/`,\n                    {\n                        method: 'GET',\n                        headers: { 'Content-Type': 'application/json' },\n                        signal: controller.signal,\n                    }\n                );\n\n                const json = (await res.json()) as ViaCepResp;\n\n                if (!res.ok) throw new Error('FETCH_FAILED');\n\n                if ('erro' in json && json.erro) {\n                    editLastFetchedCepRef.current = '';\n                    setEditCepStatus('error');\n                    setEditCepError('CEP n√£o encontrado.');\n\n                    setEditUnit((p) => ({\n                        ...p,\n                        street: '',\n                        neighborhood: '',\n                        city: '',\n                        state: '',\n                    }));\n\n                    toast.error('CEP inv√°lido ou n√£o encontrado.');\n                    return;\n                }\n\n                editLastFetchedCepRef.current = cepDigits;\n                setEditCepStatus('success');\n                setEditCepError(null);\n\n                setEditUnit((p) => ({\n                    ...p,\n                    street: json.logradouro || '',\n                    neighborhood: json.bairro || '',\n                    city: json.localidade || '',\n                    state: json.uf || '',\n                }));\n            } catch (err: any) {\n                if (err?.name === 'AbortError') return;\n                editLastFetchedCepRef.current = '';\n                setEditCepStatus('error');\n                setEditCepError(\n                    'N√£o foi poss√≠vel buscar o CEP. Tente novamente.'\n                );\n                toast.error('N√£o foi poss√≠vel buscar o endere√ßo pelo CEP.');\n            }\n        })();\n    }, [editUnit.cep, editOpen]);\n\n    function closeEditModal() {\n        setEditOpen(false);\n        setEditingUnitId(null);\n        setEditUnitSaving(false);\n\n        if (editCepAbortRef.current) editCepAbortRef.current.abort();\n        setEditCepStatus('idle');\n        setEditCepError(null);\n        editLastFetchedCepRef.current = '';\n    }\n\n    async function handleSaveEditUnit(e: React.FormEvent) {\n        e.preventDefault();\n\n        if (!editingUnitId) return;\n\n        const name = editUnit.name.trim();\n        if (!name) {\n            toast.error('Informe o nome da unidade.');\n            return;\n        }\n\n        const phoneDigits = onlyDigits(editUnit.phone);\n        if (editUnit.phone.trim() && phoneDigits.length < 10) {\n            toast.error('Informe um telefone v√°lido.');\n            return;\n        }\n\n        const cepDigits = onlyDigits(editUnit.cep).slice(0, 8);\n        if (editUnit.cep.trim() && cepDigits.length !== 8) {\n            toast.error('Informe um CEP v√°lido.');\n            return;\n        }\n\n        setEditUnitSaving(true);\n        try {\n            const res = await fetch(\n                `/api/admin/settings/units/${editingUnitId}`,\n                {\n                    method: 'PUT',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        name,\n                        phone: editUnit.phone.trim() || null,\n                        cep: cepDigits || null,\n                        street: editUnit.street.trim() || null,\n                        number: editUnit.number.trim() || null,\n                        complement: editUnit.complement.trim() || null,\n                        neighborhood: editUnit.neighborhood.trim() || null,\n                        city: editUnit.city.trim() || null,\n                        state: editUnit.state.trim() || null,\n                        isActive: !!editUnit.isActive,\n                    }),\n                }\n            );\n\n            let json: ApiResp<UnitApi> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<UnitApi>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toUnitMessage(code));\n                return;\n            }\n\n            const updated = json.data;\n\n            setUnitDetailsById((prev) => ({\n                ...prev,\n                [updated.id]: updated,\n            }));\n\n            setUnits((prev) =>\n                prev.map((u) =>\n                    u.id === updated.id ? normalizeUnitFromApi(updated) : u\n                )\n            );\n\n            toast.success('Unidade atualizada.');\n            closeEditModal();\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel salvar a unidade. Verifique sua conex√£o.'\n            );\n        } finally {\n            setEditUnitSaving(false);\n        }\n    }\n\n    // =========================\n    // ADMIN (CREATE)\n    // =========================\n    const [newAdmin, setNewAdmin] = React.useState({\n        name: '',\n        email: '',\n        phone: '',\n        password: '',\n    });\n\n    const [newAdminPerms, setNewAdminPerms] = React.useState<PermissionsUI>({\n        canAccessDashboard: true,\n        canAccessReports: false,\n        canAccessCheckout: false,\n        canAccessAppointments: true,\n        canAccessProfessionals: false,\n        canAccessServices: false,\n        canAccessReviews: false,\n        canAccessProducts: false,\n        canAccessPartners: false,\n        canAccessClients: true,\n        canAccessClientLevels: false,\n        canAccessFinance: false,\n        canAccessSettings: false,\n    });\n\n    const [adminCreating, setAdminCreating] = React.useState(false);\n\n    function openDaysCount(unitId: string) {\n        const w = weeklyByUnitId[unitId] || {};\n        return Object.values(w).filter(\n            (d) => d.isActive && d.startTime && d.endTime\n        ).length;\n    }\n\n    async function handleSaveCompany(e: React.FormEvent) {\n        e.preventDefault();\n        setCompanyError(null);\n\n        const name = company.name.trim();\n        if (!name) {\n            setCompanyError('Informe o nome da empresa.');\n            return;\n        }\n\n        setCompanySaving(true);\n        try {\n            const res = await fetch('/api/admin/settings/company', {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    name,\n                    segment: company.segment,\n                    isActive: company.isActive,\n                }),\n            });\n\n            let json: ApiResp<CompanyUI> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<CompanyUI>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                const msg = toCompanyMessage(code);\n                setCompanyError(msg);\n                toast.error(msg);\n                return;\n            }\n\n            setCompany({\n                id: json.data.id,\n                name: json.data.name,\n                segment: json.data.segment,\n                isActive: json.data.isActive,\n            });\n\n            toast.success('Empresa salva.');\n        } catch {\n            const msg = 'N√£o foi poss√≠vel salvar. Verifique sua conex√£o.';\n            setCompanyError(msg);\n            toast.error(msg);\n        } finally {\n            setCompanySaving(false);\n        }\n    }\n\n    async function handleCreateUnit(e: React.FormEvent) {\n        e.preventDefault();\n\n        const name = newUnit.name.trim();\n        if (!name) {\n            toast.error('Informe o nome da unidade.');\n            return;\n        }\n\n        const phoneDigits = onlyDigits(newUnit.phone);\n        if (newUnit.phone.trim() && phoneDigits.length < 10) {\n            toast.error('Informe um telefone v√°lido.');\n            return;\n        }\n\n        const cepDigits = onlyDigits(newUnit.cep).slice(0, 8);\n        if (newUnit.cep.trim() && cepDigits.length !== 8) {\n            toast.error('Informe um CEP v√°lido.');\n            return;\n        }\n\n        setUnitCreating(true);\n        try {\n            const res = await fetch('/api/admin/settings/units', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    name,\n                    phone: newUnit.phone.trim() || null,\n                    cep: cepDigits || null,\n                    street: newUnit.street.trim() || null,\n                    number: newUnit.number.trim() || null,\n                    complement: newUnit.complement.trim() || null,\n                    neighborhood: newUnit.neighborhood.trim() || null,\n                    city: newUnit.city.trim() || null,\n                    state: newUnit.state.trim() || null,\n                    address: buildAddressLineClient({\n                        street: newUnit.street,\n                        number: newUnit.number,\n                        complement: newUnit.complement,\n                        neighborhood: newUnit.neighborhood,\n                        city: newUnit.city,\n                        state: newUnit.state,\n                        cep: formatCepBR(cepDigits),\n                    }),\n                }),\n            });\n\n            let json: ApiResp<UnitApi> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<UnitApi>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                const msg = toUnitMessage(code);\n                toast.error(msg);\n                return;\n            }\n\n            setUnitDetailsById((prev) => ({\n                ...prev,\n                [json!.data.id]: json!.data,\n            }));\n\n            const created = normalizeUnitFromApi(json.data);\n\n            setUnits((prev) => [created, ...prev]);\n            setWeeklyByUnitId((prev) => ({\n                ...prev,\n                [created.id]: prev[created.id] || makeDefaultWeekly(),\n            }));\n\n            setNewUnit({\n                name: '',\n                phone: '',\n                cep: '',\n                number: '',\n                complement: '',\n                street: '',\n                neighborhood: '',\n                city: '',\n                state: '',\n            });\n            setCepStatus('idle');\n            setCepError(null);\n            lastFetchedCepRef.current = '';\n\n            toast.success('Unidade criada.');\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel criar a unidade. Verifique sua conex√£o.'\n            );\n        } finally {\n            setUnitCreating(false);\n        }\n    }\n\n    async function handleCreateAdmin(e: React.FormEvent) {\n        e.preventDefault();\n\n        const name = newAdmin.name.trim();\n        const email = newAdmin.email.trim();\n        const phone = newAdmin.phone.trim();\n        const password = newAdmin.password;\n\n        if (!name) {\n            toast.error('Informe o nome do administrador.');\n            return;\n        }\n        if (!email) {\n            toast.error('Informe o e-mail do administrador.');\n            return;\n        }\n        if (!password || password.length < 6) {\n            toast.error('A senha deve ter pelo menos 6 caracteres.');\n            return;\n        }\n\n        setAdminCreating(true);\n        try {\n            const res = await fetch('/api/admin/settings/admins', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    name,\n                    email,\n                    phone: phone || null,\n                    password,\n                    permissions: newAdminPerms,\n                }),\n            });\n\n            let json: ApiResp<AdminApi> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<AdminApi>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toAdminMessage(code));\n                return;\n            }\n\n            toast.success('Administrador criado.');\n\n            // limpa form (senha some da tela rapidinho ‚úÖ)\n            setNewAdmin({ name: '', email: '', phone: '', password: '' });\n            setNewAdminPerms({\n                canAccessDashboard: true,\n                canAccessReports: false,\n                canAccessCheckout: false,\n                canAccessAppointments: true,\n                canAccessProfessionals: false,\n                canAccessServices: false,\n                canAccessReviews: false,\n                canAccessProducts: false,\n\n                // ‚úÖ NOVO\n                canAccessPartners: false,\n\n                canAccessClients: true,\n                canAccessClientLevels: false,\n                canAccessFinance: false,\n                canAccessSettings: false,\n            });\n\n            await fetchAdmins();\n        } catch {\n            toast.error(\n                'N√£o foi poss√≠vel criar o administrador. Verifique sua conex√£o.'\n            );\n        } finally {\n            setAdminCreating(false);\n        }\n    }\n\n    async function handleSaveWeekly(unitId: string, e: React.FormEvent) {\n        e.preventDefault();\n\n        const weekly = weeklyByUnitId[unitId] ?? makeDefaultWeekly();\n\n        for (let i = 0; i < 7; i++) {\n            const d = weekly[i] ?? {\n                isActive: false,\n                startTime: '',\n                endTime: '',\n            };\n            if (!d.isActive) continue;\n\n            const st = String(d.startTime || '').trim();\n            const et = String(d.endTime || '').trim();\n\n            if (!st || !et) {\n                toast.error(\n                    `Informe hor√°rio completo em ${WEEKDAY_FULL[i] ?? `Dia ${i}`}.`\n                );\n                return;\n            }\n\n            if (st >= et) {\n                toast.error(\n                    `Hor√°rio inv√°lido em ${WEEKDAY_FULL[i] ?? `Dia ${i}`}: \"Das\" deve ser menor que \"At√©\".`\n                );\n                return;\n            }\n        }\n\n        setWeeklySavingByUnitId((prev) => ({ ...prev, [unitId]: true }));\n\n        try {\n            const payload = {\n                weekly: Array.from({ length: 7 }).map((_, weekday) => {\n                    const d =\n                        weekly[weekday] ??\n                        ({\n                            isActive: false,\n                            startTime: '',\n                            endTime: '',\n                        } as WeeklyDayUI);\n\n                    return {\n                        weekday,\n                        isActive: !!d.isActive,\n                        startTime: String(d.startTime || '').trim() || null,\n                        endTime: String(d.endTime || '').trim() || null,\n                    };\n                }),\n            };\n\n            const res = await fetch(\n                `/api/admin/settings/units/${unitId}/weekly`,\n                {\n                    method: 'PUT',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(payload),\n                }\n            );\n\n            let json: ApiResp<any> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<any>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toUnitMessage(code));\n                return;\n            }\n\n            toast.success('Padr√£o semanal salvo.');\n        } catch {\n            toast.error('N√£o foi poss√≠vel salvar o padr√£o semanal.');\n        } finally {\n            setWeeklySavingByUnitId((prev) => ({ ...prev, [unitId]: false }));\n        }\n    }\n\n    async function toggleAdminActive(adminId: string, nextActive: boolean) {\n        const a = admins.find((x) => x.id === adminId) ?? null;\n        if (!a) return;\n        if (a.isOwner) {\n            toast.error('N√£o √© poss√≠vel alterar o status do dono.');\n            return;\n        }\n\n        // otimista visual\n        setAdmins((prev) =>\n            prev.map((x) =>\n                x.id === adminId ? { ...x, isActive: nextActive } : x\n            )\n        );\n\n        try {\n            const res = await fetch(`/api/admin/settings/admins/${adminId}`, {\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ isActive: nextActive }),\n            });\n\n            let json: ApiResp<AdminApi> | null = null;\n            try {\n                json = (await res.json()) as ApiResp<AdminApi>;\n            } catch {\n                json = null;\n            }\n\n            if (!res.ok || !json || !json.ok) {\n                const code = json ? safeApiError(json) : 'internal_error';\n                toast.error(toAdminMessage(code));\n                // rollback\n                setAdmins((prev) =>\n                    prev.map((x) =>\n                        x.id === adminId ? { ...x, isActive: a.isActive } : x\n                    )\n                );\n                return;\n            }\n\n            toast.success(nextActive ? 'Admin ativado.' : 'Admin desativado.');\n            await fetchAdmins();\n        } catch {\n            toast.error('N√£o foi poss√≠vel alterar o status do admin.');\n            // rollback\n            setAdmins((prev) =>\n                prev.map((x) =>\n                    x.id === adminId ? { ...x, isActive: a.isActive } : x\n                )\n            );\n        }\n    }\n\n    const cepMasked = formatCepBR(newUnit.cep);\n    const editCepMasked = formatCepBR(editUnit.cep);\n\n    return (\n        <div className=\"max-w-7xl mx-auto space-y-6\">\n            {/* =========================\n             * MODAL: EDITAR UNIDADE\n             * ========================= */}\n            <Dialog\n                open={editOpen}\n                onOpenChange={(v) => (v ? setEditOpen(true) : closeEditModal())}\n            >\n                <DialogContent\n                    // Se o seu DialogContent suportar esses props (igual ao AppointmentForm), use:\n                    variant=\"appointment\"\n                    overlayVariant=\"blurred\"\n                    showCloseButton\n                    // fallback caso seu DS ignore/nao tenha variant:\n                    className=\"sm:max-w-[720px]\"\n                >\n                    <DialogHeader>\n                        <DialogTitle size=\"modal\">Editar unidade</DialogTitle>\n                        <DialogDescription size=\"modal\">\n                            Atualize as informa√ß√µes da unidade. O endere√ßo √©\n                            preenchido pelo CEP.\n                        </DialogDescription>\n                    </DialogHeader>\n\n                    <form onSubmit={handleSaveEditUnit} className=\"space-y-4\">\n                        {/* NOME */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-medium-size text-content-primary\">\n                                Nome da unidade\n                            </label>\n\n                            <div className=\"relative\">\n                                <Building2\n                                    className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                    size={20}\n                                />\n                                <Input\n                                    placeholder=\"Nome\"\n                                    value={editUnit.name}\n                                    onChange={(e) =>\n                                        setEditUnit((p) => ({\n                                            ...p,\n                                            name: e.target.value,\n                                        }))\n                                    }\n                                    className=\"pl-10 bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* TELEFONE + CEP */}\n                        <div className=\"grid gap-4 md:grid-cols-2\">\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Telefone\n                                </label>\n\n                                <div className=\"relative\">\n                                    <Phone\n                                        className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                        size={20}\n                                    />\n                                    <Input\n                                        placeholder=\"(00) 00000-0000\"\n                                        inputMode=\"tel\"\n                                        value={editUnit.phone}\n                                        onChange={(e) => {\n                                            const next = formatPhoneBR(\n                                                e.target.value\n                                            );\n                                            setEditUnit((p) => ({\n                                                ...p,\n                                                phone: next,\n                                            }));\n                                        }}\n                                        className=\"pl-10 bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    CEP\n                                </label>\n\n                                <div className=\"relative\">\n                                    <MapPin\n                                        className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                        size={20}\n                                    />\n                                    <Input\n                                        placeholder=\"00000-000\"\n                                        inputMode=\"numeric\"\n                                        value={editCepMasked}\n                                        onChange={(e) => {\n                                            const cepDigits = onlyDigits(\n                                                e.target.value\n                                            ).slice(0, 8);\n\n                                            if (\n                                                cepDigits !==\n                                                editLastFetchedCepRef.current\n                                            ) {\n                                                editLastFetchedCepRef.current =\n                                                    '';\n                                            }\n\n                                            setEditUnit((p) => ({\n                                                ...p,\n                                                cep: cepDigits,\n                                            }));\n                                        }}\n                                        className=\"pl-10 bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                    />\n                                </div>\n\n                                {editCepStatus === 'loading' ? (\n                                    <p className=\"text-[11px] text-content-secondary flex items-center gap-2\">\n                                        <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                                        Buscando endere√ßo‚Ä¶\n                                    </p>\n                                ) : editCepError ? (\n                                    <p className=\"text-[11px] text-destructive\">\n                                        {editCepError}\n                                    </p>\n                                ) : null}\n                            </div>\n                        </div>\n\n                        {/* ENDERE√áO */}\n                        <div className=\"grid gap-4 md:grid-cols-3\">\n                            <div className=\"space-y-2 md:col-span-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Endere√ßo\n                                </label>\n\n                                <div className=\"relative\">\n                                    <MapPin\n                                        className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                        size={20}\n                                    />\n                                    <Input\n                                        placeholder=\"Endere√ßo\"\n                                        value={editUnit.street}\n                                        disabled\n                                        className=\"pl-10 bg-background-tertiary border-border-primary text-content-primary disabled:opacity-60\"\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    N√∫mero\n                                </label>\n\n                                <div className=\"relative\">\n                                    <Hash\n                                        className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                        size={20}\n                                    />\n                                    <Input\n                                        placeholder=\"N√∫mero\"\n                                        value={editUnit.number}\n                                        onChange={(e) =>\n                                            setEditUnit((p) => ({\n                                                ...p,\n                                                number: e.target.value,\n                                            }))\n                                        }\n                                        className=\"pl-10 bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2 md:col-span-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Complemento\n                                </label>\n\n                                <Input\n                                    placeholder=\"Complemento\"\n                                    value={editUnit.complement}\n                                    onChange={(e) =>\n                                        setEditUnit((p) => ({\n                                            ...p,\n                                            complement: e.target.value,\n                                        }))\n                                    }\n                                    className=\"bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                />\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Bairro\n                                </label>\n                                <Input\n                                    placeholder=\"Bairro\"\n                                    value={editUnit.neighborhood}\n                                    disabled\n                                    className=\"bg-background-tertiary border-border-primary text-content-primary disabled:opacity-60\"\n                                />\n                            </div>\n\n                            <div className=\"space-y-2 md:col-span-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Cidade\n                                </label>\n                                <Input\n                                    placeholder=\"Cidade\"\n                                    value={editUnit.city}\n                                    disabled\n                                    className=\"bg-background-tertiary border-border-primary text-content-primary disabled:opacity-60\"\n                                />\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-label-medium-size text-content-primary\">\n                                    Estado\n                                </label>\n                                <Input\n                                    placeholder=\"Estado\"\n                                    value={editUnit.state}\n                                    disabled\n                                    className=\"bg-background-tertiary border-border-primary text-content-primary disabled:opacity-60\"\n                                />\n                            </div>\n                        </div>\n\n                        <DialogFooter className=\"gap-2 sm:gap-3\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"edit2\"\n                                size=\"sm\"\n                                disabled={\n                                    editUnitSaving ||\n                                    !editUnit.name.trim() ||\n                                    editCepStatus === 'loading'\n                                }\n                            >\n                                {editUnitSaving && (\n                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                )}\n                                Salvar\n                            </Button>\n                            <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={closeEditModal}\n                                disabled={editUnitSaving}\n                            >\n                                Cancelar\n                            </Button>\n                        </DialogFooter>\n                    </form>\n                </DialogContent>\n            </Dialog>\n\n            <header className=\"flex items-center justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-title text-content-primary\">\n                        Configura√ß√µes\n                    </h1>\n                    <p className=\"text-paragraph-medium text-content-secondary\">\n                        Gerencie unidades e controle quais administradores t√™m\n                        acesso a cada m√≥dulo do painel.\n                    </p>\n                </div>\n            </header>\n\n            {/* =========================\n             * EMPRESA\n             * ========================= */}\n            <section className=\"space-y-3\">\n                <div className=\"flex items-center justify-between gap-3\">\n                    <div>\n                        <h2 className=\"text-paragraph-medium font-semibold text-content-primary\">\n                            Empresa\n                        </h2>\n                    </div>\n                </div>\n\n                <div className=\"grid gap-3\">\n                    <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-3\">\n                        {companyLoading ? (\n                            <div className=\"space-y-2\">\n                                <div className=\"h-10 w-full rounded-lg bg-background-secondary/60\" />\n                                <div className=\"h-9 w-40 rounded-lg bg-background-secondary/60 ml-auto\" />\n                                <p className=\"text-[11px] text-content-secondary\">\n                                    Carregando empresa‚Ä¶\n                                </p>\n                            </div>\n                        ) : (\n                            <form\n                                onSubmit={handleSaveCompany}\n                                className=\"space-y-3\"\n                            >\n                                <div className=\"space-y-1\">\n                                    <IconInput\n                                        icon={Building2}\n                                        name=\"companyName\"\n                                        value={company.name}\n                                        onChange={(e) => {\n                                            setCompanyError(null);\n                                            setCompany((prev) => ({\n                                                ...prev,\n                                                name: e.target.value,\n                                            }));\n                                        }}\n                                        placeholder=\"Nome da empresa\"\n                                        className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                    />\n                                </div>\n\n                                {companyError && (\n                                    <div className=\"rounded-xl border p-3 border-destructive/40 bg-destructive/5\">\n                                        <p className=\"text-[11px] text-destructive\">\n                                            {companyError}\n                                        </p>\n                                    </div>\n                                )}\n\n                                <div className=\"flex items-center justify-end gap-3 flex-wrap\">\n                                    <Button\n                                        type=\"submit\"\n                                        variant=\"edit2\"\n                                        size=\"sm\"\n                                        disabled={\n                                            companySaving ||\n                                            companyLoading ||\n                                            !company.name.trim()\n                                        }\n                                    >\n                                        {companySaving\n                                            ? 'Salvando‚Ä¶'\n                                            : 'Salvar empresa'}\n                                    </Button>\n                                </div>\n                            </form>\n                        )}\n                    </div>\n                </div>\n            </section>\n\n            {/* =========================\n             * UNIDADES\n             * ========================= */}\n            <section className=\"space-y-3\">\n                <div className=\"flex items-center justify-between gap-3\">\n                    <div>\n                        <h2 className=\"text-paragraph-medium font-semibold text-content-primary\">\n                            Unidades\n                        </h2>\n                    </div>\n                </div>\n\n                {/* CREATE */}\n                <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-3\">\n                    <form onSubmit={handleCreateUnit} className=\"space-y-3\">\n                        {/* NOME + TELEFONE + CEP na mesma linha */}\n                        <div className=\"grid gap-3 md:grid-cols-3\">\n                            <IconInput\n                                icon={Building2}\n                                placeholder=\"Nome\"\n                                value={newUnit.name}\n                                onChange={(e) =>\n                                    setNewUnit((p) => ({\n                                        ...p,\n                                        name: e.target.value,\n                                    }))\n                                }\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <IconInput\n                                icon={Phone}\n                                placeholder=\"Telefone (00) 00000-0000\"\n                                inputMode=\"tel\"\n                                value={newUnit.phone}\n                                onChange={(e) => {\n                                    const next = formatPhoneBR(e.target.value);\n                                    setNewUnit((p) => ({ ...p, phone: next }));\n                                }}\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <div className=\"space-y-1\">\n                                <IconInput\n                                    icon={MapPin}\n                                    placeholder=\"CEP\"\n                                    inputMode=\"numeric\"\n                                    value={cepMasked}\n                                    onChange={(e) => {\n                                        const cepDigits = onlyDigits(\n                                            e.target.value\n                                        ).slice(0, 8);\n\n                                        if (\n                                            cepDigits !==\n                                            lastFetchedCepRef.current\n                                        ) {\n                                            lastFetchedCepRef.current = '';\n                                        }\n\n                                        setNewUnit((p) => ({\n                                            ...p,\n                                            cep: cepDigits,\n                                        }));\n                                    }}\n                                    className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                                />\n\n                                {cepStatus === 'loading' ? (\n                                    <p className=\"text-[11px] text-content-secondary flex items-center gap-2\">\n                                        <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                                        Buscando endere√ßo‚Ä¶\n                                    </p>\n                                ) : cepError ? (\n                                    <p className=\"text-[11px] text-destructive\">\n                                        {cepError}\n                                    </p>\n                                ) : null}\n                            </div>\n                        </div>\n\n                        {/* ENDERE√áO */}\n                        <div className=\"grid gap-3 md:grid-cols-3\">\n                            <IconInput\n                                icon={MapPin}\n                                placeholder=\"Endere√ßo\"\n                                value={newUnit.street}\n                                disabled\n                                disabledIcon\n                                className=\"bg-background-secondary border-border-primary text-content-primary md:col-span-2 disabled:opacity-70\"\n                            />\n\n                            <IconInput\n                                icon={Hash}\n                                placeholder=\"N√∫mero\"\n                                value={newUnit.number}\n                                onChange={(e) =>\n                                    setNewUnit((p) => ({\n                                        ...p,\n                                        number: e.target.value,\n                                    }))\n                                }\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <IconInput\n                                icon={ToggleRight}\n                                placeholder=\"Complemento\"\n                                value={newUnit.complement}\n                                onChange={(e) =>\n                                    setNewUnit((p) => ({\n                                        ...p,\n                                        complement: e.target.value,\n                                    }))\n                                }\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <IconInput\n                                icon={MapPin}\n                                placeholder=\"Bairro\"\n                                value={newUnit.neighborhood}\n                                disabled\n                                disabledIcon\n                                className=\"bg-background-secondary border-border-primary text-content-primary md:col-span-2 disabled:opacity-70\"\n                            />\n\n                            <IconInput\n                                icon={MapPin}\n                                placeholder=\"Cidade\"\n                                value={newUnit.city}\n                                disabled\n                                disabledIcon\n                                className=\"bg-background-secondary border-border-primary text-content-primary md:col-span-2 disabled:opacity-70\"\n                            />\n\n                            <IconInput\n                                icon={MapPin}\n                                placeholder=\"Estado\"\n                                value={newUnit.state}\n                                disabled\n                                disabledIcon\n                                className=\"bg-background-secondary border-border-primary text-content-primary disabled:opacity-70\"\n                            />\n                        </div>\n\n                        <div className=\"flex items-center justify-end gap-3 flex-wrap\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"edit2\"\n                                size=\"sm\"\n                                disabled={\n                                    unitCreating ||\n                                    !newUnit.name.trim() ||\n                                    cepStatus === 'loading'\n                                }\n                            >\n                                {unitCreating ? 'Criando‚Ä¶' : 'Criar unidade'}\n                            </Button>\n                        </div>\n                    </form>\n                </div>\n\n                {/* LISTA */}\n                {unitsLoading ? (\n                    <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-5 space-y-2\">\n                        <div className=\"h-10 w-full rounded-lg bg-background-secondary/60\" />\n                        <div className=\"h-10 w-full rounded-lg bg-background-secondary/60\" />\n                        <p className=\"text-[11px] text-content-secondary\">\n                            Carregando unidades‚Ä¶\n                        </p>\n                    </div>\n                ) : units.length === 0 ? (\n                    <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-5\">\n                        <p className=\"text-paragraph-medium text-content-primary font-semibold\">\n                            Voc√™ ainda n√£o tem nenhuma unidade cadastrada.\n                        </p>\n                        <p className=\"text-paragraph-small text-content-secondary mt-1\">\n                            Use o formul√°rio acima para criar a primeira.\n                        </p>\n                    </div>\n                ) : (\n                    <Accordion type=\"single\" collapsible className=\"space-y-2\">\n                        {units.map((unit) => {\n                            const openCount = openDaysCount(unit.id);\n                            const isSavingWeekly =\n                                !!weeklySavingByUnitId[unit.id];\n\n                            return (\n                                <AccordionItem\n                                    key={unit.id}\n                                    value={unit.id}\n                                    className=\"border border-border-primary rounded-xl bg-background-tertiary\"\n                                >\n                                    <div className=\"flex items-center justify-between gap-4 px-4 py-3\">\n                                        <AccordionTrigger className=\"flex flex-1 items-center gap-6 hover:no-underline px-0 py-0\">\n                                            <div className=\"flex flex-col text-left min-w-60 flex-1\">\n                                                <p className=\"text-paragraph-medium font-semibold text-content-primary\">\n                                                    {unit.name}\n                                                </p>\n\n                                                <p className=\"text-xs text-content-secondary truncate max-w-155\">\n                                                    Telefone:{' '}\n                                                    <span className=\"text-content-primary\">\n                                                        {unit.phone || '‚Äî'}\n                                                    </span>{' '}\n                                                    ‚Ä¢ Endere√ßo:{' '}\n                                                    <span className=\"text-content-primary\">\n                                                        {unit.address || '‚Äî'}\n                                                    </span>{' '}\n                                                    ‚Ä¢ Status:{' '}\n                                                    <span className=\"text-content-primary\">\n                                                        {unit.isActive\n                                                            ? 'Ativa'\n                                                            : 'Inativa'}\n                                                    </span>\n                                                </p>\n\n                                                <p className=\"mt-1 text-[11px] text-content-secondary\">\n                                                    Criada em{' '}\n                                                    {formatDateTimeBR(\n                                                        unit.createdAt\n                                                    )}\n                                                </p>\n                                            </div>\n\n                                            <div className=\"hidden md:flex items-center gap-2\">\n                                                <Badge variant=\"outline\">\n                                                    {openCount === 0\n                                                        ? 'Sem hor√°rio'\n                                                        : openCount === 1\n                                                          ? '1 dia com hor√°rio'\n                                                          : `${openCount} dias com hor√°rio`}\n                                                </Badge>\n\n                                                <Badge variant=\"outline\">\n                                                    {unit.isActive\n                                                        ? 'Unidade ativa'\n                                                        : 'Unidade inativa'}\n                                                </Badge>\n                                            </div>\n                                        </AccordionTrigger>\n\n                                        <div className=\"pt-2\">\n                                            <Button\n                                                type=\"button\"\n                                                variant=\"edit2\"\n                                                size=\"sm\"\n                                                onClick={() =>\n                                                    openEditUnit(unit.id)\n                                                }\n                                            >\n                                                Editar unidade\n                                            </Button>\n                                        </div>\n                                    </div>\n\n                                    <AccordionContent className=\"border-t border-border-primary px-4 py-4\">\n                                        <UnitAvailabilityCard\n                                            unitId={unit.id}\n                                            weekly={\n                                                weeklyByUnitId[unit.id] ??\n                                                makeDefaultWeekly()\n                                            }\n                                            setWeeklyByUnitId={\n                                                setWeeklyByUnitId\n                                            }\n                                            onSubmitWeekly={(id, e) => {\n                                                if (isSavingWeekly) return;\n                                                return handleSaveWeekly(id, e);\n                                            }}\n                                            onCreateException={() =>\n                                                alert(\n                                                    'UI only: criar exce√ß√£o/folga'\n                                                )\n                                            }\n                                        />\n                                    </AccordionContent>\n                                </AccordionItem>\n                            );\n                        })}\n                    </Accordion>\n                )}\n            </section>\n\n            {/* =========================\n             * ADMINISTRADORES\n             * ========================= */}\n            <section className=\"space-y-3\">\n                <div className=\"flex items-center justify-between gap-3\">\n                    <div>\n                        <h2 className=\"text-paragraph-medium font-semibold text-content-primary\">\n                            Administradores\n                        </h2>\n                    </div>\n                </div>\n\n                <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-3\">\n                    <form onSubmit={handleCreateAdmin} className=\"space-y-3\">\n                        <div className=\"grid gap-3 md:grid-cols-4\">\n                            <IconInput\n                                icon={User}\n                                placeholder=\"Nome\"\n                                value={newAdmin.name}\n                                onChange={(e) =>\n                                    setNewAdmin((p) => ({\n                                        ...p,\n                                        name: e.target.value,\n                                    }))\n                                }\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <IconInput\n                                icon={Mail}\n                                placeholder=\"E-mail\"\n                                value={newAdmin.email}\n                                onChange={(e) =>\n                                    setNewAdmin((p) => ({\n                                        ...p,\n                                        email: e.target.value,\n                                    }))\n                                }\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <IconInput\n                                icon={Phone}\n                                placeholder=\"Telefone (00) 00000-0000\"\n                                inputMode=\"tel\"\n                                value={newAdmin.phone}\n                                onChange={(e) => {\n                                    const next = formatPhoneBR(e.target.value);\n                                    setNewAdmin((p) => ({ ...p, phone: next }));\n                                }}\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n\n                            <IconInput\n                                icon={KeyRound}\n                                placeholder=\"Senha\"\n                                type=\"password\"\n                                value={newAdmin.password}\n                                onChange={(e) =>\n                                    setNewAdmin((p) => ({\n                                        ...p,\n                                        password: e.target.value,\n                                    }))\n                                }\n                                className=\"bg-background-secondary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0\"\n                            />\n                        </div>\n\n                        <div className=\"flex items-center justify-end\">\n                            <p className=\"text-[11px] text-content-secondary\">\n                                A senha deve ter pelo menos 6 caracteres.\n                            </p>\n                        </div>\n\n                        <div className=\"flex items-center justify-end gap-3 flex-wrap\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"edit2\"\n                                size=\"sm\"\n                                disabled={\n                                    adminCreating ||\n                                    !newAdmin.name.trim() ||\n                                    !newAdmin.email.trim() ||\n                                    newAdmin.password.length < 6\n                                }\n                            >\n                                {adminCreating\n                                    ? 'Criando‚Ä¶'\n                                    : 'Criar administrador'}\n                            </Button>\n                        </div>\n                    </form>\n                </div>\n\n                {adminsLoading ? (\n                    <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-5 space-y-2\">\n                        <div className=\"h-10 w-full rounded-lg bg-background-secondary/60\" />\n                        <div className=\"h-10 w-full rounded-lg bg-background-secondary/60\" />\n                        <p className=\"text-[11px] text-content-secondary\">\n                            Carregando administradores‚Ä¶\n                        </p>\n                    </div>\n                ) : admins.length === 0 ? (\n                    <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-5\">\n                        <p className=\"text-paragraph-medium text-content-primary font-semibold\">\n                            Nenhum administrador cadastrado ainda.\n                        </p>\n                        <p className=\"text-paragraph-small text-content-secondary mt-1\">\n                            Crie um admin para delegar acessos do painel.\n                        </p>\n                    </div>\n                ) : (\n                    <Accordion type=\"single\" collapsible className=\"space-y-2\">\n                        {admins.map((row) => {\n                            const pending =\n                                pendingPermsByAdminId[row.id] ??\n                                clonePerms(row.permissions);\n                            const isDirty = !!dirtyPermsByAdminId[row.id];\n                            const isSaving = !!savingPermsByAdminId[row.id];\n\n                            return (\n                                <AccordionItem\n                                    key={row.id}\n                                    value={row.id}\n                                    className=\"border border-border-primary rounded-xl bg-background-tertiary\"\n                                >\n                                    <div className=\"flex items-center justify-between gap-4 px-4 py-3\">\n                                        <AccordionTrigger className=\"flex flex-1 items-center gap-6 hover:no-underline px-0 py-0\">\n                                            <div className=\"flex flex-col text-left min-w-60 flex-1\">\n                                                <p className=\"text-paragraph-medium font-semibold text-content-primary\">\n                                                    {row.name}\n                                                </p>\n                                                <p className=\"text-xs text-content-secondary truncate max-w-65\">\n                                                    {row.email || 'Sem e-mail'}\n                                                </p>\n                                            </div>\n\n                                            <div className=\"hidden md:flex flex-col text-left w-35\">\n                                                <span className=\"text-[11px] text-content-secondary\">\n                                                    Telefone\n                                                </span>\n                                                <span className=\"text-xs text-content-primary\">\n                                                    {row.phone}\n                                                </span>\n                                            </div>\n\n                                            <div className=\"hidden sm:flex flex-col text-left w-45\">\n                                                <span className=\"text-[11px] text-content-secondary\">\n                                                    Tipo\n                                                </span>\n                                                <span className=\"text-xs text-content-primary\">\n                                                    {row.isOwner\n                                                        ? 'Dono (acesso total)'\n                                                        : 'Admin configur√°vel'}\n                                                </span>\n                                            </div>\n                                        </AccordionTrigger>\n\n                                        {!row.isOwner && (\n                                            <div className=\"flex items-center gap-2\">\n                                                <Button\n                                                    type=\"button\"\n                                                    variant=\"edit2\"\n                                                    size=\"sm\"\n                                                    disabled={\n                                                        !isDirty || isSaving\n                                                    }\n                                                    onClick={() =>\n                                                        saveAdminPermissions(\n                                                            row.id\n                                                        )\n                                                    }\n                                                >\n                                                    {isSaving\n                                                        ? 'Salvando‚Ä¶'\n                                                        : 'Salvar permiss√µes'}\n                                                </Button>\n\n                                                <Button\n                                                    type=\"button\"\n                                                    variant={\n                                                        row.isActive\n                                                            ? 'destructive'\n                                                            : 'active'\n                                                    }\n                                                    size=\"sm\"\n                                                    onClick={() =>\n                                                        toggleAdminActive(\n                                                            row.id,\n                                                            !row.isActive\n                                                        )\n                                                    }\n                                                >\n                                                    {row.isActive\n                                                        ? 'Desativar'\n                                                        : 'Ativar'}\n                                                </Button>\n                                            </div>\n                                        )}\n                                    </div>\n\n                                    <AccordionContent className=\"border-t border-border-primary px-4 py-4\">\n                                        <div className=\"grid gap-4 md:grid-cols-2\">\n                                            <div className=\"rounded-xl border border-border-primary bg-background-secondary p-4 space-y-2\">\n                                                <p className=\"text-label-small text-content-primary\">\n                                                    Dados do admin\n                                                </p>\n                                                <div className=\"space-y-1 text-paragraph-small\">\n                                                    <p>\n                                                        <span className=\"text-content-secondary\">\n                                                            Nome:{' '}\n                                                        </span>\n                                                        <span className=\"text-content-primary font-medium\">\n                                                            {row.name}\n                                                        </span>\n                                                    </p>\n                                                    <p>\n                                                        <span className=\"text-content-secondary\">\n                                                            E-mail:{' '}\n                                                        </span>\n                                                        <span className=\"text-content-primary\">\n                                                            {row.email || '‚Äî'}\n                                                        </span>\n                                                    </p>\n                                                    <p>\n                                                        <span className=\"text-content-secondary\">\n                                                            Telefone:{' '}\n                                                        </span>\n                                                        <span className=\"text-content-primary\">\n                                                            {row.phone}\n                                                        </span>\n                                                    </p>\n                                                    <p>\n                                                        <span className=\"text-content-secondary\">\n                                                            Cadastrado em:{' '}\n                                                        </span>\n                                                        <span className=\"text-content-primary\">\n                                                            {formatDateTimeBR(\n                                                                row.createdAt\n                                                            )}\n                                                        </span>\n                                                    </p>\n                                                    <p>\n                                                        <span className=\"text-content-secondary\">\n                                                            Status:{' '}\n                                                        </span>\n                                                        <span className=\"text-content-primary font-medium\">\n                                                            {row.isActive\n                                                                ? 'Ativo'\n                                                                : 'Inativo'}\n                                                        </span>\n                                                    </p>\n                                                </div>\n\n                                                {!row.isOwner && isDirty && (\n                                                    <div className=\"mt-3 rounded-xl border border-amber-500/30 bg-amber-500/10 p-3\">\n                                                        <p className=\"text-[11px] text-content-secondary\">\n                                                            Voc√™ tem altera√ß√µes\n                                                            pendentes. Clique em{' '}\n                                                            <strong className=\"text-content-primary\">\n                                                                ‚ÄúSalvar\n                                                                permiss√µes‚Äù\n                                                            </strong>{' '}\n                                                            para aplicar.\n                                                        </p>\n                                                    </div>\n                                                )}\n                                            </div>\n\n                                            <div className=\"rounded-xl border border-border-primary bg-background-secondary p-4 space-y-3\">\n                                                <p className=\"text-label-small text-content-primary\">\n                                                    Permiss√µes de acesso\n                                                </p>\n\n                                                {row.isOwner ? (\n                                                    <p className=\"text-paragraph-small text-content-secondary\">\n                                                        Este usu√°rio √© o{' '}\n                                                        <strong>dono</strong> do\n                                                        estabelecimento e possui\n                                                        acesso total a todos os\n                                                        m√≥dulos.\n                                                    </p>\n                                                ) : (\n                                                    <>\n                                                        <div className=\"grid gap-2 sm:grid-cols-2\">\n                                                            {(\n                                                                Object.keys(\n                                                                    PERMISSION_LABELS\n                                                                ).filter(\n                                                                    (k) =>\n                                                                        PERMISSION_LABELS[\n                                                                            k as keyof PermissionsUI\n                                                                        ]\n                                                                ) as (keyof PermissionsUI)[]\n                                                            ).map((k) => (\n                                                                <PermissionBox\n                                                                    key={k}\n                                                                    label={\n                                                                        PERMISSION_LABELS[\n                                                                            k\n                                                                        ]!\n                                                                    }\n                                                                    value={\n                                                                        !!pending[\n                                                                            k\n                                                                        ]\n                                                                    }\n                                                                    disabled={\n                                                                        isSaving\n                                                                    }\n                                                                    onToggle={() =>\n                                                                        togglePermission(\n                                                                            row.id,\n                                                                            k\n                                                                        )\n                                                                    }\n                                                                />\n                                                            ))}\n                                                        </div>\n\n                                                        <p className=\"text-[11px] text-content-secondary\">\n                                                            Clique nos boxes\n                                                            para\n                                                            liberar/bloquear.\n                                                            Verde = liberado,\n                                                            vermelho =\n                                                            bloqueado.\n                                                        </p>\n                                                    </>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </AccordionContent>\n                                </AccordionItem>\n                            );\n                        })}\n                    </Accordion>\n                )}\n            </section>\n        </div>\n    );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '15', cy: '12', r: '3', key: '1afu0r' }],\n  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '7', key: 'g7kal2' }],\n];\n\n/**\n * @component @name ToggleRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjEyIiByPSIzIiAvPgogIDxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIxNCIgeD0iMiIgeT0iNSIgcng9IjciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/toggle-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ToggleRight = createLucideIcon('toggle-right', __iconNode);\n\nexport default ToggleRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '4', x2: '20', y1: '9', y2: '9', key: '4lhtct' }],\n  ['line', { x1: '4', x2: '20', y1: '15', y2: '15', key: 'vyu0kd' }],\n  ['line', { x1: '10', x2: '8', y1: '3', y2: '21', key: '1ggp8o' }],\n  ['line', { x1: '16', x2: '14', y1: '3', y2: '21', key: 'weycgp' }],\n];\n\n/**\n * @component @name Hash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iOSIgeTI9IjkiIC8+CiAgPGxpbmUgeDE9IjQiIHgyPSIyMCIgeTE9IjE1IiB5Mj0iMTUiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjMiIHkyPSIyMSIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNCIgeTE9IjMiIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/hash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Hash = createLucideIcon('hash', __iconNode);\n\nexport default Hash;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n"],"names":[],"mappings":"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","ignoreList":[2,3,4]}