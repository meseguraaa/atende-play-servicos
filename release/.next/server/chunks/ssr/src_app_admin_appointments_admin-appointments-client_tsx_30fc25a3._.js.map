{"version":3,"sources":["turbopack:///[project]/src/app/admin/appointments/admin-appointments-client.tsx","turbopack:///[project]/src/components/date-picker/index.ts","turbopack:///[project]/src/components/admin/appointment/new-appointment-dialog/new-appointment-dialog.tsx","turbopack:///[project]/src/components/admin/appointment/admin-appointment-row/admin-appointment-row.tsx"],"sourcesContent":["// src/app/admin/appointments/admin-appointments-client.tsx\n'use client';\n\nimport * as React from 'react';\n\nimport { DatePicker } from '@/components/date-picker';\nimport { Button } from '@/components/ui/button';\n\nimport NewAppointmentDialog from '@/components/admin/appointment/new-appointment-dialog/new-appointment-dialog';\nimport { AdminAppointmentRow } from '@/components/admin/appointment/admin-appointment-row/admin-appointment-row';\n\nexport type UnitPickerOption = {\n    id: string;\n    name: string;\n};\n\ntype AppointmentStatus = 'PENDING' | 'DONE' | 'CANCELED';\n\nexport type AppointmentItem = {\n    id: string;\n    unitId: string;\n\n    clientId: string;\n    clientName: string;\n    phone: string;\n\n    description: string;\n\n    scheduleAt: string | Date;\n\n    status: AppointmentStatus;\n\n    professionalId: string | null;\n    professional: {\n        id: string;\n        name: string;\n        imageUrl: string | null;\n    } | null;\n\n    serviceId: string | null;\n};\n\nexport type ProfessionalItem = {\n    id: string;\n    name: string;\n    imageUrl: string | null;\n    isActive: boolean;\n};\n\nexport type ServiceItem = {\n    id: string;\n    name: string;\n    durationMinutes: number;\n    price?: number;\n    isActive: boolean;\n\n    // ‚úÖ schema: Service.unitId √© nullable\n    unitId?: string | null;\n};\n\nexport type ClientItem = {\n    id: string;\n    name: string;\n    phone: string | null;\n};\n\ntype AdminAppointmentsClientProps = {\n    scopeLabel: string;\n\n    /**\n     * ‚úÖ NOVO: base para reaproveitar o UI legado (sem amarrar rotas antigas)\n     * - date: yyyy-MM-dd (S√£o Paulo)\n     * - activeUnitId: unidade ativa j√° resolvida no server\n     */\n    date?: string;\n    activeUnitId?: string | null;\n\n    units?: UnitPickerOption[];\n\n    appointments?: AppointmentItem[];\n    professionals?: ProfessionalItem[];\n    services?: ServiceItem[];\n    clients?: ClientItem[];\n\n    /**\n     * ‚úÖ Mantemos essas props opcionais por compatibilidade\n     * enquanto o filtro por unidade fica centralizado no admin-nav.\n     */\n    canSeeAllUnits?: boolean;\n    unitPickerDisabled?: boolean;\n};\n\nfunction getInitials(name: string): string {\n    return String(name ?? '')\n        .trim()\n        .split(/\\s+/)\n        .filter(Boolean)\n        .map((n) => n[0])\n        .join('')\n        .slice(0, 2)\n        .toUpperCase();\n}\n\nfunction safeLocaleCompare(a: string, b: string): number {\n    try {\n        // ‚úÖ forma correta: compareString = b, locales = 'pt-BR'\n        return a.localeCompare(b, 'pt-BR', { sensitivity: 'base' });\n    } catch {\n        // fallback sem locale (n√£o derruba a p√°gina)\n        return a.localeCompare(b);\n    }\n}\n\nexport default function AdminAppointmentsClient({\n    scopeLabel,\n    date,\n    activeUnitId,\n    units = [],\n    appointments = [],\n    professionals = [],\n    services = [],\n    clients = [],\n}: AdminAppointmentsClientProps) {\n    const groups = React.useMemo(() => {\n        // Agrupa por profissional (inclui \"Sem profissional\" se vier algo assim)\n        const map = new Map<\n            string,\n            {\n                key: string;\n                professionalId: string | null;\n                professionalName: string;\n                professionalImageUrl: string | null;\n                appointments: AppointmentItem[];\n            }\n        >();\n\n        for (const appt of appointments) {\n            const key = appt.professionalId ?? 'no-professional';\n            const professionalName =\n                appt.professional?.name ?? 'Sem profissional';\n            const professionalImageUrl = appt.professional?.imageUrl ?? null;\n\n            if (!map.has(key)) {\n                map.set(key, {\n                    key,\n                    professionalId: appt.professionalId ?? null,\n                    professionalName,\n                    professionalImageUrl,\n                    appointments: [],\n                });\n            }\n\n            map.get(key)!.appointments.push(appt);\n        }\n\n        // Se n√£o houver appointments, mas houver lista de profissionais,\n        // cria grupos vazios para manter o layout (reaproveito do UI legado).\n        if (appointments.length === 0 && professionals.length > 0) {\n            for (const p of professionals) {\n                const key = p.id;\n                if (!map.has(key)) {\n                    map.set(key, {\n                        key,\n                        professionalId: p.id,\n                        professionalName: p.name,\n                        professionalImageUrl: p.imageUrl ?? null,\n                        appointments: [],\n                    });\n                }\n            }\n        }\n\n        const arr = Array.from(map.values());\n\n        // Ordena: profissional com nome, \"Sem profissional\" por √∫ltimo\n        arr.sort((a, b) => {\n            if (a.key === 'no-professional') return 1;\n            if (b.key === 'no-professional') return -1;\n\n            return safeLocaleCompare(a.professionalName, b.professionalName);\n        });\n\n        // Ordena appointments dentro do grupo\n        for (const g of arr) {\n            g.appointments.sort((x, y) => {\n                const ax = new Date(x.scheduleAt).getTime();\n                const ay = new Date(y.scheduleAt).getTime();\n                return ax - ay;\n            });\n        }\n\n        return arr;\n    }, [appointments, professionals]);\n\n    const unitLabel = React.useMemo(() => {\n        if (!activeUnitId) return null;\n        const u = units.find((x) => x.id === activeUnitId);\n        return u?.name ?? null;\n    }, [activeUnitId, units]);\n\n    return (\n        <div className=\"space-y-6 max-w-7xl\">\n            <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n                <div>\n                    <h1 className=\"text-title text-content-primary\">\n                        Agendamentos\n                    </h1>\n                    <p className=\"text-paragraph-medium-size text-content-secondary\">\n                        Gerencie os agendamentos do dia, organizados por\n                        profissional.\n                    </p>\n                </div>\n\n                <div className=\"flex flex-wrap items-center justify-end gap-2\">\n                    <NewAppointmentDialog\n                        forcedUnitId={activeUnitId ?? null}\n                        units={units}\n                        clients={clients}\n                        professionals={professionals}\n                        services={services}\n                        appointments={appointments}\n                    >\n                        <Button variant=\"brand\">Agendar</Button>\n                    </NewAppointmentDialog>\n\n                    <DatePicker />\n                </div>\n            </div>\n\n            {groups.length === 0 ? (\n                <section className=\"border border-border-primary rounded-xl overflow-hidden bg-background-tertiary\">\n                    <div className=\"border-b border-border-primary px-4 py-3 bg-muted/40 flex justify-between items-center\">\n                        <p className=\"font-medium text-content-primary\">\n                            Agendamentos\n                        </p>\n                    </div>\n\n                    <div className=\"p-6 text-paragraph-small text-content-secondary text-center\">\n                        Nenhum agendamento encontrado para esta data.\n                    </div>\n                </section>\n            ) : (\n                <section className=\"space-y-4\">\n                    {groups.map((group) => {\n                        const initials = getInitials(group.professionalName);\n\n                        return (\n                            <div\n                                key={group.key}\n                                className=\"border border-border-primary rounded-xl overflow-hidden bg-background-tertiary\"\n                            >\n                                <div className=\"border-b border-border-primary px-4 py-3 bg-muted/40 flex flex-col gap-1 md:flex-row md:items-center md:justify-between\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"h-9 w-9 rounded-full bg-background-secondary border border-border-primary overflow-hidden flex items-center justify-center text-[11px] font-medium text-content-secondary shrink-0\">\n                                            {group.professionalImageUrl ? (\n                                                // eslint-disable-next-line @next/next/no-img-element\n                                                <img\n                                                    src={\n                                                        group.professionalImageUrl\n                                                    }\n                                                    alt={group.professionalName}\n                                                    className=\"h-full w-full object-cover\"\n                                                />\n                                            ) : (\n                                                <span>{initials || '?'}</span>\n                                            )}\n                                        </div>\n\n                                        <div className=\"flex flex-col\">\n                                            <h2 className=\"text-label-large text-content-primary\">\n                                                {group.professionalName}\n                                            </h2>\n                                            <p className=\"text-paragraph-small text-content-secondary\">\n                                                Agendamento(s):{' '}\n                                                {group.appointments.length}\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {group.appointments.length === 0 ? (\n                                    <div className=\"p-6 text-paragraph-small text-content-secondary text-center\">\n                                        Nenhum agendamento para este\n                                        profissional.\n                                    </div>\n                                ) : (\n                                    <div className=\"overflow-x-auto\">\n                                        <table className=\"min-w-full text-sm\">\n                                            <thead>\n                                                <tr className=\"border-b border-border-primary text-content-secondary\">\n                                                    <th className=\"px-4 py-3 text-left font-medium\">\n                                                        Hora\n                                                    </th>\n                                                    <th className=\"px-4 py-3 text-left font-medium\">\n                                                        Cliente\n                                                    </th>\n                                                    <th className=\"px-4 py-3 text-left font-medium\">\n                                                        Telefone\n                                                    </th>\n                                                    <th className=\"px-4 py-3 text-left font-medium\">\n                                                        Servi√ßo\n                                                    </th>\n                                                    <th className=\"px-4 py-3 text-left font-medium\">\n                                                        Status\n                                                    </th>\n                                                    <th className=\"px-4 py-3 text-right font-medium\">\n                                                        A√ß√µes\n                                                    </th>\n                                                </tr>\n                                            </thead>\n\n                                            <tbody>\n                                                {group.appointments.map(\n                                                    (appt) => (\n                                                        <AdminAppointmentRow\n                                                            key={appt.id}\n                                                            appt={appt}\n                                                            forcedUnitId={\n                                                                activeUnitId ??\n                                                                null\n                                                            }\n                                                            units={units}\n                                                            clients={clients}\n                                                            professionals={\n                                                                professionals\n                                                            }\n                                                            services={services}\n                                                        />\n                                                    )\n                                                )}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                )}\n                            </div>\n                        );\n                    })}\n                </section>\n            )}\n        </div>\n    );\n}\n","export * from './date-picker';\n","// src/components/admin/appointment/new-appointment-dialog.tsx\n'use client';\n\nimport * as React from 'react';\nimport { useMemo, useRef, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from '@/components/ui/dialog';\n\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n    Popover,\n    PopoverContent,\n    PopoverTrigger,\n} from '@/components/ui/popover';\n\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\nimport { Calendar } from '@/components/ui/calendar';\nimport { cn } from '@/lib/utils';\n\nimport {\n    Calendar as CalendarIcon,\n    Check,\n    ChevronDown,\n    Clock,\n    Loader2,\n    Phone,\n    Search,\n    Store,\n    User,\n    UserCircle,\n    Scissors,\n    X,\n} from 'lucide-react';\n\nimport { format, startOfToday } from 'date-fns';\nimport { IMaskInput } from 'react-imask';\n\nexport type UnitOption = { id: string; name: string };\n\nexport type ClientOption = {\n    id: string;\n    name: string;\n    phone: string | null;\n};\n\nexport type ProfessionalOption = {\n    id: string;\n    name: string;\n    imageUrl: string | null;\n    isActive: boolean;\n};\n\nexport type ServiceOption = {\n    id: string;\n    name: string;\n    durationMinutes: number;\n    price?: number;\n    isActive: boolean;\n    unitId?: string | null;\n};\n\nexport type AppointmentOption = {\n    id: string;\n    unitId: string;\n    clientId: string;\n    clientName: string;\n    phone: string;\n    description: string;\n    scheduleAt: string | Date;\n    status: 'PENDING' | 'DONE' | 'CANCELED';\n    professionalId: string | null;\n    serviceId: string | null;\n};\n\ntype Props = {\n    children?: React.ReactNode;\n\n    // escopo do admin-nav\n    forcedUnitId?: string | null;\n\n    // dados pr√©-carregados no server (page.tsx)\n    units?: UnitOption[];\n    clients?: ClientOption[];\n    professionals?: ProfessionalOption[];\n    services?: ServiceOption[];\n    appointments?: AppointmentOption[];\n};\n\ntype AvailabilityTimesResponse = {\n    ok: boolean;\n    error?: string;\n    data?: {\n        date?: string;\n        unitId?: string;\n        professionalId?: string;\n        source?: string;\n        durationMinutes?: number;\n        intervals?: Array<{ startTime: string; endTime: string }>;\n        times?: string[];\n    };\n};\n\nfunction formatDateParamYYYYMMDD(d: Date): string {\n    const yyyy = d.getFullYear();\n    const mm = String(d.getMonth() + 1).padStart(2, '0');\n    const dd = String(d.getDate()).padStart(2, '0');\n    return `${yyyy}-${mm}-${dd}`;\n}\n\nexport default function NewAppointmentDialog({\n    children,\n    forcedUnitId = null,\n    units = [],\n    clients = [],\n    professionals = [],\n    services = [],\n    appointments: _appointments = [],\n}: Props) {\n    const router = useRouter();\n\n    const [open, setOpen] = useState(false);\n    const [isDatePickerOpen, setIsDatePickerOpen] = useState(false);\n\n    // ===== ADMIN: cliente picker =====\n    const [isClientPickerOpen, setIsClientPickerOpen] = useState(false);\n    const [clientQuery, setClientQuery] = useState('');\n    const [selectedClientId, setSelectedClientId] = useState<string>('');\n    const [clientResults, setClientResults] = useState<ClientOption[]>([]);\n    const [isSearchingClients, setIsSearchingClients] = useState(false);\n\n    const [clientName, setClientName] = useState('');\n    const [phone, setPhone] = useState('');\n\n    // ===== campos =====\n    const [unitId, setUnitId] = useState<string>(forcedUnitId ?? '');\n    const [professionalId, setProfessionalId] = useState<string>('');\n    const [serviceId, setServiceId] = useState<string>('');\n    const [scheduleDate, setScheduleDate] = useState<Date | undefined>(\n        undefined\n    );\n    const [time, setTime] = useState<string>('');\n\n    // ===== hor√°rios din√¢micos (por disponibilidade) =====\n    const [availableTimes, setAvailableTimes] = useState<string[]>([]);\n    const [isLoadingTimes, setIsLoadingTimes] = useState(false);\n    const [timesError, setTimesError] = useState<string | null>(null);\n    const lastTimesAbortRef = useRef<AbortController | null>(null);\n\n    const [submitting, setSubmitting] = useState(false);\n\n    const activeUnits = useMemo(() => units, [units]);\n\n    const forcedUnitLabel = useMemo(() => {\n        if (!forcedUnitId) return null;\n        return activeUnits.find((u) => u.id === forcedUnitId)?.name ?? null;\n    }, [forcedUnitId, activeUnits]);\n\n    const selectedClient = useMemo(() => {\n        if (!selectedClientId) return null;\n        return clients.find((c) => c.id === selectedClientId) ?? null;\n    }, [selectedClientId, clients]);\n\n    const servicesForUnit = useMemo(() => {\n        if (!unitId) return services.filter((s) => s.isActive !== false);\n        return services\n            .filter((s) => s.isActive !== false)\n            .filter((s) => (s.unitId ? s.unitId === unitId : true));\n    }, [services, unitId]);\n\n    // üëá gate: s√≥ libera o fluxo depois de selecionar ‚ÄúCliente‚Äù\n    const canProceed = !!selectedClientId;\n\n    const lastClientSearchAbortRef = useRef<AbortController | null>(null);\n\n    const resetDependentFlow = (keepUnit: boolean) => {\n        setProfessionalId('');\n        setServiceId('');\n        setScheduleDate(undefined);\n        setTime('');\n\n        // hor√°rios dependem de unidade/profissional/servi√ßo/data\n        setAvailableTimes([]);\n        setTimesError(null);\n        setIsLoadingTimes(false);\n\n        if (keepUnit) return;\n        setUnitId(forcedUnitId ?? '');\n    };\n\n    const handleSelectClient = (c: ClientOption) => {\n        setSelectedClientId(c.id);\n        setClientName(c.name ?? '');\n        setPhone(c.phone ?? '');\n        setClientQuery(`${c.name}${c.phone ? ` ‚Ä¢ ${c.phone}` : ''}`);\n        setIsClientPickerOpen(false);\n        resetDependentFlow(true);\n    };\n\n    const clearSelectedClient = () => {\n        setSelectedClientId('');\n        setClientQuery('');\n        setClientResults([]);\n        setIsClientPickerOpen(false);\n\n        setClientName('');\n        setPhone('');\n        resetDependentFlow(false);\n    };\n\n    // Busca local (at√© 250). Se quiser depois, liga endpoint /api/admin/clients/search igual no legado.\n    React.useEffect(() => {\n        if (!open) return;\n\n        const q = clientQuery.trim();\n        if (!q) {\n            setClientResults([]);\n            return;\n        }\n\n        // se j√° selecionou e s√≥ abriu novamente, n√£o precisa mexer\n        if (selectedClientId && selectedClient) {\n            const label = `${selectedClient.name}${selectedClient.phone ? ` ‚Ä¢ ${selectedClient.phone}` : ''}`;\n            if (q === label) return;\n        }\n\n        if (q.length < 2) {\n            setClientResults(\n                clients\n                    .filter((c) => {\n                        const name = (c.name ?? '').toLowerCase();\n                        const ph = (c.phone ?? '').toLowerCase();\n                        const qq = q.toLowerCase();\n                        return name.includes(qq) || ph.includes(qq);\n                    })\n                    .slice(0, 20)\n            );\n            return;\n        }\n\n        const debounce = setTimeout(async () => {\n            // local\n            if (clients.length > 0 && clients.length <= 250) {\n                setClientResults(\n                    clients\n                        .filter((c) => {\n                            const name = (c.name ?? '').toLowerCase();\n                            const ph = (c.phone ?? '').toLowerCase();\n                            const qq = q.toLowerCase();\n                            return name.includes(qq) || ph.includes(qq);\n                        })\n                        .slice(0, 20)\n                );\n                return;\n            }\n\n            // fallback (se algum dia quiser buscar remoto)\n            try {\n                setIsSearchingClients(true);\n                if (lastClientSearchAbortRef.current) {\n                    lastClientSearchAbortRef.current.abort();\n                }\n                const ac = new AbortController();\n                lastClientSearchAbortRef.current = ac;\n\n                const params = new URLSearchParams();\n                params.set('q', q);\n                params.set('take', '20');\n\n                const res = await fetch(\n                    `/api/admin/clients/search?${params.toString()}`,\n                    {\n                        method: 'GET',\n                        signal: ac.signal,\n                        headers: { 'Content-Type': 'application/json' },\n                    }\n                );\n\n                if (!res.ok) {\n                    setClientResults([]);\n                    return;\n                }\n\n                const data = (await res.json()) as { clients?: ClientOption[] };\n                setClientResults(\n                    Array.isArray(data?.clients) ? data.clients : []\n                );\n            } catch (err: any) {\n                if (err?.name === 'AbortError') return;\n                setClientResults([]);\n            } finally {\n                setIsSearchingClients(false);\n            }\n        }, 280);\n\n        return () => clearTimeout(debounce);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [clientQuery, open]);\n\n    // abre modal: injeta unidade for√ßada\n    React.useEffect(() => {\n        if (!open) return;\n        if (forcedUnitId) setUnitId(forcedUnitId);\n    }, [open, forcedUnitId]);\n\n    // ‚úÖ Carrega hor√°rios dispon√≠veis conforme unidade + profissional + servi√ßo + data\n    React.useEffect(() => {\n        if (!open) return;\n\n        // s√≥ faz sentido depois que o fluxo est√° liberado e campos selecionados\n        if (\n            !canProceed ||\n            !unitId ||\n            !professionalId ||\n            !serviceId ||\n            !scheduleDate\n        ) {\n            setAvailableTimes([]);\n            setTimesError(null);\n            setIsLoadingTimes(false);\n            return;\n        }\n\n        const dateStr = formatDateParamYYYYMMDD(scheduleDate);\n\n        const run = async () => {\n            try {\n                setIsLoadingTimes(true);\n                setTimesError(null);\n\n                // abort anterior\n                if (lastTimesAbortRef.current) {\n                    lastTimesAbortRef.current.abort();\n                }\n                const ac = new AbortController();\n                lastTimesAbortRef.current = ac;\n\n                const params = new URLSearchParams();\n                params.set('unitId', unitId);\n                params.set('professionalId', professionalId);\n                params.set('serviceId', serviceId); // ‚úÖ aqui!\n                params.set('date', dateStr);\n\n                const res = await fetch(\n                    `/api/admin/availability/times?${params.toString()}`,\n                    {\n                        method: 'GET',\n                        signal: ac.signal,\n                        headers: { 'Content-Type': 'application/json' },\n                    }\n                );\n\n                const payload = (await res\n                    .json()\n                    .catch(() => null)) as AvailabilityTimesResponse | null;\n\n                if (!res.ok || !payload?.ok) {\n                    const msg =\n                        payload?.error ??\n                        'N√£o foi poss√≠vel carregar os hor√°rios do profissional.';\n                    setAvailableTimes([]);\n                    setTimesError(msg);\n                    return;\n                }\n\n                const times = Array.isArray(payload?.data?.times)\n                    ? payload!.data!.times!\n                    : [];\n\n                setAvailableTimes(times);\n\n                // se o hor√°rio selecionado n√£o existe mais, limpa\n                if (time && !times.includes(time)) {\n                    setTime('');\n                }\n            } catch (err: any) {\n                if (err?.name === 'AbortError') return;\n                setAvailableTimes([]);\n                setTimesError('Erro ao carregar os hor√°rios do profissional.');\n            } finally {\n                setIsLoadingTimes(false);\n            }\n        };\n\n        run();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open, canProceed, unitId, professionalId, serviceId, scheduleDate]);\n\n    const handleSubmit = async () => {\n        if (!selectedClientId) {\n            toast.error('Selecione um cliente para continuar.');\n            return;\n        }\n        if (!clientName.trim()) {\n            toast.error('Informe o nome do cliente.');\n            return;\n        }\n        if (!phone.trim()) {\n            toast.error('Informe o telefone.');\n            return;\n        }\n        if (!unitId) {\n            toast.error('Selecione a unidade.');\n            return;\n        }\n        if (!professionalId) {\n            toast.error('Selecione o profissional.');\n            return;\n        }\n        if (!serviceId) {\n            toast.error('Selecione o servi√ßo.');\n            return;\n        }\n        if (!scheduleDate) {\n            toast.error('Selecione o dia.');\n            return;\n        }\n        if (!time) {\n            toast.error('Selecione o hor√°rio.');\n            return;\n        }\n\n        // valida que o hor√°rio ainda est√° dispon√≠vel\n        if (availableTimes.length > 0 && !availableTimes.includes(time)) {\n            toast.error(\n                'Este hor√°rio n√£o est√° mais dispon√≠vel. Selecione outro.'\n            );\n            setTime('');\n            return;\n        }\n\n        const [hh, mm] = time.split(':').map(Number);\n        const scheduleAt = new Date(scheduleDate);\n        scheduleAt.setHours(hh, mm, 0, 0);\n\n        const service = services.find((s) => s.id === serviceId);\n        const description = service?.name ?? 'Atendimento';\n\n        try {\n            setSubmitting(true);\n\n            const res = await fetch('/api/admin/appointments', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    clientId: selectedClientId,\n                    clientName: clientName.trim(),\n                    phone: phone.trim(),\n                    unitId,\n                    professionalId,\n                    serviceId,\n                    description,\n                    scheduleAt: scheduleAt.toISOString(),\n                }),\n            });\n\n            const data = await res.json().catch(() => ({}));\n\n            if (!res.ok) {\n                toast.error(\n                    data?.error ?? 'N√£o foi poss√≠vel criar o agendamento.'\n                );\n                return;\n            }\n\n            toast.success('Agendamento criado com sucesso!');\n            setOpen(false);\n\n            // reseta\n            clearSelectedClient();\n            setUnitId(forcedUnitId ?? '');\n            setProfessionalId('');\n            setServiceId('');\n            setScheduleDate(undefined);\n            setTime('');\n\n            setAvailableTimes([]);\n            setTimesError(null);\n            setIsLoadingTimes(false);\n\n            router.refresh();\n        } catch (err) {\n            toast.error('Erro ao criar agendamento.');\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    const timeSelectDisabled =\n        !canProceed ||\n        !unitId ||\n        !professionalId ||\n        !serviceId ||\n        !scheduleDate ||\n        isLoadingTimes;\n\n    return (\n        <Dialog open={open} onOpenChange={setOpen}>\n            <DialogTrigger asChild>\n                <span className=\"inline-flex\">{children}</span>\n            </DialogTrigger>\n\n            <DialogContent\n                variant=\"appointment\"\n                overlayVariant=\"blurred\"\n                showCloseButton\n            >\n                <DialogHeader>\n                    <DialogTitle size=\"modal\">Novo agendamento</DialogTitle>\n                    <DialogDescription size=\"modal\">\n                        Selecione um cliente e preencha os dados para realizar o\n                        agendamento:\n                    </DialogDescription>\n                </DialogHeader>\n\n                <div className=\"space-y-4\">\n                    {/* 1) CLIENTE */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Cliente\n                        </p>\n\n                        <Popover\n                            open={isClientPickerOpen}\n                            onOpenChange={setIsClientPickerOpen}\n                        >\n                            <PopoverTrigger asChild>\n                                <div className=\"relative\">\n                                    <Search\n                                        className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                        size={18}\n                                    />\n\n                                    <Input\n                                        value={clientQuery}\n                                        onFocus={() =>\n                                            setIsClientPickerOpen(true)\n                                        }\n                                        onChange={(e) => {\n                                            setClientQuery(e.target.value);\n                                            if (selectedClientId)\n                                                setSelectedClientId('');\n                                        }}\n                                        placeholder=\"Digite para buscar um cliente\"\n                                        className=\"pl-10 pr-10\"\n                                    />\n\n                                    {selectedClientId || clientQuery ? (\n                                        <button\n                                            type=\"button\"\n                                            className=\"absolute right-2 top-1/2 -translate-y-1/2 transform rounded-md p-1 text-content-secondary hover:text-content-primary\"\n                                            onClick={clearSelectedClient}\n                                            aria-label=\"Limpar cliente\"\n                                        >\n                                            <X className=\"h-4 w-4\" />\n                                        </button>\n                                    ) : null}\n                                </div>\n                            </PopoverTrigger>\n\n                            <PopoverContent\n                                className=\"w-[--radix-popover-trigger-width] p-2\"\n                                align=\"start\"\n                                onOpenAutoFocus={(e) => e.preventDefault()}\n                                onCloseAutoFocus={(e) => e.preventDefault()}\n                            >\n                                <div className=\"max-h-64 overflow-auto rounded-md border border-border-primary bg-background-secondary\">\n                                    {!clientQuery.trim() ? null : isSearchingClients ? (\n                                        <div className=\"flex items-center gap-2 px-3 py-3 text-sm text-content-secondary\">\n                                            <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                            Buscando clientes...\n                                        </div>\n                                    ) : clientQuery.trim().length < 2 ? (\n                                        <div className=\"px-3 py-3 text-sm text-content-secondary\">\n                                            Dica: digite pelo menos{' '}\n                                            <b>2 letras</b> para buscar melhor.\n                                        </div>\n                                    ) : clientResults.length === 0 ? (\n                                        <div className=\"px-3 py-3 text-sm text-content-secondary\">\n                                            Nenhum cliente encontrado\n                                        </div>\n                                    ) : (\n                                        <div className=\"divide-y divide-border-primary\">\n                                            {clientResults.map((c) => {\n                                                const active =\n                                                    selectedClientId === c.id;\n                                                return (\n                                                    <button\n                                                        key={c.id}\n                                                        type=\"button\"\n                                                        className={cn(\n                                                            'w-full px-3 py-2 text-left text-sm hover:bg-background-tertiary',\n                                                            'flex items-center justify-between gap-3',\n                                                            active &&\n                                                                'bg-background-tertiary'\n                                                        )}\n                                                        onClick={() =>\n                                                            handleSelectClient(\n                                                                c\n                                                            )\n                                                        }\n                                                    >\n                                                        <div className=\"min-w-0\">\n                                                            <p className=\"truncate font-medium text-content-primary\">\n                                                                {c.name}\n                                                            </p>\n                                                            {c.phone ? (\n                                                                <p className=\"truncate text-xs text-content-secondary\">\n                                                                    {c.phone}\n                                                                </p>\n                                                            ) : null}\n                                                        </div>\n\n                                                        {active ? (\n                                                            <Check className=\"h-4 w-4 text-content-brand shrink-0\" />\n                                                        ) : null}\n                                                    </button>\n                                                );\n                                            })}\n                                        </div>\n                                    )}\n                                </div>\n                            </PopoverContent>\n                        </Popover>\n                    </div>\n\n                    {/* 2) NOME DO CLIENTE */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Nome do cliente\n                        </p>\n\n                        <div className=\"relative\">\n                            <User\n                                className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                size={20}\n                            />\n                            <Input\n                                value={clientName}\n                                onChange={(e) => setClientName(e.target.value)}\n                                placeholder=\"Nome do cliente\"\n                                className=\"pl-10\"\n                                disabled={!canProceed}\n                            />\n                        </div>\n                    </div>\n\n                    {/* 3) TELEFONE */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Telefone\n                        </p>\n\n                        <div className=\"relative\">\n                            <Phone\n                                className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                size={20}\n                            />\n\n                            <IMaskInput\n                                value={phone ?? ''}\n                                onAccept={(v) => setPhone(String(v))}\n                                placeholder=\"(99) 99999-9999\"\n                                mask=\"(00) 00000-0000\"\n                                className=\"pl-10 flex h-12 w-full rounded-md border border-border-primary bg-background-tertiary px-3 py-2 text-sm text-content-primary ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-content-secondary focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-0 focus-visible:ring-border-brand disabled:cursor-not-allowed disabled:opacity-50 hover:border-border-secondary focus:border-border-brand focus-visible:border-border-brand aria-invalid:ring-destructive/20 aria-invalid:border-destructive\"\n                                disabled={!canProceed}\n                            />\n                        </div>\n                    </div>\n\n                    {/* 4) UNIDADE */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Unidade\n                        </p>\n\n                        {forcedUnitId ? (\n                            <div className=\"relative\">\n                                <Store\n                                    className=\"absolute left-3 top-1/2 -translate-y-1/2 transform text-content-brand\"\n                                    size={18}\n                                />\n                                <Input\n                                    value={\n                                        forcedUnitLabel ?? 'Unidade selecionada'\n                                    }\n                                    readOnly\n                                    className=\"pl-10\"\n                                    disabled\n                                />\n                            </div>\n                        ) : (\n                            <Select\n                                value={unitId}\n                                onValueChange={(v) => {\n                                    setUnitId(v);\n                                    resetDependentFlow(true);\n                                }}\n                                disabled={!canProceed}\n                            >\n                                <SelectTrigger>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Store className=\"h-4 w-4 text-content-brand\" />\n                                        <SelectValue\n                                            placeholder={\n                                                activeUnits.length === 0\n                                                    ? 'Nenhuma unidade dispon√≠vel'\n                                                    : 'Selecione a unidade'\n                                            }\n                                        />\n                                    </div>\n                                </SelectTrigger>\n\n                                <SelectContent>\n                                    {activeUnits.length === 0 ? (\n                                        <SelectItem disabled value=\"no-units\">\n                                            Nenhuma unidade cadastrada/ativa\n                                        </SelectItem>\n                                    ) : (\n                                        activeUnits.map((u) => (\n                                            <SelectItem key={u.id} value={u.id}>\n                                                {u.name}\n                                            </SelectItem>\n                                        ))\n                                    )}\n                                </SelectContent>\n                            </Select>\n                        )}\n                    </div>\n\n                    {/* 5) PROFISSIONAL */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Profissional\n                        </p>\n\n                        <Select\n                            value={professionalId}\n                            onValueChange={(v) => {\n                                setProfessionalId(v);\n                                setScheduleDate(undefined);\n                                setTime('');\n                                setAvailableTimes([]);\n                                setTimesError(null);\n                            }}\n                            disabled={!canProceed || !unitId}\n                        >\n                            <SelectTrigger\n                                className=\"\n                                  w-full justify-between text-left font-normal\n                                  bg-background-tertiary border-border-primary text-content-primary\n                                  focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand\n                                  focus:border-border-brand focus-visible:border-border-brand\n                                  disabled:opacity-60 disabled:cursor-not-allowed\n                                \"\n                            >\n                                <div className=\"flex items-center gap-2\">\n                                    <UserCircle className=\"h-4 w-4 text-content-brand\" />\n                                    <SelectValue\n                                        placeholder={\n                                            !canProceed\n                                                ? 'Selecione um cliente'\n                                                : !unitId\n                                                  ? 'Selecione a unidade'\n                                                  : 'Selecione o profissional'\n                                        }\n                                    />\n                                </div>\n                            </SelectTrigger>\n\n                            <SelectContent>\n                                {professionals.length === 0 ? (\n                                    <SelectItem\n                                        disabled\n                                        value=\"no-professionals\"\n                                    >\n                                        Nenhum profissional dispon√≠vel\n                                    </SelectItem>\n                                ) : (\n                                    professionals\n                                        .filter((p) => p.isActive !== false)\n                                        .map((p) => (\n                                            <SelectItem key={p.id} value={p.id}>\n                                                {p.name}\n                                            </SelectItem>\n                                        ))\n                                )}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* 6) SERVI√áO */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Servi√ßo\n                        </p>\n\n                        <Select\n                            value={serviceId}\n                            onValueChange={(v) => {\n                                setServiceId(v);\n                                setScheduleDate(undefined);\n                                setTime('');\n                                setAvailableTimes([]);\n                                setTimesError(null);\n                            }}\n                            disabled={!canProceed || !unitId || !professionalId}\n                        >\n                            <SelectTrigger>\n                                <div className=\"flex items-center gap-2\">\n                                    <Scissors className=\"h-4 w-4 text-content-brand\" />\n                                    <SelectValue\n                                        placeholder={\n                                            !canProceed\n                                                ? 'Selecione um cliente'\n                                                : !unitId\n                                                  ? 'Selecione a unidade'\n                                                  : !professionalId\n                                                    ? 'Selecione o profissional'\n                                                    : 'Selecione o servi√ßo'\n                                        }\n                                    />\n                                </div>\n                            </SelectTrigger>\n\n                            <SelectContent>\n                                {servicesForUnit.length === 0 ? (\n                                    <SelectItem disabled value=\"no-services\">\n                                        Nenhum servi√ßo dispon√≠vel\n                                    </SelectItem>\n                                ) : (\n                                    servicesForUnit.map((s) => (\n                                        <SelectItem key={s.id} value={s.id}>\n                                            {s.name}\n                                        </SelectItem>\n                                    ))\n                                )}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* 7) DIA */}\n                    <div className=\"space-y-2\">\n                        <p className=\"text-label-medium-size text-content-primary\">\n                            Dia\n                        </p>\n\n                        <Popover\n                            open={isDatePickerOpen}\n                            onOpenChange={setIsDatePickerOpen}\n                        >\n                            <PopoverTrigger asChild>\n                                <Button\n                                    variant=\"outline\"\n                                    disabled={\n                                        !canProceed ||\n                                        !unitId ||\n                                        !professionalId ||\n                                        !serviceId\n                                    }\n                                    className={cn(\n                                        'w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary hover:bg-background-tertiary hover:border-border-secondary hover:text-content-primary focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand focus:border-border-brand focus-visible:border-border-brand disabled:opacity-60 disabled:cursor-not-allowed',\n                                        !scheduleDate &&\n                                            'text-content-secondary'\n                                    )}\n                                >\n                                    <div className=\"flex items-center gap-2\">\n                                        <CalendarIcon\n                                            className=\"text-content-brand\"\n                                            size={20}\n                                        />\n                                        {scheduleDate ? (\n                                            format(scheduleDate, 'dd/MM/yyyy')\n                                        ) : (\n                                            <span>\n                                                {!canProceed\n                                                    ? 'Selecione um cliente'\n                                                    : !unitId\n                                                      ? 'Selecione a unidade'\n                                                      : !professionalId\n                                                        ? 'Selecione o profissional'\n                                                        : !serviceId\n                                                          ? 'Selecione o servi√ßo'\n                                                          : 'Selecione um dia'}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <ChevronDown className=\"opacity-50 h-4 w-4\" />\n                                </Button>\n                            </PopoverTrigger>\n\n                            <PopoverContent\n                                className=\"w-auto p-0\"\n                                align=\"start\"\n                            >\n                                <Calendar\n                                    mode=\"single\"\n                                    selected={scheduleDate}\n                                    onSelect={(d) => {\n                                        setScheduleDate(d ?? undefined);\n                                        setTime('');\n                                        setAvailableTimes([]);\n                                        setTimesError(null);\n                                        if (d) setIsDatePickerOpen(false);\n                                    }}\n                                    disabled={(d) => d < startOfToday()}\n                                />\n                            </PopoverContent>\n                        </Popover>\n                    </div>\n\n                    {/* 8) HOR√ÅRIO */}\n                    <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between gap-3\">\n                            <p className=\"text-label-medium-size text-content-primary\">\n                                Hor√°rio\n                            </p>\n\n                            {isLoadingTimes ? (\n                                <span className=\"inline-flex items-center gap-2 text-xs text-content-secondary\">\n                                    <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                                    Carregando hor√°rios...\n                                </span>\n                            ) : null}\n                        </div>\n\n                        <Select\n                            value={time}\n                            onValueChange={(v) => setTime(v)}\n                            disabled={timeSelectDisabled}\n                        >\n                            <SelectTrigger\n                                className=\"\n                                  w-full justify-between text-left font-normal\n                                  bg-background-tertiary border-border-primary text-content-primary\n                                  focus-visible:ring-offset-0 focus-visible:ring-1 focus-visible:ring-border-brand\n                                  focus:border-border-brand focus-visible:border-border-brand\n                                  disabled:opacity-60 disabled:cursor-not-allowed\n                                \"\n                            >\n                                <div className=\"flex items-center gap-2\">\n                                    <Clock className=\"h-4 w-4 text-content-brand\" />\n                                    <SelectValue\n                                        placeholder={\n                                            !canProceed\n                                                ? 'Selecione um cliente'\n                                                : !unitId\n                                                  ? 'Selecione a unidade'\n                                                  : !professionalId\n                                                    ? 'Selecione o profissional'\n                                                    : !serviceId\n                                                      ? 'Selecione o servi√ßo'\n                                                      : !scheduleDate\n                                                        ? 'Selecione o dia'\n                                                        : isLoadingTimes\n                                                          ? 'Carregando hor√°rios...'\n                                                          : timesError\n                                                            ? 'Erro ao carregar hor√°rios'\n                                                            : availableTimes.length ===\n                                                                0\n                                                              ? 'Sem hor√°rios dispon√≠veis'\n                                                              : 'Selecione um hor√°rio'\n                                        }\n                                    />\n                                </div>\n                            </SelectTrigger>\n\n                            <SelectContent>\n                                {timesError ? (\n                                    <SelectItem disabled value=\"times-error\">\n                                        {timesError}\n                                    </SelectItem>\n                                ) : isLoadingTimes ? (\n                                    <SelectItem disabled value=\"times-loading\">\n                                        Carregando...\n                                    </SelectItem>\n                                ) : availableTimes.length === 0 ? (\n                                    <SelectItem disabled value=\"no-times\">\n                                        Nenhum hor√°rio dispon√≠vel\n                                    </SelectItem>\n                                ) : (\n                                    availableTimes.map((t) => (\n                                        <SelectItem key={t} value={t}>\n                                            {t}\n                                        </SelectItem>\n                                    ))\n                                )}\n                            </SelectContent>\n                        </Select>\n\n                        {timesError ? (\n                            <p className=\"text-xs text-destructive\">\n                                {timesError}\n                            </p>\n                        ) : null}\n                    </div>\n\n                    <div className=\"flex justify-end pt-2\">\n                        <Button\n                            type=\"button\"\n                            variant=\"brand\"\n                            onClick={handleSubmit}\n                            disabled={\n                                submitting ||\n                                !selectedClientId ||\n                                !unitId ||\n                                !professionalId ||\n                                !serviceId ||\n                                !scheduleDate ||\n                                !time ||\n                                isLoadingTimes\n                            }\n                        >\n                            {submitting ? (\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                            ) : null}\n                            Agendar\n                        </Button>\n                    </div>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","// src/components/admin/appointment/admin-appointment-row.tsx\n'use client';\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nimport {\n    AlertDialog,\n    AlertDialogContent,\n    AlertDialogDescription,\n    AlertDialogFooter,\n    AlertDialogHeader,\n    AlertDialogTitle,\n    AlertDialogTrigger,\n} from '@/components/ui/alert-dialog';\n\n// ‚úÖ Radix puro (sem wrapper do shadcn)\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog';\n\nimport EditAppointmentDialog, {\n    type AppointmentToEdit,\n    type UnitOption,\n    type ClientOption,\n    type ProfessionalOption,\n    type ServiceOption,\n} from '@/components/admin/appointment/edit-appointment-dialog/edit-appointment-dialog';\n\ntype AppointmentStatus = 'PENDING' | 'DONE' | 'CANCELED';\n\nexport type AdminAppointmentRowItem = {\n    id: string;\n\n    unitId: string;\n    clientId: string;\n\n    clientName: string;\n    phone: string;\n\n    description: string;\n    scheduleAt: string | Date;\n\n    status: AppointmentStatus;\n\n    professionalId: string | null;\n    serviceId: string | null;\n};\n\ntype Props = {\n    appt: AdminAppointmentRowItem;\n\n    forcedUnitId?: string | null;\n    units: UnitOption[];\n    clients: ClientOption[];\n    professionals: ProfessionalOption[];\n    services: ServiceOption[];\n};\n\nfunction formatTimeHHmm(value: string | Date): string {\n    const d = value instanceof Date ? value : new Date(value);\n    const hh = String(d.getHours()).padStart(2, '0');\n    const mm = String(d.getMinutes()).padStart(2, '0');\n    return `${hh}:${mm}`;\n}\n\nfunction StatusBadge({ status }: { status: AppointmentStatus }) {\n    const label =\n        status === 'PENDING'\n            ? 'Pendente'\n            : status === 'DONE'\n              ? 'Conclu√≠do'\n              : 'Cancelado';\n\n    const toneClass =\n        status === 'DONE'\n            ? 'bg-green-500/15 text-green-600 border-green-500/30'\n            : status === 'PENDING'\n              ? 'bg-amber-500/15 text-amber-700 border-amber-500/30'\n              : 'bg-red-500/15 text-red-600 border-red-500/30';\n\n    return (\n        <span\n            className={cn(\n                'inline-flex items-center rounded-md border px-2 py-0.5 text-xs',\n                toneClass\n            )}\n        >\n            {label}\n        </span>\n    );\n}\n\nexport function AdminAppointmentRow({\n    appt,\n    forcedUnitId = null,\n    units,\n    clients,\n    professionals,\n    services,\n}: Props) {\n    const router = useRouter();\n    const [loadingAction, setLoadingAction] = React.useState<\n        null | 'done' | 'cancel'\n    >(null);\n\n    const isPending = appt.status === 'PENDING';\n    const isBusy = loadingAction !== null;\n\n    const runDone = async () => {\n        try {\n            setLoadingAction('done');\n\n            const res = await fetch(`/api/admin/appointments/${appt.id}`, {\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ action: 'done' }),\n            });\n\n            const data = await res.json().catch(() => ({}));\n\n            if (!res.ok) {\n                toast.error(\n                    data?.error ?? 'N√£o foi poss√≠vel concluir o agendamento.'\n                );\n                return;\n            }\n\n            toast.success('Agendamento conclu√≠do!');\n            router.refresh();\n        } catch {\n            toast.error('Erro ao concluir o agendamento.');\n        } finally {\n            setLoadingAction(null);\n        }\n    };\n\n    const runCancel = async () => {\n        try {\n            setLoadingAction('cancel');\n\n            const res = await fetch(`/api/admin/appointments/${appt.id}`, {\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ action: 'cancel' }),\n            });\n\n            const data = await res.json().catch(() => ({}));\n\n            if (!res.ok) {\n                toast.error(\n                    data?.error ?? 'N√£o foi poss√≠vel cancelar o agendamento.'\n                );\n                return;\n            }\n\n            toast.success('Agendamento cancelado.');\n            router.refresh();\n        } catch {\n            toast.error('Erro ao cancelar o agendamento.');\n        } finally {\n            setLoadingAction(null);\n        }\n    };\n\n    const apptForEdit: AppointmentToEdit = {\n        id: appt.id,\n        unitId: appt.unitId,\n        clientId: appt.clientId,\n        clientName: appt.clientName,\n        phone: appt.phone,\n        description: appt.description,\n        scheduleAt: appt.scheduleAt,\n        status: appt.status,\n        professionalId: appt.professionalId,\n        serviceId: appt.serviceId,\n    };\n\n    const timeLabel = formatTimeHHmm(appt.scheduleAt);\n\n    return (\n        <tr className=\"border-b border-border-primary hover:bg-muted/30\">\n            <td className=\"px-4 py-3 font-medium text-content-primary\">\n                {timeLabel}\n            </td>\n\n            <td className=\"px-4 py-3 text-content-primary\">\n                {appt.clientName}\n            </td>\n\n            <td className=\"px-4 py-3 text-content-secondary\">{appt.phone}</td>\n\n            <td className=\"px-4 py-3 text-content-secondary\">\n                {appt.description}\n            </td>\n\n            <td className=\"px-4 py-3\">\n                <StatusBadge status={appt.status} />\n            </td>\n\n            <td className=\"px-4 py-3 text-right\">\n                {isPending ? (\n                    <div className=\"flex items-center justify-end gap-2\">\n                        {/* Editar */}\n                        <EditAppointmentDialog\n                            appt={apptForEdit}\n                            forcedUnitId={forcedUnitId}\n                            units={units}\n                            clients={clients}\n                            professionals={professionals}\n                            services={services}\n                        >\n                            <Button\n                                type=\"button\"\n                                variant=\"edit2\"\n                                size=\"sm\"\n                                disabled={isBusy}\n                            >\n                                Editar\n                            </Button>\n                        </EditAppointmentDialog>\n\n                        {/* Concluir */}\n                        <AlertDialog>\n                            <AlertDialogTrigger asChild>\n                                <Button\n                                    type=\"button\"\n                                    variant=\"active\"\n                                    size=\"sm\"\n                                    disabled={isBusy}\n                                >\n                                    Concluir\n                                </Button>\n                            </AlertDialogTrigger>\n\n                            <AlertDialogContent>\n                                <AlertDialogHeader>\n                                    <AlertDialogTitle>\n                                        Concluir este agendamento?\n                                    </AlertDialogTitle>\n                                    <AlertDialogDescription>\n                                        Voc√™ vai marcar como conclu√≠do o\n                                        agendamento de <b>{appt.clientName}</b>{' '}\n                                        √†s <b>{timeLabel}</b> (\n                                        {appt.description}).\n                                    </AlertDialogDescription>\n                                </AlertDialogHeader>\n\n                                <AlertDialogFooter>\n                                    {/* ‚úÖ Voltar agora √© Button tamb√©m */}\n                                    <AlertDialogPrimitive.Cancel asChild>\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            disabled={loadingAction === 'done'}\n                                        >\n                                            Voltar\n                                        </Button>\n                                    </AlertDialogPrimitive.Cancel>\n\n                                    <AlertDialogPrimitive.Action asChild>\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"active\"\n                                            size=\"sm\"\n                                            onClick={runDone}\n                                            disabled={loadingAction === 'done'}\n                                        >\n                                            {loadingAction === 'done'\n                                                ? 'Concluindo...'\n                                                : 'Concluir agendamento'}\n                                        </Button>\n                                    </AlertDialogPrimitive.Action>\n                                </AlertDialogFooter>\n                            </AlertDialogContent>\n                        </AlertDialog>\n\n                        {/* Cancelar */}\n                        <AlertDialog>\n                            <AlertDialogTrigger asChild>\n                                <Button\n                                    type=\"button\"\n                                    variant=\"destructive\"\n                                    size=\"sm\"\n                                    disabled={isBusy}\n                                >\n                                    Cancelar\n                                </Button>\n                            </AlertDialogTrigger>\n\n                            <AlertDialogContent>\n                                <AlertDialogHeader>\n                                    <AlertDialogTitle>\n                                        Cancelar este agendamento?\n                                    </AlertDialogTitle>\n                                    <AlertDialogDescription>\n                                        O agendamento de{' '}\n                                        <b>{appt.clientName}</b> √†s{' '}\n                                        <b>{timeLabel}</b> ser√° cancelado.\n                                    </AlertDialogDescription>\n                                </AlertDialogHeader>\n\n                                <AlertDialogFooter>\n                                    <AlertDialogPrimitive.Cancel asChild>\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            disabled={\n                                                loadingAction === 'cancel'\n                                            }\n                                        >\n                                            Voltar\n                                        </Button>\n                                    </AlertDialogPrimitive.Cancel>\n\n                                    <AlertDialogPrimitive.Action asChild>\n                                        <Button\n                                            type=\"button\"\n                                            variant=\"destructive\"\n                                            size=\"sm\"\n                                            onClick={runCancel}\n                                            disabled={\n                                                loadingAction === 'cancel'\n                                            }\n                                        >\n                                            {loadingAction === 'cancel'\n                                                ? 'Cancelando...'\n                                                : 'Cancelar agendamento'}\n                                        </Button>\n                                    </AlertDialogPrimitive.Action>\n                                </AlertDialogFooter>\n                            </AlertDialogContent>\n                        </AlertDialog>\n                    </div>\n                ) : (\n                    <span className=\"text-paragraph-small text-content-tertiary\">\n                        ‚Äî\n                    </span>\n                )}\n            </td>\n        </tr>\n    );\n}\n\nexport default AdminAppointmentRow;\n"],"names":[],"mappings":"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"}