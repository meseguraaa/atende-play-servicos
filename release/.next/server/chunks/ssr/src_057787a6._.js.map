{"version":3,"sources":["turbopack:///[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/components/admin/dashboard/dashboard-charts/dashboard-ratings-distribution-chart/dashboard-ratings-distribution-chart.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/components/admin/dashboard/dashboard-charts/dashboard-products-vs-services-chart/dashboard-products-vs-services-chart.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/admin/dashboard/page.tsx","turbopack:///[project]/src/components/admin/dashboard/dashboard-stat-card/dashboard-stat-card.tsx","turbopack:///[project]/src/components/admin/dashboard/dashboard-daily-summary/dashboard-daily-summary.tsx","turbopack:///[project]/src/components/admin/dashboard/dashboard-monthly-summary/dashboard-monthly-summary.tsx","turbopack:///[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/index.ts","turbopack:///[project]/src/components/admin/dashboard/dashboard-charts/dashboard-ratings-distribution-chart/index.ts"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardRevenueChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardRevenueChart() from the server but DashboardRevenueChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx\",\n    \"DashboardRevenueChart\",\n);\nexport const mockRevenueData = registerClientReference(\n    function() { throw new Error(\"Attempted to call mockRevenueData() from the server but mockRevenueData is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart/dashboard-revenue-chart.tsx\",\n    \"mockRevenueData\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardRatingsDistributionChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardRatingsDistributionChart() from the server but DashboardRatingsDistributionChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-ratings-distribution-chart/dashboard-ratings-distribution-chart.tsx\",\n    \"DashboardRatingsDistributionChart\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardProductsVsServicesChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardProductsVsServicesChart() from the server but DashboardProductsVsServicesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/dashboard/dashboard-charts/dashboard-products-vs-services-chart/dashboard-products-vs-services-chart.tsx\",\n    \"DashboardProductsVsServicesChart\",\n);\n","// app/admin/dashboard/page.tsx\nimport type { Metadata } from 'next';\n\nimport { prisma } from '@/lib/prisma';\nimport { requireAdminForModule } from '@/lib/admin-permissions';\n\nimport {\n    endOfDay,\n    endOfMonth,\n    format,\n    startOfDay,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\n\nimport { DatePicker } from '@/components/date-picker';\nimport { DashboardDailySummary } from '@/components/admin/dashboard/dashboard-daily-summary';\nimport { DashboardMonthlySummary } from '@/components/admin/dashboard/dashboard-monthly-summary';\nimport { DashboardRevenueChart } from '@/components/admin/dashboard/dashboard-charts/dashboard-revenue-chart';\nimport { DashboardRatingsDistributionChart } from '@/components/admin/dashboard/dashboard-charts/dashboard-ratings-distribution-chart';\nimport { DashboardProductsVsServicesChart } from '@/components/admin/dashboard/dashboard-charts/dashboard-products-vs-services-chart/dashboard-products-vs-services-chart';\n\nexport const dynamic = 'force-dynamic';\n\nexport const metadata: Metadata = {\n    title: 'Admin | Dashboard',\n};\n\n/**\n * ✅ Next (versões recentes) pode tipar `searchParams` como Promise nos tipos gerados.\n * Para evitar conflito com `.next/dev/types/...`, tratamos como Promise<any>.\n */\ntype PageProps = {\n    searchParams?: Promise<any>;\n};\n\nfunction normalizeString(v: unknown): string {\n    return String(v ?? '').trim();\n}\n\n/* ---------------------------------------------------------\n * ✅ Decimal-safe helpers (evita NaN com Prisma.Decimal)\n * ---------------------------------------------------------*/\nfunction toNumberDecimal(v: unknown): number {\n    if (v == null) return NaN;\n    if (typeof v === 'number') return v;\n\n    if (typeof v === 'string') {\n        const n = Number(v.replace(',', '.'));\n        return Number.isFinite(n) ? n : NaN;\n    }\n\n    if (typeof v === 'object') {\n        const anyObj = v as any;\n        if (typeof anyObj?.toNumber === 'function') {\n            const n = anyObj.toNumber();\n            return Number.isFinite(n) ? n : NaN;\n        }\n        if (typeof anyObj?.toString === 'function') {\n            const n = Number(String(anyObj.toString()).replace(',', '.'));\n            return Number.isFinite(n) ? n : NaN;\n        }\n    }\n\n    const n = Number(v as any);\n    return Number.isFinite(n) ? n : NaN;\n}\n\nfunction parseDateParam(dateParam?: string): Date {\n    const raw = normalizeString(dateParam);\n    if (!raw) return new Date();\n\n    // esperado yyyy-MM-dd\n    const [y, m, d] = raw.split('-').map(Number);\n    if (!y || !m || !d) return new Date();\n\n    return new Date(y, m - 1, d);\n}\n\nfunction parseMonthParam(monthParam?: string): Date {\n    const raw = normalizeString(monthParam);\n    if (!raw) return startOfMonth(new Date());\n\n    // esperado yyyy-MM\n    const [y, m] = raw.split('-').map(Number);\n    if (!y || !m) return startOfMonth(new Date());\n\n    return startOfMonth(new Date(y, m - 1, 1));\n}\n\nfunction clampToPct(v: number) {\n    if (!Number.isFinite(v)) return 0;\n    if (v < 0) return 0;\n    if (v > 100) return 100;\n    return v;\n}\n\nfunction safeAdd(a: number, b: number) {\n    const aa = Number.isFinite(a) ? a : 0;\n    const bb = Number.isFinite(b) ? b : 0;\n    return aa + bb;\n}\n\nfunction dateKeyLocal(d: Date) {\n    return format(d, 'yyyy-MM-dd');\n}\n\nexport default async function AdminDashboardPage({ searchParams }: PageProps) {\n    // ✅ Unwrap do Next (searchParams pode vir como Promise)\n    const sp = (await searchParams) as\n        | {\n              date?: string; // yyyy-MM-dd (filtro do DIA)\n              month?: string; // yyyy-MM (filtro do MÊS)\n          }\n        | undefined;\n\n    // ✅ Guard central (redirect interno)\n    const adminCtx = (await requireAdminForModule('DASHBOARD')) as any;\n\n    // ✅ Contexto (best-effort, sem quebrar se seu helper tiver outro shape)\n    const companyId: string | undefined =\n        adminCtx?.companyId ??\n        adminCtx?.company?.id ??\n        adminCtx?.session?.companyId ??\n        adminCtx?.data?.companyId;\n\n    const unitId: string | undefined =\n        adminCtx?.unitId ??\n        adminCtx?.unit?.id ??\n        adminCtx?.session?.unitId ??\n        adminCtx?.data?.unitId;\n\n    if (!companyId) {\n        // Se isso acontecer, seu requireAdminForModule não está devolvendo contexto.\n        // Prefiro falhar explicitamente do que mostrar número “mágico”.\n        throw new Error(\n            'AdminDashboardPage: companyId não encontrado no contexto do admin.'\n        );\n    }\n\n    const dayBase = parseDateParam(sp?.date);\n    const monthBase = parseMonthParam(sp?.month);\n\n    const dayStart = startOfDay(dayBase);\n    const dayEnd = endOfDay(dayBase);\n\n    const monthStart = startOfMonth(monthBase);\n    const monthEnd = endOfMonth(monthBase);\n\n    const prevMonthStart = startOfMonth(subMonths(monthBase, 1));\n    const prevMonthEnd = endOfMonth(subMonths(monthBase, 1));\n\n    const currencyFormatter = new Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL',\n        minimumFractionDigits: 2,\n    });\n\n    const orderScope = {\n        companyId,\n        ...(unitId ? { unitId } : {}),\n    } as const;\n\n    // ---------------------------------------------------------\n    // ✅ ORDERS COMPLETED (DIA) + ITENS (para split e comissões)\n    // ---------------------------------------------------------\n    const completedOrdersDay = await prisma.order.findMany({\n        where: {\n            ...orderScope,\n            status: 'COMPLETED',\n            updatedAt: { gte: dayStart, lte: dayEnd },\n        },\n        select: {\n            id: true,\n            totalAmount: true,\n            appointment: {\n                select: {\n                    professionalPercentageAtTheTime: true,\n                },\n            },\n            items: {\n                select: {\n                    quantity: true,\n                    totalPrice: true,\n                    serviceId: true,\n                    productId: true,\n                    service: {\n                        select: {\n                            professionalPercentage: true,\n                        },\n                    },\n                    product: {\n                        select: {\n                            professionalPercentage: true,\n                        },\n                    },\n                },\n            },\n        },\n    });\n\n    // ---------------------------------------------------------\n    // ✅ ORDERS COMPLETED (MÊS ATUAL) + ITENS\n    // ---------------------------------------------------------\n    const completedOrdersMonth = await prisma.order.findMany({\n        where: {\n            ...orderScope,\n            status: 'COMPLETED',\n            updatedAt: { gte: monthStart, lte: monthEnd },\n        },\n        select: {\n            id: true,\n            totalAmount: true,\n            updatedAt: true,\n            appointment: {\n                select: {\n                    professionalPercentageAtTheTime: true,\n                },\n            },\n            items: {\n                select: {\n                    quantity: true,\n                    totalPrice: true,\n                    serviceId: true,\n                    productId: true,\n                    service: {\n                        select: {\n                            professionalPercentage: true,\n                        },\n                    },\n                    product: {\n                        select: {\n                            professionalPercentage: true,\n                        },\n                    },\n                },\n            },\n        },\n    });\n\n    // ---------------------------------------------------------\n    // ✅ ORDERS COMPLETED (MÊS ANTERIOR) para comparativo do gráfico\n    // ---------------------------------------------------------\n    const completedOrdersPrevMonth = await prisma.order.findMany({\n        where: {\n            ...orderScope,\n            status: 'COMPLETED',\n            updatedAt: { gte: prevMonthStart, lte: prevMonthEnd },\n        },\n        select: {\n            id: true,\n            totalAmount: true,\n            updatedAt: true,\n            items: {\n                select: {\n                    totalPrice: true,\n                    serviceId: true,\n                    productId: true,\n                },\n            },\n        },\n    });\n\n    // ---------------------------------------------------------\n    // ✅ CANCEL FEES (DIA/MÊS)\n    // ---------------------------------------------------------\n    const canceledAppointmentsDay = await prisma.appointment.findMany({\n        where: {\n            ...orderScope,\n            status: 'CANCELED',\n            cancelledAt: { gte: dayStart, lte: dayEnd },\n        },\n        select: {\n            id: true,\n            cancelFeeApplied: true,\n            cancelFeeValue: true,\n        },\n    });\n\n    const canceledAppointmentsMonth = await prisma.appointment.findMany({\n        where: {\n            ...orderScope,\n            status: 'CANCELED',\n            cancelledAt: { gte: monthStart, lte: monthEnd },\n        },\n        select: {\n            id: true,\n            cancelFeeApplied: true,\n            cancelFeeValue: true,\n        },\n    });\n\n    // ---------------------------------------------------------\n    // ✅ APPOINTMENTS DONE (DIA/MÊS)\n    // ---------------------------------------------------------\n    const [appointmentsDoneDayCount, appointmentsDoneMonthCount] =\n        await Promise.all([\n            prisma.appointment.count({\n                where: {\n                    ...orderScope,\n                    status: 'DONE',\n                    doneAt: { gte: dayStart, lte: dayEnd },\n                },\n            }),\n            prisma.appointment.count({\n                where: {\n                    ...orderScope,\n                    status: 'DONE',\n                    doneAt: { gte: monthStart, lte: monthEnd },\n                },\n            }),\n        ]);\n\n    // ---------------------------------------------------------\n    // ✅ APPOINTMENTS CANCELED (DIA/MÊS)\n    // ---------------------------------------------------------\n    const [appointmentsCanceledDayCount, appointmentsCanceledMonthCount] =\n        await Promise.all([\n            prisma.appointment.count({\n                where: {\n                    ...orderScope,\n                    status: 'CANCELED',\n                    cancelledAt: { gte: dayStart, lte: dayEnd },\n                },\n            }),\n            prisma.appointment.count({\n                where: {\n                    ...orderScope,\n                    status: 'CANCELED',\n                    cancelledAt: { gte: monthStart, lte: monthEnd },\n                },\n            }),\n        ]);\n\n    // ---------------------------------------------------------\n    // ✅ EXPENSES (MÊS) | Lucro real = liquido - despesas\n    // Critério recomendado p/ “real”: isPaid = true\n    // ---------------------------------------------------------\n    const expensesMonth = await prisma.expense.findMany({\n        where: {\n            ...orderScope,\n            dueDate: { gte: monthStart, lte: monthEnd },\n            isPaid: true,\n        },\n        select: {\n            amount: true,\n        },\n    });\n\n    // ---------------------------------------------------------\n    // ✅ PRODUCTS: estoque total e vendas/reservas do mês\n    // ---------------------------------------------------------\n    const productsInStockAgg = await prisma.product.aggregate({\n        where: {\n            ...orderScope,\n        },\n        _sum: {\n            stockQuantity: true,\n        },\n    });\n\n    // vendidos (mês): itens de produto em pedidos COMPLETED no mês\n    const soldProductItemsMonth = await prisma.orderItem.findMany({\n        where: {\n            companyId,\n            ...(unitId ? { order: { unitId } } : {}),\n            productId: { not: null },\n            order: {\n                companyId,\n                ...(unitId ? { unitId } : {}),\n                status: 'COMPLETED',\n                updatedAt: { gte: monthStart, lte: monthEnd },\n            },\n        },\n        select: {\n            quantity: true,\n        },\n    });\n\n    // reservados (mês): pedidos em PENDING/PENDING_CHECKIN no mês com itens de produto\n    const reservedProductItemsMonth = await prisma.orderItem.findMany({\n        where: {\n            companyId,\n            ...(unitId ? { order: { unitId } } : {}),\n            productId: { not: null },\n            order: {\n                companyId,\n                ...(unitId ? { unitId } : {}),\n                status: { in: ['PENDING', 'PENDING_CHECKIN'] },\n                createdAt: { gte: monthStart, lte: monthEnd },\n            },\n        },\n        select: {\n            quantity: true,\n        },\n    });\n\n    // ---------------------------------------------------------\n    // ✅ REVIEWS (mês e geral)\n    // ---------------------------------------------------------\n    const reviewsMonthAgg = await prisma.appointmentReview.aggregate({\n        where: {\n            companyId,\n            ...(unitId ? { appointment: { unitId } } : {}),\n            createdAt: { gte: monthStart, lte: monthEnd },\n        },\n        _count: { id: true },\n        _avg: { rating: true },\n    });\n\n    const reviewsOverallAgg = await prisma.appointmentReview.aggregate({\n        where: {\n            companyId,\n            ...(unitId ? { appointment: { unitId } } : {}),\n        },\n        _count: { id: true },\n        _avg: { rating: true },\n    });\n\n    // distribuição (1..5) no mês\n    const ratingsDist = await prisma.appointmentReview.groupBy({\n        by: ['rating'],\n        where: {\n            companyId,\n            ...(unitId ? { appointment: { unitId } } : {}),\n            createdAt: { gte: monthStart, lte: monthEnd },\n        },\n        _count: { rating: true },\n    });\n\n    // ranking de profissionais no mês (avg + count)\n    const reviewsByProfessional = await prisma.appointmentReview.groupBy({\n        by: ['professionalId'],\n        where: {\n            companyId,\n            ...(unitId ? { appointment: { unitId } } : {}),\n            createdAt: { gte: monthStart, lte: monthEnd },\n        },\n        _count: { id: true },\n        _avg: { rating: true },\n        orderBy: [{ _avg: { rating: 'desc' } }, { _count: { id: 'desc' } }],\n    });\n\n    const professionalIds = reviewsByProfessional\n        .map((r) => r.professionalId)\n        .filter(Boolean);\n\n    const professionals = professionalIds.length\n        ? await prisma.professional.findMany({\n              where: {\n                  companyId,\n                  id: { in: professionalIds },\n              },\n              select: { id: true, name: true },\n          })\n        : [];\n\n    const professionalNameById = new Map(\n        professionals.map((p) => [p.id, p.name])\n    );\n\n    // tags (positivas/negativas) mais citadas no mês\n    const reviewTagsAgg = await prisma.appointmentReviewTag.groupBy({\n        by: ['tagId'],\n        where: {\n            review: {\n                companyId,\n                ...(unitId ? { appointment: { unitId } } : {}),\n                createdAt: { gte: monthStart, lte: monthEnd },\n            },\n        },\n        _count: { tagId: true },\n        orderBy: { _count: { tagId: 'desc' } },\n        take: 50,\n    });\n\n    const tagIds = reviewTagsAgg.map((t) => t.tagId);\n    const tags =\n        tagIds.length > 0\n            ? await prisma.reviewTag.findMany({\n                  where: { companyId, id: { in: tagIds } },\n                  select: { id: true, label: true, isNegative: true },\n              })\n            : [];\n\n    const tagMetaById = new Map(tags.map((t) => [t.id, t]));\n\n    const topPositiveTags = reviewTagsAgg\n        .map((row) => {\n            const meta = tagMetaById.get(row.tagId);\n            if (!meta || meta.isNegative) return null;\n            return { label: meta.label, count: row._count.tagId };\n        })\n        .filter(Boolean)\n        .slice(0, 8) as Array<{ label: string; count: number }>;\n\n    const topNegativeTags = reviewTagsAgg\n        .map((row) => {\n            const meta = tagMetaById.get(row.tagId);\n            if (!meta || !meta.isNegative) return null;\n            return { label: meta.label, count: row._count.tagId };\n        })\n        .filter(Boolean)\n        .slice(0, 8) as Array<{ label: string; count: number }>;\n\n    // reviews recentes (positivas / negativas) no mês\n    const [recentPositiveReviews, recentNegativeReviews] = await Promise.all([\n        prisma.appointmentReview.findMany({\n            where: {\n                companyId,\n                ...(unitId ? { appointment: { unitId } } : {}),\n                createdAt: { gte: monthStart, lte: monthEnd },\n                rating: { gte: 3 },\n            },\n            orderBy: { createdAt: 'desc' },\n            take: 8,\n            include: {\n                client: { select: { name: true } },\n                professional: { select: { name: true } },\n                appointment: {\n                    select: {\n                        service: { select: { name: true } },\n                    },\n                },\n                tags: { include: { tag: { select: { label: true } } } },\n            },\n        }),\n        prisma.appointmentReview.findMany({\n            where: {\n                companyId,\n                ...(unitId ? { appointment: { unitId } } : {}),\n                createdAt: { gte: monthStart, lte: monthEnd },\n                rating: { lte: 2 },\n            },\n            orderBy: { createdAt: 'desc' },\n            take: 8,\n            include: {\n                client: { select: { name: true } },\n                professional: { select: { name: true } },\n                appointment: {\n                    select: {\n                        service: { select: { name: true } },\n                    },\n                },\n                tags: { include: { tag: { select: { label: true } } } },\n            },\n        }),\n    ]);\n\n    // ---------------------------------------------------------\n    // ✅ CÁLCULOS (DIA)\n    // Bruto: sempre da Order.totalAmount\n    // Split e comissão: pelos itens (service/product)\n    // ---------------------------------------------------------\n    let totalGrossDay = 0;\n    let totalGrossDayServices = 0;\n    let totalGrossDayProducts = 0;\n\n    let totalCommissionDay = 0;\n    let totalCommissionDayServices = 0;\n    let totalCommissionDayProducts = 0;\n\n    for (const o of completedOrdersDay) {\n        totalGrossDay = safeAdd(totalGrossDay, toNumberDecimal(o.totalAmount));\n\n        const pctFromAppointment = clampToPct(\n            toNumberDecimal(o.appointment?.professionalPercentageAtTheTime)\n        );\n\n        for (const it of o.items) {\n            const itemTotal = toNumberDecimal(it.totalPrice);\n\n            if (it.serviceId) {\n                totalGrossDayServices = safeAdd(\n                    totalGrossDayServices,\n                    itemTotal\n                );\n\n                const pctFromService = clampToPct(\n                    toNumberDecimal(it.service?.professionalPercentage)\n                );\n                const pct = pctFromAppointment || pctFromService;\n\n                const commission = (itemTotal * pct) / 100;\n                totalCommissionDayServices = safeAdd(\n                    totalCommissionDayServices,\n                    commission\n                );\n                totalCommissionDay = safeAdd(totalCommissionDay, commission);\n            } else if (it.productId) {\n                totalGrossDayProducts = safeAdd(\n                    totalGrossDayProducts,\n                    itemTotal\n                );\n\n                const pctFromProduct = clampToPct(\n                    toNumberDecimal(it.product?.professionalPercentage)\n                );\n                const commission = (itemTotal * pctFromProduct) / 100;\n\n                totalCommissionDayProducts = safeAdd(\n                    totalCommissionDayProducts,\n                    commission\n                );\n                totalCommissionDay = safeAdd(totalCommissionDay, commission);\n            }\n        }\n    }\n\n    const totalNetDay = totalGrossDay - totalCommissionDay;\n    const totalNetDayServices =\n        totalGrossDayServices - totalCommissionDayServices;\n    const totalNetDayProducts =\n        totalGrossDayProducts - totalCommissionDayProducts;\n\n    // cancel fee (dia)\n    let totalCancelFeeDay = 0;\n    let totalCanceledWithFeeDay = 0;\n\n    for (const a of canceledAppointmentsDay) {\n        if (!a.cancelFeeApplied) continue;\n        const fee = toNumberDecimal(a.cancelFeeValue);\n        if (Number.isFinite(fee) && fee > 0) {\n            totalCancelFeeDay = safeAdd(totalCancelFeeDay, fee);\n            totalCanceledWithFeeDay += 1;\n        }\n    }\n\n    // ---------------------------------------------------------\n    // ✅ CÁLCULOS (MÊS)\n    // ---------------------------------------------------------\n    let totalGrossMonth = 0;\n    let totalGrossMonthServices = 0;\n    let totalGrossMonthProducts = 0;\n\n    let totalCommissionMonthServices = 0;\n    let totalCommissionMonthProducts = 0;\n\n    // para gráficos (dia a dia)\n    const daysInMonth = Number(format(monthEnd, 'd'));\n    const revenueCurrent = new Array<number>(daysInMonth).fill(0);\n    const revenuePrev = new Array<number>(\n        Number(format(prevMonthEnd, 'd'))\n    ).fill(0);\n\n    const servicesDaily = new Array<number>(daysInMonth).fill(0);\n    const productsDaily = new Array<number>(daysInMonth).fill(0);\n\n    for (const o of completedOrdersMonth) {\n        totalGrossMonth = safeAdd(\n            totalGrossMonth,\n            toNumberDecimal(o.totalAmount)\n        );\n\n        const dayIndex = Number(format(o.updatedAt, 'd')) - 1;\n        if (dayIndex >= 0 && dayIndex < revenueCurrent.length) {\n            revenueCurrent[dayIndex] = safeAdd(\n                revenueCurrent[dayIndex],\n                toNumberDecimal(o.totalAmount)\n            );\n        }\n\n        const pctFromAppointment = clampToPct(\n            toNumberDecimal(o.appointment?.professionalPercentageAtTheTime)\n        );\n\n        for (const it of o.items) {\n            const itemTotal = toNumberDecimal(it.totalPrice);\n\n            if (it.serviceId) {\n                totalGrossMonthServices = safeAdd(\n                    totalGrossMonthServices,\n                    itemTotal\n                );\n                if (dayIndex >= 0 && dayIndex < servicesDaily.length) {\n                    servicesDaily[dayIndex] = safeAdd(\n                        servicesDaily[dayIndex],\n                        itemTotal\n                    );\n                }\n\n                const pctFromService = clampToPct(\n                    toNumberDecimal(it.service?.professionalPercentage)\n                );\n                const pct = pctFromAppointment || pctFromService;\n\n                const commission = (itemTotal * pct) / 100;\n                totalCommissionMonthServices = safeAdd(\n                    totalCommissionMonthServices,\n                    commission\n                );\n            } else if (it.productId) {\n                totalGrossMonthProducts = safeAdd(\n                    totalGrossMonthProducts,\n                    itemTotal\n                );\n                if (dayIndex >= 0 && dayIndex < productsDaily.length) {\n                    productsDaily[dayIndex] = safeAdd(\n                        productsDaily[dayIndex],\n                        itemTotal\n                    );\n                }\n\n                const pctFromProduct = clampToPct(\n                    toNumberDecimal(it.product?.professionalPercentage)\n                );\n                const commission = (itemTotal * pctFromProduct) / 100;\n\n                totalCommissionMonthProducts = safeAdd(\n                    totalCommissionMonthProducts,\n                    commission\n                );\n            }\n        }\n    }\n\n    for (const o of completedOrdersPrevMonth) {\n        const dayIndex = Number(format(o.updatedAt, 'd')) - 1;\n        if (dayIndex >= 0 && dayIndex < revenuePrev.length) {\n            revenuePrev[dayIndex] = safeAdd(\n                revenuePrev[dayIndex],\n                toNumberDecimal(o.totalAmount)\n            );\n        }\n    }\n\n    const totalNetMonthServices =\n        totalGrossMonthServices - totalCommissionMonthServices;\n    const totalNetMonthProducts =\n        totalGrossMonthProducts - totalCommissionMonthProducts;\n    const totalNetMonth = totalNetMonthServices + totalNetMonthProducts;\n\n    // despesas (mês) - real\n    let totalExpensesMonth = 0;\n    for (const e of expensesMonth) {\n        totalExpensesMonth = safeAdd(\n            totalExpensesMonth,\n            toNumberDecimal(e.amount)\n        );\n    }\n\n    const realNetMonth = totalNetMonth - totalExpensesMonth;\n\n    // cancel fee (mês)\n    let totalCanceledWithFeeMonth = 0;\n    for (const a of canceledAppointmentsMonth) {\n        if (!a.cancelFeeApplied) continue;\n        const fee = toNumberDecimal(a.cancelFeeValue);\n        if (Number.isFinite(fee) && fee > 0) totalCanceledWithFeeMonth += 1;\n    }\n\n    // produtos (estoque / vendido / reservado)\n    const totalProductsInStock =\n        Number(productsInStockAgg._sum.stockQuantity ?? 0) || 0;\n\n    const totalProductsSoldMonth = soldProductItemsMonth.reduce(\n        (acc, it) => acc + (it.quantity ?? 0),\n        0\n    );\n\n    const totalProductsReservedMonth = reservedProductItemsMonth.reduce(\n        (acc, it) => acc + (it.quantity ?? 0),\n        0\n    );\n\n    // ---------------------------------------------------------\n    // ✅ Labels e gráficos\n    // ---------------------------------------------------------\n    const currentMonthLabel = format(monthBase, 'MMM/yyyy', { locale: ptBR });\n    const previousMonthLabel = format(subMonths(monthBase, 1), 'MMM/yyyy', {\n        locale: ptBR,\n    });\n\n    const sumCurrentMonth = revenueCurrent.reduce((a, b) => a + b, 0);\n    const sumPrevMonth = revenuePrev.reduce((a, b) => a + b, 0);\n\n    const variationPercentage =\n        sumPrevMonth > 0\n            ? ((sumCurrentMonth - sumPrevMonth) / sumPrevMonth) * 100\n            : 0;\n\n    const revenueChartData = Array.from({ length: daysInMonth }, (_, i) => {\n        const day = i + 1;\n        return {\n            day,\n            currentMonth: Math.max(0, Math.round(revenueCurrent[i] ?? 0)),\n            previousMonth: Math.max(0, Math.round(revenuePrev[i] ?? 0)),\n        };\n    });\n\n    const productsVsServicesChartData = Array.from(\n        { length: daysInMonth },\n        (_, i) => {\n            const day = i + 1;\n            return {\n                day,\n                label: String(day).padStart(2, '0'),\n                services: Math.max(0, Math.round(servicesDaily[i] ?? 0)),\n                products: Math.max(0, Math.round(productsDaily[i] ?? 0)),\n            };\n        }\n    );\n\n    const totalOrdersServicesMonth = productsVsServicesChartData.reduce(\n        (acc, d) => acc + d.services,\n        0\n    );\n    const totalOrdersProductsMonth = productsVsServicesChartData.reduce(\n        (acc, d) => acc + d.products,\n        0\n    );\n\n    // ---------------------------------------------------------\n    // ✅ REVIEWS - números finais para UI\n    // ---------------------------------------------------------\n    const totalReviewsMonth = reviewsMonthAgg._count.id ?? 0;\n    const totalReviewsOverall = reviewsOverallAgg._count.id ?? 0;\n\n    const averageRatingMonth = Number(reviewsMonthAgg._avg.rating ?? 0);\n    const averageRatingOverall = Number(reviewsOverallAgg._avg.rating ?? 0);\n\n    const averageRatingMonthDisplay =\n        totalReviewsMonth > 0 ? averageRatingMonth.toFixed(2) : '—';\n    const averageRatingOverallDisplay =\n        totalReviewsOverall > 0 ? averageRatingOverall.toFixed(2) : '—';\n\n    const professionalReviewsRanking = reviewsByProfessional\n        .map((row) => {\n            const id = row.professionalId;\n            if (!id) return null;\n\n            return {\n                professionalId: id,\n                professionalName:\n                    professionalNameById.get(id) ?? 'Profissional',\n                totalReviews: row._count.id ?? 0,\n                avgRating: Number(row._avg.rating ?? 0),\n            };\n        })\n        .filter(Boolean)\n        .sort((a, b) => {\n            const aa = a as any;\n            const bb = b as any;\n            if (bb.avgRating !== aa.avgRating)\n                return bb.avgRating - aa.avgRating;\n            if (bb.totalReviews !== aa.totalReviews)\n                return bb.totalReviews - aa.totalReviews;\n            return aa.professionalName.localeCompare(bb.professionalName);\n        }) as Array<{\n        professionalId: string;\n        professionalName: string;\n        totalReviews: number;\n        avgRating: number;\n    }>;\n\n    const ratingBuckets = [1, 2, 3, 4, 5].map((r) => {\n        const found = ratingsDist.find((x) => x.rating === r);\n        return found?._count.rating ?? 0;\n    });\n\n    const ratingsDistributionData = ratingBuckets.map((count, index) => ({\n        rating: index + 1,\n        count,\n    }));\n\n    return (\n        <div className=\"space-y-6\">\n            {/* HEADER + DATA */}\n            <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n                <div>\n                    <h1 className=\"text-title text-content-primary\">\n                        Dashboard\n                    </h1>\n                    <p className=\"text-paragraph-medium-size text-content-secondary\">\n                        Visão geral de todos os agendamentos, serviços, vendas\n                        de produtos e satisfação dos clientes.\n                    </p>\n                </div>\n\n                <DatePicker />\n            </div>\n\n            {/* RESUMO FINANCEIRO DO DIA (SERVIÇOS + PRODUTOS) */}\n            <DashboardDailySummary\n                totalGrossDay={currencyFormatter.format(totalGrossDay)}\n                totalGrossDayServices={currencyFormatter.format(\n                    totalGrossDayServices\n                )}\n                totalGrossDayProducts={currencyFormatter.format(\n                    totalGrossDayProducts\n                )}\n                totalCommissionDay={currencyFormatter.format(\n                    totalCommissionDay\n                )}\n                totalCommissionDayServices={currencyFormatter.format(\n                    totalCommissionDayServices\n                )}\n                totalCommissionDayProducts={currencyFormatter.format(\n                    totalCommissionDayProducts\n                )}\n                totalNetDay={currencyFormatter.format(totalNetDay)}\n                totalNetDayServices={currencyFormatter.format(\n                    totalNetDayServices\n                )}\n                totalNetDayProducts={currencyFormatter.format(\n                    totalNetDayProducts\n                )}\n                totalCancelFeeDay={currencyFormatter.format(totalCancelFeeDay)}\n                totalCanceledWithFeeDay={totalCanceledWithFeeDay}\n            />\n\n            {/* RESUMO FINANCEIRO DO MÊS + ATENDIMENTOS + (NOVO) PRODUTOS */}\n            <DashboardMonthlySummary\n                totalGrossMonth={currencyFormatter.format(totalGrossMonth)}\n                totalGrossMonthServices={currencyFormatter.format(\n                    totalGrossMonthServices\n                )}\n                totalGrossMonthProducts={currencyFormatter.format(\n                    totalGrossMonthProducts\n                )}\n                totalNetMonth={currencyFormatter.format(totalNetMonth)}\n                totalNetMonthServices={currencyFormatter.format(\n                    totalNetMonthServices\n                )}\n                totalNetMonthProducts={currencyFormatter.format(\n                    totalNetMonthProducts\n                )}\n                totalExpensesMonth={currencyFormatter.format(\n                    totalExpensesMonth\n                )}\n                realNetMonth={currencyFormatter.format(realNetMonth)}\n                realNetMonthIsPositive={realNetMonth >= 0}\n                totalAppointmentsDoneDay={appointmentsDoneDayCount}\n                totalAppointmentsDoneMonth={appointmentsDoneMonthCount}\n                totalAppointmentsCanceledDay={appointmentsCanceledDayCount}\n                totalAppointmentsCanceledMonth={appointmentsCanceledMonthCount}\n                totalCanceledWithFeeDay={totalCanceledWithFeeDay}\n                totalCanceledWithFeeMonth={totalCanceledWithFeeMonth}\n                productsInStock={totalProductsInStock}\n                productsSoldMonth={totalProductsSoldMonth}\n                productsReservedMonth={totalProductsReservedMonth}\n            />\n\n            {/* GRÁFICO DE FATURAMENTO (MÊS ATUAL VS ANTERIOR) */}\n            <DashboardRevenueChart\n                data={revenueChartData}\n                currentMonthLabel={currentMonthLabel}\n                previousMonthLabel={previousMonthLabel}\n                variationPercentage={variationPercentage}\n            />\n\n            {/* GRÁFICO 5 · PRODUTOS x SERVIÇOS (FATURAMENTO DO MÊS) */}\n            <DashboardProductsVsServicesChart\n                data={productsVsServicesChartData}\n                monthLabel={currentMonthLabel}\n                totalServices={totalOrdersServicesMonth}\n                totalProducts={totalOrdersProductsMonth}\n            />\n\n            {/* AVALIAÇÕES DE CLIENTES */}\n            <section className=\"space-y-4 rounded-xl border border-border-primary bg-background-tertiary p-4\">\n                <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\n                    <div>\n                        <p className=\"text-label-small text-content-secondary\">\n                            Satisfação dos clientes (mês selecionado)\n                        </p>\n\n                        <p className=\"text-title font-semibold text-content-primary\">\n                            Nota média no mês:{' '}\n                            <span className=\"font-semibold\">\n                                {averageRatingMonthDisplay}\n                            </span>\n                            {totalReviewsMonth > 0 && (\n                                <span className=\"ml-2 align-middle text-xl text-yellow-500\">\n                                    {'★'.repeat(\n                                        Math.max(\n                                            0,\n                                            Math.min(\n                                                5,\n                                                Math.round(averageRatingMonth)\n                                            )\n                                        )\n                                    )}\n                                </span>\n                            )}\n                        </p>\n\n                        <p className=\"text-paragraph-small text-content-secondary\">\n                            Nota média geral (histórico):{' '}\n                            <span className=\"font-semibold text-content-primary\">\n                                {averageRatingOverallDisplay}\n                            </span>{' '}\n                            {totalReviewsOverall > 0 && (\n                                <span className=\"text-content-tertiary\">\n                                    ({totalReviewsOverall} avaliações)\n                                </span>\n                            )}\n                        </p>\n\n                        <p className=\"text-paragraph-small text-content-secondary\">\n                            Total de avaliações no mês:{' '}\n                            <span className=\"font-semibold text-content-primary\">\n                                {totalReviewsMonth}\n                            </span>\n                        </p>\n\n                        <p className=\"mt-1 text-paragraph-small text-content-tertiary\">\n                            Algumas avaliações podem ter o nome do cliente\n                            oculto para o profissional, quando ele opta por\n                            avaliação anônima. Aqui no painel, o administrador\n                            sempre vê o cliente real.\n                        </p>\n                    </div>\n                </div>\n\n                {professionalReviewsRanking.length === 0 ? (\n                    <p className=\"text-paragraph-small text-content-secondary\">\n                        Ainda não há avaliações registradas neste mês.\n                    </p>\n                ) : (\n                    <>\n                        {/* RANKING PROFISSIONAIS */}\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"min-w-full text-left text-paragraph-small\">\n                                <thead>\n                                    <tr className=\"border-b border-border-primary text-content-secondary\">\n                                        <th className=\"py-2 pr-4\">#</th>\n                                        <th className=\"py-2 pr-4\">\n                                            Profissional\n                                        </th>\n                                        <th className=\"py-2 pr-4\">\n                                            Nota média\n                                        </th>\n                                        <th className=\"py-2 pr-4\">\n                                            Avaliações\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {professionalReviewsRanking.map(\n                                        (row, index) => (\n                                            <tr\n                                                key={row.professionalId}\n                                                className=\"border-b border-border-primary/60 last:border-0\"\n                                            >\n                                                <td className=\"py-2 pr-4 text-content-secondary\">\n                                                    {index + 1}\n                                                </td>\n                                                <td className=\"py-2 pr-4 text-content-primary\">\n                                                    {row.professionalName}\n                                                </td>\n                                                <td className=\"py-2 pr-4 text-content-primary\">\n                                                    {row.avgRating.toFixed(2)}\n                                                </td>\n                                                <td className=\"py-2 pr-4 text-content-secondary\">\n                                                    {row.totalReviews}\n                                                </td>\n                                            </tr>\n                                        )\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n\n                        {/* MOTIVOS POSITIVOS / NEGATIVOS */}\n                        <div className=\"grid gap-4 border-t border-border-primary/60 pt-4 md:grid-cols-2\">\n                            <div className=\"space-y-2\">\n                                <p className=\"text-label-small text-content-primary\">\n                                    Motivos positivos mais citados (no mês)\n                                </p>\n\n                                {topPositiveTags.length === 0 ? (\n                                    <p className=\"text-paragraph-small text-content-secondary\">\n                                        Ainda não há tags positivas suficientes\n                                        neste mês.\n                                    </p>\n                                ) : (\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {topPositiveTags.map((tag) => (\n                                            <span\n                                                key={tag.label}\n                                                className=\"flex items-center gap-1 rounded-full border border-emerald-500/60 bg-emerald-500/5 px-3 py-1 text-[11px] text-emerald-500\"\n                                            >\n                                                <span>{tag.label}</span>\n                                                <span className=\"text-emerald-500\">\n                                                    · {tag.count}\n                                                </span>\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <p className=\"text-label-small text-content-primary\">\n                                    Motivos negativos mais citados (no mês)\n                                </p>\n\n                                {topNegativeTags.length === 0 ? (\n                                    <p className=\"text-paragraph-small text-content-secondary\">\n                                        Ainda não há feedbacks negativos\n                                        suficientes neste mês. ✨\n                                    </p>\n                                ) : (\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {topNegativeTags.map((tag) => (\n                                            <span\n                                                key={tag.label}\n                                                className=\"flex items-center gap-1 rounded-full border border-destructive/40 bg-destructive/5 px-3 py-1 text-[11px] text-destructive\"\n                                            >\n                                                <span>{tag.label}</span>\n                                                <span className=\"text-destructive\">\n                                                    · {tag.count}\n                                                </span>\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        {/* FEEDBACKS RECENTES */}\n                        <div className=\"border-t border-border-primary/60 pt-4\">\n                            <div className=\"grid gap-4 md:grid-cols-2\">\n                                <div className=\"space-y-2\">\n                                    <p className=\"text-label-small text-content-primary\">\n                                        Feedbacks positivos recentes (3–5\n                                        estrelas no mês)\n                                    </p>\n\n                                    {recentPositiveReviews.length === 0 ? (\n                                        <p className=\"text-paragraph-small text-content-secondary\">\n                                            Nenhum feedback positivo registrado\n                                            neste mês ainda.\n                                        </p>\n                                    ) : (\n                                        <div className=\"space-y-2\">\n                                            {recentPositiveReviews.map(\n                                                (rev) => {\n                                                    const clientName =\n                                                        rev.client?.name ??\n                                                        'Cliente';\n                                                    const professionalName =\n                                                        rev.professional\n                                                            ?.name ??\n                                                        'Profissional';\n                                                    const serviceName =\n                                                        rev.appointment?.service\n                                                            ?.name ??\n                                                        'Atendimento';\n\n                                                    return (\n                                                        <div\n                                                            key={rev.id}\n                                                            className=\"space-y-1 rounded-xl border border-border-primary bg-background-secondary px-3 py-2 text-[11px]\"\n                                                        >\n                                                            <p className=\"text-content-primary\">\n                                                                {clientName} ·{' '}\n                                                                <span className=\"text-content-secondary\">\n                                                                    {\n                                                                        professionalName\n                                                                    }{' '}\n                                                                    ·{' '}\n                                                                    {\n                                                                        serviceName\n                                                                    }\n                                                                </span>{' '}\n                                                                ·{' '}\n                                                                <span className=\"text-yellow-500\">\n                                                                    {rev.rating}\n                                                                    ★\n                                                                </span>\n                                                            </p>\n\n                                                            {rev.tags?.length >\n                                                                0 && (\n                                                                <p className=\"text-content-secondary\">\n                                                                    Motivos:{' '}\n                                                                    {rev.tags\n                                                                        .map(\n                                                                            (\n                                                                                t\n                                                                            ) =>\n                                                                                t\n                                                                                    .tag\n                                                                                    .label\n                                                                        )\n                                                                        .join(\n                                                                            ', '\n                                                                        )}\n                                                                </p>\n                                                            )}\n\n                                                            {rev.comment && (\n                                                                <p className=\"text-content-secondary\">\n                                                                    Comentário:{' '}\n                                                                    {\n                                                                        rev.comment\n                                                                    }\n                                                                </p>\n                                                            )}\n\n                                                            <p className=\"text-content-tertiary\">\n                                                                Registrado em:{' '}\n                                                                {rev.createdAt.toLocaleString(\n                                                                    'pt-BR',\n                                                                    {\n                                                                        day: '2-digit',\n                                                                        month: '2-digit',\n                                                                        year: 'numeric',\n                                                                        hour: '2-digit',\n                                                                        minute: '2-digit',\n                                                                    }\n                                                                )}\n                                                            </p>\n                                                        </div>\n                                                    );\n                                                }\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <p className=\"text-label-small text-content-primary\">\n                                        Feedbacks negativos recentes (1–2\n                                        estrelas no mês)\n                                    </p>\n\n                                    {recentNegativeReviews.length === 0 ? (\n                                        <p className=\"text-paragraph-small text-content-secondary\">\n                                            Nenhum feedback negativo registrado\n                                            neste mês. 🧡\n                                        </p>\n                                    ) : (\n                                        <div className=\"space-y-2\">\n                                            {recentNegativeReviews.map(\n                                                (rev) => {\n                                                    const clientName =\n                                                        rev.client?.name ??\n                                                        'Cliente';\n                                                    const professionalName =\n                                                        rev.professional\n                                                            ?.name ??\n                                                        'Profissional';\n                                                    const serviceName =\n                                                        rev.appointment?.service\n                                                            ?.name ??\n                                                        'Atendimento';\n\n                                                    return (\n                                                        <div\n                                                            key={rev.id}\n                                                            className=\"space-y-1 rounded-xl border border-border-primary bg-background-secondary px-3 py-2 text-[11px]\"\n                                                        >\n                                                            <p className=\"text-content-primary\">\n                                                                {clientName} ·{' '}\n                                                                <span className=\"text-content-secondary\">\n                                                                    {\n                                                                        professionalName\n                                                                    }{' '}\n                                                                    ·{' '}\n                                                                    {\n                                                                        serviceName\n                                                                    }\n                                                                </span>{' '}\n                                                                ·{' '}\n                                                                <span className=\"text-yellow-500\">\n                                                                    {rev.rating}\n                                                                    ★\n                                                                </span>\n                                                            </p>\n\n                                                            {rev.tags?.length >\n                                                                0 && (\n                                                                <p className=\"text-content-secondary\">\n                                                                    Motivos:{' '}\n                                                                    {rev.tags\n                                                                        .map(\n                                                                            (\n                                                                                t\n                                                                            ) =>\n                                                                                t\n                                                                                    .tag\n                                                                                    .label\n                                                                        )\n                                                                        .join(\n                                                                            ', '\n                                                                        )}\n                                                                </p>\n                                                            )}\n\n                                                            {rev.comment && (\n                                                                <p className=\"text-content-secondary\">\n                                                                    Comentário:{' '}\n                                                                    {\n                                                                        rev.comment\n                                                                    }\n                                                                </p>\n                                                            )}\n\n                                                            <p className=\"text-content-tertiary\">\n                                                                Registrado em:{' '}\n                                                                {rev.createdAt.toLocaleString(\n                                                                    'pt-BR',\n                                                                    {\n                                                                        day: '2-digit',\n                                                                        month: '2-digit',\n                                                                        year: 'numeric',\n                                                                        hour: '2-digit',\n                                                                        minute: '2-digit',\n                                                                    }\n                                                                )}\n                                                            </p>\n                                                        </div>\n                                                    );\n                                                }\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </>\n                )}\n            </section>\n\n            {/* GRÁFICO 4 · SATISFAÇÃO */}\n            <DashboardRatingsDistributionChart\n                data={ratingsDistributionData}\n                monthLabel={currentMonthLabel}\n                averageRatingMonth={\n                    totalReviewsMonth > 0 ? averageRatingMonth : null\n                }\n                averageRatingOverall={\n                    totalReviewsOverall > 0 ? averageRatingOverall : null\n                }\n                totalReviewsMonth={totalReviewsMonth}\n                totalReviewsOverall={totalReviewsOverall}\n            />\n        </div>\n    );\n}\n","import { ReactNode } from 'react';\n\ntype DashboardStatCardProps = {\n    children: ReactNode;\n};\n\nexport function DashboardStatCard({ children }: DashboardStatCardProps) {\n    return (\n        <div className=\"rounded-xl border border-border-primary bg-background-tertiary px-4 py-3\">\n            {children}\n        </div>\n    );\n}\n","import { DashboardStatCard } from '@/components/admin/dashboard/dashboard-stat-card';\n\ntype DashboardDailySummaryProps = {\n    totalGrossDay: string;\n    totalGrossDayServices: string;\n    totalGrossDayProducts: string;\n\n    totalCommissionDay: string;\n    totalCommissionDayServices: string;\n    totalCommissionDayProducts: string;\n\n    totalNetDay: string;\n    totalNetDayServices: string;\n    totalNetDayProducts: string;\n\n    totalCancelFeeDay: string;\n    totalCanceledWithFeeDay: number;\n};\n\nexport function DashboardDailySummary({\n    totalGrossDay,\n    totalGrossDayServices,\n    totalGrossDayProducts,\n\n    totalCommissionDay,\n    totalCommissionDayServices,\n    totalCommissionDayProducts,\n\n    totalNetDay,\n    totalNetDayServices,\n    totalNetDayProducts,\n\n    totalCancelFeeDay,\n    totalCanceledWithFeeDay,\n}: DashboardDailySummaryProps) {\n    return (\n        <section className=\"grid gap-4 md:grid-cols-4\">\n            {/* Valor bruto (dia) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Valor bruto (dia)\n                </p>\n                <p className=\"text-title text-content-primary\">\n                    {totalGrossDay}\n                </p>\n                <p className=\"text-label-small text-content-secondary\">\n                    Serviços: {totalGrossDayServices} • Produtos:{' '}\n                    {totalGrossDayProducts}\n                </p>\n            </DashboardStatCard>\n\n            {/* Comissão (dia) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Comissão (dia)\n                </p>\n                <p className=\"text-title text-content-primary\">\n                    {totalCommissionDay}\n                </p>\n                <p className=\"text-label-small text-content-secondary\">\n                    Serviços: {totalCommissionDayServices} • Produtos:{' '}\n                    {totalCommissionDayProducts}\n                </p>\n            </DashboardStatCard>\n\n            {/* Valor líquido (dia) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Valor líquido (dia)\n                </p>\n                <p className=\"text-title text-content-primary\">{totalNetDay}</p>\n                <p className=\"text-label-small text-content-secondary\">\n                    Serviços: {totalNetDayServices} • Produtos:{' '}\n                    {totalNetDayProducts}\n                </p>\n            </DashboardStatCard>\n\n            {/* Taxas de cancelamento (dia) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Taxas de cancelamento (dia)\n                </p>\n                <p className=\"text-title text-content-primary\">\n                    {totalCancelFeeDay}\n                </p>\n                <p className=\"text-label-small text-content-secondary\">\n                    {totalCanceledWithFeeDay} cancelamento(s) com taxa\n                </p>\n            </DashboardStatCard>\n        </section>\n    );\n}\n","import { DashboardStatCard } from '@/components/admin/dashboard/dashboard-stat-card';\n\ntype DashboardMonthlySummaryProps = {\n    totalGrossMonth: string;\n    totalGrossMonthServices: string;\n    totalGrossMonthProducts: string;\n\n    totalNetMonth: string;\n    totalNetMonthServices: string;\n    totalNetMonthProducts: string;\n\n    totalExpensesMonth: string;\n\n    realNetMonth: string;\n    realNetMonthIsPositive: boolean;\n\n    totalAppointmentsDoneDay: number;\n    totalAppointmentsDoneMonth: number;\n    totalAppointmentsCanceledDay: number;\n    totalAppointmentsCanceledMonth: number;\n    totalCanceledWithFeeDay: number;\n    totalCanceledWithFeeMonth: number;\n\n    // ✅ NOVO: PRODUTOS\n    productsInStock: number;\n    productsSoldMonth: number;\n    productsReservedMonth: number;\n};\n\nexport function DashboardMonthlySummary({\n    totalGrossMonth,\n    totalGrossMonthServices,\n    totalGrossMonthProducts,\n\n    totalNetMonth,\n    totalNetMonthServices,\n    totalNetMonthProducts,\n\n    totalExpensesMonth,\n\n    realNetMonth,\n    realNetMonthIsPositive,\n\n    totalAppointmentsDoneDay,\n    totalAppointmentsDoneMonth,\n    totalAppointmentsCanceledDay,\n    totalAppointmentsCanceledMonth,\n    totalCanceledWithFeeDay,\n    totalCanceledWithFeeMonth,\n\n    // ✅ NOVO\n    productsInStock,\n    productsSoldMonth,\n    productsReservedMonth,\n}: DashboardMonthlySummaryProps) {\n    return (\n        <section className=\"grid gap-4 md:grid-cols-4\">\n            {/* 1. Bruto mês */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Valor bruto (mês)\n                </p>\n                <p className=\"text-title text-content-primary\">\n                    {totalGrossMonth}\n                </p>\n                <p className=\"text-label-small text-content-secondary\">\n                    Serviços: {totalGrossMonthServices} • Produtos:{' '}\n                    {totalGrossMonthProducts}\n                </p>\n            </DashboardStatCard>\n\n            {/* 2. Líquido mês (sem despesas) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Valor líquido (mês - sem despesas)\n                </p>\n                <p className=\"text-title text-content-primary\">\n                    {totalNetMonth}\n                </p>\n                <p className=\"text-paragraph-small text-content-secondary\">\n                    Serviços: {totalNetMonthServices} • Produtos:{' '}\n                    {totalNetMonthProducts}\n                </p>\n            </DashboardStatCard>\n\n            {/* 3. Despesas (mês) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Despesas (mês)\n                </p>\n                <p className=\"text-title text-content-primary\">\n                    {totalExpensesMonth}\n                </p>\n                <p className=\"text-paragraph-small text-content-secondary\">\n                    Soma das despesas cadastradas no módulo Financeiro.\n                </p>\n            </DashboardStatCard>\n\n            {/* 4. Lucro real (mês) */}\n            <DashboardStatCard>\n                <p className=\"text-label-small text-content-secondary\">\n                    Lucro real (mês)\n                </p>\n                <p\n                    className={`text-title ${\n                        realNetMonthIsPositive\n                            ? 'text-green-500'\n                            : 'text-red-600'\n                    }`}\n                >\n                    {realNetMonth}\n                </p>\n                <p className=\"text-paragraph-small text-content-secondary\">\n                    Valor líquido (serviços + produtos) menos as despesas.\n                </p>\n            </DashboardStatCard>\n\n            {/* 5 + 6: ATENDIMENTOS + PRODUTOS (lado a lado) */}\n            <div className=\"md:col-span-4 grid gap-4 md:grid-cols-2\">\n                {/* 5. Atendimentos */}\n                <div className=\"rounded-xl border border-border-primary bg-background-tertiary px-4 py-3 space-y-3\">\n                    <p className=\"text-label-small text-content-secondary\">\n                        Atendimentos\n                    </p>\n\n                    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-3\">\n                        {/* Concluídos */}\n                        <div className=\"space-y-1\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Concluídos\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                Dia:{' '}\n                                <span className=\"font-semibold\">\n                                    {totalAppointmentsDoneDay}\n                                </span>\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                Mês:{' '}\n                                <span className=\"font-semibold\">\n                                    {totalAppointmentsDoneMonth}\n                                </span>\n                            </p>\n                        </div>\n\n                        {/* Cancelados */}\n                        <div className=\"space-y-1\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Cancelados\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                Dia:{' '}\n                                <span className=\"font-semibold\">\n                                    {totalAppointmentsCanceledDay}\n                                </span>\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                Mês:{' '}\n                                <span className=\"font-semibold\">\n                                    {totalAppointmentsCanceledMonth}\n                                </span>\n                            </p>\n                        </div>\n\n                        {/* Com taxa */}\n                        <div className=\"space-y-1\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Com taxa\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                Dia:{' '}\n                                <span className=\"font-semibold\">\n                                    {totalCanceledWithFeeDay}\n                                </span>\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                Mês:{' '}\n                                <span className=\"font-semibold\">\n                                    {totalCanceledWithFeeMonth}\n                                </span>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* 6. Produtos (NOVO) */}\n                <div className=\"rounded-xl border border-border-primary bg-background-tertiary px-4 py-3 space-y-3\">\n                    <p className=\"text-label-small text-content-secondary\">\n                        Produtos\n                    </p>\n\n                    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-3\">\n                        {/* Estoque */}\n                        <div className=\"space-y-1\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Em estoque\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                <span className=\"font-semibold\">\n                                    {productsInStock}\n                                </span>\n                            </p>\n                        </div>\n\n                        {/* Vendidos */}\n                        <div className=\"space-y-1\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Vendidos (mês)\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                <span className=\"font-semibold\">\n                                    {productsSoldMonth}\n                                </span>\n                            </p>\n                        </div>\n\n                        {/* Em reserva */}\n                        <div className=\"space-y-1\">\n                            <p className=\"text-paragraph-small text-content-secondary\">\n                                Em reserva (mês)\n                            </p>\n                            <p className=\"text-paragraph-medium text-content-primary\">\n                                <span className=\"font-semibold\">\n                                    {productsReservedMonth}\n                                </span>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    );\n}\n","export * from './dashboard-revenue-chart';\n","export * from './dashboard-ratings-distribution-chart';\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}