{"version":3,"sources":["turbopack:///[project]/src/lib/prisma.ts","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/constants.js","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/constructFrom.js","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/toDate.js","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfDay.js","turbopack:///[project]/src/lib/professional-permissions.ts","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfDay.js","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfMonth.js","turbopack:///[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfMonth.js","turbopack:///[project]/src/components/date-picker/date-picker.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/components/date-picker/index.ts","turbopack:///[project]/src/app/professional/earning/page.tsx"],"sourcesContent":["// src/lib/prisma.ts\nimport { PrismaClient } from '@prisma/client';\n\nconst globalForPrisma = globalThis as unknown as {\n    prisma: PrismaClient | undefined;\n};\n\nexport const prisma =\n    globalForPrisma.prisma ??\n    new PrismaClient({\n        log:\n            process.env.NODE_ENV === 'development'\n                ? ['error', 'warn']\n                : ['error'],\n    });\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","// src/lib/professional-permissions.ts\nimport { prisma } from '@/lib/prisma';\nimport { getCurrentPainelUser } from '@/lib/painel-session';\n\nexport type ProfessionalSession = {\n    companyId: string;\n    professionalId: string;\n    userId: string;\n\n    /**\n     * ✅ Opcional: unidade “default” (quando existe vínculo em ProfessionalUnit).\n     * Não é obrigatório para não quebrar fluxos já existentes.\n     */\n    unitId?: string;\n\n    name?: string | null;\n    email?: string;\n};\n\n/**\n * ✅ Server helper (igual ao padrão do admin):\n * - Usa getCurrentPainelUser() (JWT/cookie do painel)\n * - Valida role PROFESSIONAL\n * - Garante vínculo real do usuário com Professional (companyId + userId)\n *\n * Importante:\n * - NÃO dá redirect aqui (pra não quebrar usos em /api).\n * - Em caso de falha, retorna strings vazias e a route decide 401.\n */\nexport async function requireProfessionalSession(): Promise<ProfessionalSession> {\n    const session = await getCurrentPainelUser();\n\n    if (!session) {\n        return { companyId: '', professionalId: '', userId: '', unitId: '' };\n    }\n\n    // precisa ser PROFESSIONAL\n    if ((session as any).role !== 'PROFESSIONAL') {\n        return { companyId: '', professionalId: '', userId: '', unitId: '' };\n    }\n\n    const userId = String((session as any).sub || '').trim();\n    const companyId = String((session as any).companyId || '').trim();\n\n    if (!userId || !companyId) {\n        return { companyId: '', professionalId: '', userId: '', unitId: '' };\n    }\n\n    // busca o professional vinculado a esse userId + companyId\n    const professional = await prisma.professional.findFirst({\n        where: {\n            userId,\n            companyId,\n            isActive: true,\n        },\n        select: {\n            id: true,\n            name: true,\n            email: true,\n        },\n    });\n\n    if (!professional?.id) {\n        return { companyId: '', professionalId: '', userId, unitId: '' };\n    }\n\n    /**\n     * ✅ Unidade \"default\" (se existir vínculo em ProfessionalUnit)\n     * - Não muda comportamento existente (só adiciona dado)\n     * - Útil para telas que precisem filtrar por unidade sem exigir parâmetro\n     */\n    const professionalUnit = await prisma.professionalUnit.findFirst({\n        where: {\n            companyId,\n            professionalId: professional.id,\n            isActive: true,\n        },\n        select: {\n            unitId: true,\n        },\n        orderBy: {\n            updatedAt: 'desc',\n        },\n    });\n\n    return {\n        companyId,\n        professionalId: professional.id,\n        userId,\n        unitId: professionalUnit?.unitId ?? '',\n        name: professional.name ?? null,\n        email: professional.email,\n    };\n}\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfDay} function options.\n */\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DatePicker = registerClientReference(\n    function() { throw new Error(\"Attempted to call DatePicker() from the server but DatePicker is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/date-picker/date-picker.tsx\",\n    \"DatePicker\",\n);\n","export * from './date-picker';\n","// src/app/professional/earning/page.tsx\nimport type { Metadata } from 'next';\n\nimport { prisma } from '@/lib/prisma';\nimport { requireProfessionalSession } from '@/lib/professional-permissions';\n\nimport { DatePicker } from '@/components/date-picker';\n\nimport { endOfDay, endOfMonth, startOfDay, startOfMonth } from 'date-fns';\n\nexport const dynamic = 'force-dynamic';\n\nexport const metadata: Metadata = {\n    title: 'Profissional | Ganhos',\n};\n\nconst SAO_PAULO_TIMEZONE = 'America/Sao_Paulo';\n\ntype EarningRow = {\n    id: string;\n    clientName: string;\n    description: string;\n    time: string;\n    priceFormatted: string;\n    percentageFormatted: string;\n    earningFormatted: string;\n};\n\nfunction SummaryCard({\n    label,\n    value,\n    hint,\n}: {\n    label: string;\n    value: string;\n    hint?: string;\n}) {\n    return (\n        <div className=\"rounded-xl border border-border-primary bg-background-tertiary p-4\">\n            <p className=\"text-label-small text-content-secondary\">{label}</p>\n            <p className=\"mt-1 text-title font-semibold text-content-primary\">\n                {value}\n            </p>\n            {hint ? (\n                <p className=\"mt-2 text-paragraph-small text-content-tertiary\">\n                    {hint}\n                </p>\n            ) : null}\n        </div>\n    );\n}\n\nfunction EarningsDayList({ rows }: { rows: EarningRow[] }) {\n    return (\n        <div className=\"space-y-2\">\n            {rows.map((row) => (\n                <div\n                    key={row.id}\n                    className=\"rounded-xl border border-border-primary bg-background-tertiary px-3 py-3\"\n                >\n                    <div className=\"flex items-start justify-between gap-3\">\n                        <div className=\"min-w-0\">\n                            <p className=\"text-paragraph-small text-content-primary font-medium truncate\">\n                                {row.clientName}\n                            </p>\n                            <p className=\"text-[11px] text-content-secondary truncate\">\n                                {row.description}\n                            </p>\n                        </div>\n\n                        <div className=\"shrink-0 text-right\">\n                            <p className=\"text-paragraph-small text-content-primary font-semibold\">\n                                {row.earningFormatted}\n                            </p>\n                            <p className=\"text-[11px] text-content-tertiary\">\n                                {row.time}\n                            </p>\n                        </div>\n                    </div>\n\n                    <div className=\"mt-2 grid gap-2 md:grid-cols-3\">\n                        <div className=\"rounded-lg border border-border-primary bg-background-secondary px-3 py-2\">\n                            <p className=\"text-[11px] text-content-tertiary\">\n                                Valor\n                            </p>\n                            <p className=\"text-paragraph-small text-content-primary font-medium\">\n                                {row.priceFormatted}\n                            </p>\n                        </div>\n\n                        <div className=\"rounded-lg border border-border-primary bg-background-secondary px-3 py-2\">\n                            <p className=\"text-[11px] text-content-tertiary\">\n                                Percentual\n                            </p>\n                            <p className=\"text-paragraph-small text-content-primary font-medium\">\n                                {row.percentageFormatted}\n                            </p>\n                        </div>\n\n                        <div className=\"rounded-lg border border-border-primary bg-background-secondary px-3 py-2\">\n                            <p className=\"text-[11px] text-content-tertiary\">\n                                Ganho\n                            </p>\n                            <p className=\"text-paragraph-small text-content-primary font-medium\">\n                                {row.earningFormatted}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nfunction getSaoPauloToday(): Date {\n    const now = new Date();\n\n    const formatter = new Intl.DateTimeFormat('pt-BR', {\n        timeZone: SAO_PAULO_TIMEZONE,\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n    });\n\n    const parts = formatter.formatToParts(now);\n    const day = Number(parts.find((p) => p.type === 'day')?.value ?? '1');\n    const month = Number(parts.find((p) => p.type === 'month')?.value ?? '1');\n    const year = Number(parts.find((p) => p.type === 'year')?.value ?? '1970');\n\n    return new Date(year, month - 1, day);\n}\n\nfunction parseDateParam(dateStr?: string): Date | null {\n    if (!dateStr) return null;\n    const [y, m, d] = dateStr.split('-').map(Number);\n    if (!y || !m || !d) return null;\n    return new Date(y, m - 1, d);\n}\n\ntype ProfessionalEarningPageProps = {\n    searchParams: Promise<{\n        date?: string;\n    }>;\n};\n\nexport default async function ProfessionalEarningPage({\n    searchParams,\n}: ProfessionalEarningPageProps) {\n    const session = await requireProfessionalSession();\n\n    if (!session.companyId || !session.professionalId || !session.userId) {\n        return (\n            <div className=\"space-y-4\">\n                <h2 className=\"text-title text-content-primary\">Ganhos</h2>\n                <p className=\"text-paragraph-medium-size text-content-secondary\">\n                    Não foi possível identificar seu acesso como profissional.\n                    Faça login novamente ou peça para um administrador vincular\n                    seu usuário a um profissional ativo.\n                </p>\n            </div>\n        );\n    }\n\n    const resolvedSearchParams = await searchParams;\n    const dateParam = resolvedSearchParams.date;\n\n    const baseDate = dateParam\n        ? (parseDateParam(dateParam) ?? getSaoPauloToday())\n        : getSaoPauloToday();\n\n    const dayStart = startOfDay(baseDate);\n    const dayEnd = endOfDay(baseDate);\n\n    const monthStart = startOfMonth(baseDate);\n    const monthEnd = endOfMonth(baseDate);\n\n    const currencyFormatter = new Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL',\n        minimumFractionDigits: 2,\n    });\n\n    const [\n        dayAppointments,\n        dayCanceledAppointments,\n        monthAppointments,\n        monthCanceledAppointments,\n        dayProductSales,\n        monthProductSales,\n        dayCancellationFees,\n        monthCancellationFees,\n    ] = await Promise.all([\n        prisma.appointment.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                status: 'DONE',\n                scheduleAt: { gte: dayStart, lte: dayEnd },\n            },\n            include: { service: true },\n            orderBy: { scheduleAt: 'asc' },\n        }),\n        prisma.appointment.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                status: 'CANCELED',\n                scheduleAt: { gte: dayStart, lte: dayEnd },\n            },\n            select: {\n                id: true,\n                cancelFeeApplied: true,\n                cancelFeeValue: true,\n            },\n        }),\n        prisma.appointment.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                status: 'DONE',\n                scheduleAt: { gte: monthStart, lte: monthEnd },\n            },\n            include: { service: true },\n            orderBy: { scheduleAt: 'asc' },\n        }),\n        prisma.appointment.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                status: 'CANCELED',\n                scheduleAt: { gte: monthStart, lte: monthEnd },\n            },\n            select: {\n                id: true,\n                cancelFeeApplied: true,\n                cancelFeeValue: true,\n            },\n        }),\n        prisma.productSale.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                soldAt: { gte: dayStart, lte: dayEnd },\n            },\n            include: { product: true },\n            orderBy: { soldAt: 'asc' },\n        }),\n        prisma.productSale.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                soldAt: { gte: monthStart, lte: monthEnd },\n            },\n            include: { product: true },\n            orderBy: { soldAt: 'asc' },\n        }),\n        prisma.professionalCancellationFee.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                createdAt: { gte: dayStart, lte: dayEnd },\n            },\n            select: { id: true, amount: true, createdAt: true },\n        }),\n        prisma.professionalCancellationFee.findMany({\n            where: {\n                companyId: session.companyId,\n                professionalId: session.professionalId,\n                createdAt: { gte: monthStart, lte: monthEnd },\n            },\n            select: { id: true, amount: true, createdAt: true },\n        }),\n    ]);\n\n    // ===== GANHOS (SERVIÇOS) =====\n    const totalServiceEarningsDay = dayAppointments.reduce((sum, appt) => {\n        const earningSnapshot = appt.professionalEarningValue;\n        const priceSnapshot = appt.servicePriceAtTheTime;\n        const priceService = appt.service?.price ?? 0;\n\n        const percentSnapshot = appt.professionalPercentageAtTheTime;\n        const percentService = appt.service?.professionalPercentage ?? 0;\n\n        if (earningSnapshot) return sum + Number(earningSnapshot);\n\n        const priceNumber = priceSnapshot\n            ? Number(priceSnapshot)\n            : Number(priceService);\n\n        const percentNumber = percentSnapshot\n            ? Number(percentSnapshot)\n            : Number(percentService);\n\n        return sum + (priceNumber * percentNumber) / 100;\n    }, 0);\n\n    const totalServiceEarningsMonth = monthAppointments.reduce((sum, appt) => {\n        const earningSnapshot = appt.professionalEarningValue;\n        const priceSnapshot = appt.servicePriceAtTheTime;\n        const priceService = appt.service?.price ?? 0;\n\n        const percentSnapshot = appt.professionalPercentageAtTheTime;\n        const percentService = appt.service?.professionalPercentage ?? 0;\n\n        if (earningSnapshot) return sum + Number(earningSnapshot);\n\n        const priceNumber = priceSnapshot\n            ? Number(priceSnapshot)\n            : Number(priceService);\n\n        const percentNumber = percentSnapshot\n            ? Number(percentSnapshot)\n            : Number(percentService);\n\n        return sum + (priceNumber * percentNumber) / 100;\n    }, 0);\n\n    // ===== PRODUTOS (GANHO DO PROFISSIONAL) =====\n    const totalProductsSoldDay = dayProductSales.reduce(\n        (sum, sale) => sum + sale.quantity,\n        0\n    );\n    const totalProductsSoldMonth = monthProductSales.reduce(\n        (sum, sale) => sum + sale.quantity,\n        0\n    );\n\n    const totalProductEarningsDay = dayProductSales.reduce((sum, sale) => {\n        const percent = sale.product?.professionalPercentage ?? 0;\n        const total = Number(sale.totalPrice);\n        const commission = (total * Number(percent)) / 100;\n        return sum + commission;\n    }, 0);\n\n    const totalProductEarningsMonth = monthProductSales.reduce((sum, sale) => {\n        const percent = sale.product?.professionalPercentage ?? 0;\n        const total = Number(sale.totalPrice);\n        const commission = (total * Number(percent)) / 100;\n        return sum + commission;\n    }, 0);\n\n    // ===== CANCELAMENTO (100% do profissional) =====\n    const totalCancelFeeDayFromTable = dayCancellationFees.reduce(\n        (sum, row) => {\n            return sum + Number(row.amount ?? 0);\n        },\n        0\n    );\n\n    const totalCancelFeeMonthFromTable = monthCancellationFees.reduce(\n        (sum, row) => sum + Number(row.amount ?? 0),\n        0\n    );\n\n    const canceledWithFeeDayFallback = dayCanceledAppointments.filter(\n        (appt) => appt.cancelFeeApplied\n    );\n    const totalCancelFeeDayFallback = canceledWithFeeDayFallback.reduce(\n        (sum, appt) => sum + Number(appt.cancelFeeValue ?? 0),\n        0\n    );\n\n    const canceledWithFeeMonthFallback = monthCanceledAppointments.filter(\n        (appt) => appt.cancelFeeApplied\n    );\n    const totalCancelFeeMonthFallback = canceledWithFeeMonthFallback.reduce(\n        (sum, appt) => sum + Number(appt.cancelFeeValue ?? 0),\n        0\n    );\n\n    const cancelFeeDay =\n        totalCancelFeeDayFromTable > 0\n            ? totalCancelFeeDayFromTable\n            : totalCancelFeeDayFallback;\n\n    const cancelFeeMonth =\n        totalCancelFeeMonthFromTable > 0\n            ? totalCancelFeeMonthFromTable\n            : totalCancelFeeMonthFallback;\n\n    // ===== TOTAIS =====\n    const totalEarningsDay =\n        totalServiceEarningsDay + totalProductEarningsDay + cancelFeeDay;\n\n    const totalEarningsMonth =\n        totalServiceEarningsMonth + totalProductEarningsMonth + cancelFeeMonth;\n\n    // ===== CONTAGENS =====\n    const totalAppointmentsDay = dayAppointments.length;\n    const totalAppointmentsMonth = monthAppointments.length;\n    const totalAppointmentsCanceledDay = dayCanceledAppointments.length;\n    const totalAppointmentsCanceledMonth = monthCanceledAppointments.length;\n\n    // ===== LINHAS (SERVIÇOS DO DIA) =====\n    const dayAppointmentsRows: EarningRow[] = dayAppointments.map((appt) => {\n        const timeStr = appt.scheduleAt.toLocaleTimeString('pt-BR', {\n            hour: '2-digit',\n            minute: '2-digit',\n            timeZone: SAO_PAULO_TIMEZONE,\n        });\n\n        const priceSnapshot = appt.servicePriceAtTheTime;\n        const priceService = appt.service?.price ?? 0;\n        const priceNumber = priceSnapshot\n            ? Number(priceSnapshot)\n            : Number(priceService);\n\n        const percentSnapshot = appt.professionalPercentageAtTheTime;\n        const percentService = appt.service?.professionalPercentage ?? 0;\n        const percentNumber = percentSnapshot\n            ? Number(percentSnapshot)\n            : Number(percentService);\n\n        const earningSnapshot = appt.professionalEarningValue;\n        const earningNumber = earningSnapshot\n            ? Number(earningSnapshot)\n            : (priceNumber * percentNumber) / 100;\n\n        return {\n            id: appt.id,\n            clientName: appt.clientName ?? '',\n            description: appt.description ?? appt.service?.name ?? 'Serviço',\n            time: timeStr,\n            priceFormatted: currencyFormatter.format(priceNumber),\n            percentageFormatted: `${percentNumber.toFixed(2)}%`,\n            earningFormatted: currencyFormatter.format(earningNumber),\n        };\n    });\n\n    // ===== LINHAS (PRODUTOS DO DIA) =====\n    const dayProductRows: EarningRow[] = dayProductSales.map((sale) => {\n        const timeStr = sale.soldAt.toLocaleTimeString('pt-BR', {\n            hour: '2-digit',\n            minute: '2-digit',\n            timeZone: SAO_PAULO_TIMEZONE,\n        });\n\n        const productName = sale.product?.name ?? 'Produto';\n        const totalNumber = Number(sale.totalPrice);\n\n        const percent = sale.product?.professionalPercentage ?? 0;\n        const percentNumber = Number(percent);\n\n        const earningNumber = (totalNumber * percentNumber) / 100;\n\n        return {\n            id: `product-${sale.id}`,\n            clientName: '(Produto)',\n            description: `${productName} · ${sale.quantity} un.`,\n            time: timeStr,\n            priceFormatted: currencyFormatter.format(totalNumber),\n            percentageFormatted: `${percentNumber.toFixed(2)}%`,\n            earningFormatted: currencyFormatter.format(earningNumber),\n        };\n    });\n\n    return (\n        <div className=\"space-y-6\">\n            {/* HEADER LOCAL (com DatePicker na mesma linha) */}\n            <header className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n                <div className=\"space-y-1\">\n                    <h1 className=\"text-title text-content-primary\">\n                        Meus ganhos\n                    </h1>\n                    <p className=\"text-paragraph-medium-size text-content-secondary\">\n                        Ganhos do dia e acumulado no mês (serviços, produtos e\n                        taxas quando aplicadas).\n                    </p>\n                </div>\n\n                <DatePicker />\n            </header>\n\n            {/* RESUMO */}\n            <section className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n                <SummaryCard\n                    label=\"Total do dia\"\n                    value={currencyFormatter.format(totalEarningsDay)}\n                    hint={`Serviços: ${currencyFormatter.format(\n                        totalServiceEarningsDay\n                    )} · Produtos: ${currencyFormatter.format(\n                        totalProductEarningsDay\n                    )} · Taxas: ${currencyFormatter.format(cancelFeeDay)}`}\n                />\n\n                <SummaryCard\n                    label=\"Total do mês\"\n                    value={currencyFormatter.format(totalEarningsMonth)}\n                    hint={`Serviços: ${currencyFormatter.format(\n                        totalServiceEarningsMonth\n                    )} · Produtos: ${currencyFormatter.format(\n                        totalProductEarningsMonth\n                    )} · Taxas: ${currencyFormatter.format(cancelFeeMonth)}`}\n                />\n\n                <SummaryCard\n                    label=\"Atendimentos\"\n                    value={`${totalAppointmentsDay} hoje`}\n                    hint={`${totalAppointmentsMonth} no mês · Cancelados: ${totalAppointmentsCanceledDay} hoje / ${totalAppointmentsCanceledMonth} mês`}\n                />\n\n                <SummaryCard\n                    label=\"Produtos\"\n                    value={`${totalProductsSoldDay} un. hoje`}\n                    hint={`${totalProductsSoldMonth} un. no mês · Ganho: ${currencyFormatter.format(\n                        totalProductEarningsMonth\n                    )}`}\n                />\n            </section>\n\n            {/* LISTA DE ATENDIMENTOS DO DIA */}\n            <section className=\"space-y-3\">\n                <h2 className=\"text-subtitle text-content-primary\">\n                    Detalhamento de atendimentos do dia\n                </h2>\n\n                {dayAppointmentsRows.length === 0 ? (\n                    <p className=\"text-paragraph-small text-content-secondary\">\n                        Você não teve atendimentos concluídos neste dia.\n                    </p>\n                ) : (\n                    <EarningsDayList rows={dayAppointmentsRows} />\n                )}\n            </section>\n\n            {/* LISTA DE VENDAS DE PRODUTOS DO DIA */}\n            <section className=\"space-y-3\">\n                <h2 className=\"text-subtitle text-content-primary\">\n                    Detalhamento de vendas de produtos do dia\n                </h2>\n\n                {dayProductRows.length === 0 ? (\n                    <p className=\"text-paragraph-small text-content-secondary\">\n                        Você não teve vendas de produtos neste dia.\n                    </p>\n                ) : (\n                    <EarningsDayList rows={dayProductRows} />\n                )}\n            </section>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,6,7,8,9]}