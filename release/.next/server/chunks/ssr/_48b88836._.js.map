{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/receipt.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/badge-dollar-sign.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/percent.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/timer.ts","turbopack:///[project]/src/components/admin/services/service-row/service-row.tsx","turbopack:///[project]/src/components/admin/services/service-edit-dialog/service-edit-dialog.tsx","turbopack:///[project]/src/components/admin/services/service-new-dialog/service-new-dialog.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z', key: 'q3az6g' },\n  ],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 17.5v-11', key: '1jc1ny' }],\n];\n\n/**\n * @component @name Receipt\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAydjIwbDItMSAyIDEgMi0xIDIgMSAyLTEgMiAxIDItMSAyIDFWMmwtMiAxLTItMS0yIDEtMi0xLTIgMS0yLTEtMiAxWiIgLz4KICA8cGF0aCBkPSJNMTYgOGgtNmEyIDIgMCAxIDAgMCA0aDRhMiAyIDAgMSAxIDAgNEg4IiAvPgogIDxwYXRoIGQ9Ik0xMiAxNy41di0xMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/receipt\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Receipt = createLucideIcon('receipt', __iconNode);\n\nexport default Receipt;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z',\n      key: '3c2336',\n    },\n  ],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n];\n\n/**\n * @component @name BadgeDollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMy44NSA4LjYyYTQgNCAwIDAgMSA0Ljc4LTQuNzcgNCA0IDAgMCAxIDYuNzQgMCA0IDQgMCAwIDEgNC43OCA0Ljc4IDQgNCAwIDAgMSAwIDYuNzQgNCA0IDAgMCAxLTQuNzcgNC43OCA0IDQgMCAwIDEtNi43NSAwIDQgNCAwIDAgMS00Ljc4LTQuNzcgNCA0IDAgMCAxIDAtNi43NloiIC8+CiAgPHBhdGggZD0iTTE2IDhoLTZhMiAyIDAgMSAwIDAgNGg0YTIgMiAwIDEgMSAwIDRIOCIgLz4KICA8cGF0aCBkPSJNMTIgMThWNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/badge-dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BadgeDollarSign = createLucideIcon('badge-dollar-sign', __iconNode);\n\nexport default BadgeDollarSign;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '19', x2: '5', y1: '5', y2: '19', key: '1x9vlm' }],\n  ['circle', { cx: '6.5', cy: '6.5', r: '2.5', key: '4mh3h7' }],\n  ['circle', { cx: '17.5', cy: '17.5', r: '2.5', key: '1mdrzq' }],\n];\n\n/**\n * @component @name Percent\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTkiIHgyPSI1IiB5MT0iNSIgeTI9IjE5IiAvPgogIDxjaXJjbGUgY3g9IjYuNSIgY3k9IjYuNSIgcj0iMi41IiAvPgogIDxjaXJjbGUgY3g9IjE3LjUiIGN5PSIxNy41IiByPSIyLjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/percent\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Percent = createLucideIcon('percent', __iconNode);\n\nexport default Percent;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '10', x2: '14', y1: '2', y2: '2', key: '14vaq8' }],\n  ['line', { x1: '12', x2: '15', y1: '14', y2: '11', key: '17fdiu' }],\n  ['circle', { cx: '12', cy: '14', r: '8', key: '1e1u0o' }],\n];\n\n/**\n * @component @name Timer\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTAiIHgyPSIxNCIgeTE9IjIiIHkyPSIyIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjE1IiB5MT0iMTQiIHkyPSIxMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE0IiByPSI4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/timer\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Timer = createLucideIcon('timer', __iconNode);\n\nexport default Timer;\n","// src/components/admin/services/service-row.tsx\n'use client';\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport { Button } from '@/components/ui/button';\nimport { ServiceEditDialog } from '@/components/admin/services/service-edit-dialog';\n\nexport type ServiceRowItem = {\n    id: string;\n\n    name: string;\n    description?: string | null;\n\n    // Formato UI (API atual)\n    priceInCents?: number | null;\n    durationInMinutes?: number | null;\n    barberPercentage?: number | null;\n\n    // Formato “prisma-like” (page antiga)\n    price?: string | number | null; // decimal string\n    durationMinutes?: number | null;\n    professionalPercentage?: string | number | null;\n\n    cancelLimitHours?: number | null;\n    cancelFeePercentage?: number | string | null;\n\n    isActive: boolean;\n\n    companyId?: string | null;\n    unitId?: string | null;\n};\n\ntype ServiceRowProps = {\n    service: ServiceRowItem;\n};\n\nfunction formatBRLFromCents(valueInCents: number | null | undefined) {\n    if (typeof valueInCents !== 'number' || !Number.isFinite(valueInCents))\n        return '—';\n\n    return new Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL',\n    }).format(valueInCents / 100);\n}\n\nfunction formatMinutes(value: number | null | undefined) {\n    const v = Number(value ?? 0);\n    if (!Number.isFinite(v) || v <= 0) return '—';\n    if (v < 60) return `${v} min`;\n    const h = Math.floor(v / 60);\n    const m = v % 60;\n    return m ? `${h}h ${m}min` : `${h}h`;\n}\n\nfunction toFiniteNumber(value: unknown): number | null {\n    if (value === null || value === undefined) return null;\n\n    if (typeof value === 'number') return Number.isFinite(value) ? value : null;\n\n    if (typeof value === 'string') {\n        const normalized = value.trim().replace(',', '.');\n        const n = Number(normalized);\n        return Number.isFinite(n) ? n : null;\n    }\n\n    return null;\n}\n\nfunction centsToDecimalString(valueInCents: number | null | undefined) {\n    if (typeof valueInCents !== 'number' || !Number.isFinite(valueInCents))\n        return '';\n    return (valueInCents / 100).toFixed(2);\n}\n\ntype ApiOk<T> = { ok: true; data: T };\ntype ApiErr = { ok: false; error?: string };\n\nasync function patchService(\n    serviceId: string,\n    payload: Record<string, unknown>\n) {\n    const res = await fetch(`/api/admin/services/${serviceId}`, {\n        method: 'PATCH',\n        headers: {\n            'content-type': 'application/json',\n            accept: 'application/json',\n        },\n        body: JSON.stringify(payload),\n    });\n\n    const json = (await res.json().catch(() => null)) as\n        | ApiOk<unknown>\n        | ApiErr\n        | null;\n\n    if (!res.ok || !json || json.ok !== true) {\n        const msg =\n            (json && json.ok === false && json.error) ||\n            'Não foi possível salvar.';\n        return { ok: false as const, error: msg };\n    }\n\n    return { ok: true as const, data: json.data };\n}\n\nexport function ServiceRow({ service }: ServiceRowProps) {\n    const router = useRouter();\n\n    const [isActive, setIsActive] = React.useState<boolean>(\n        Boolean(service.isActive)\n    );\n    const [isToggling, setIsToggling] = React.useState(false);\n\n    React.useEffect(() => {\n        setIsActive(Boolean(service.isActive));\n    }, [service.isActive]);\n\n    async function handleToggle() {\n        if (isToggling) return;\n\n        const next = !isActive;\n\n        setIsToggling(true);\n        setIsActive(next);\n\n        const res = await patchService(service.id, { isActive: next });\n\n        setIsToggling(false);\n\n        if (!res.ok) {\n            setIsActive(!next);\n            toast.error(res.error);\n            return;\n        }\n\n        toast.success(next ? 'Serviço ativado!' : 'Serviço desativado!');\n        router.refresh();\n    }\n\n    const normalized = React.useMemo(() => {\n        const priceInCents =\n            typeof service.priceInCents === 'number'\n                ? service.priceInCents\n                : (() => {\n                      const priceDecimal = toFiniteNumber(service.price);\n                      if (priceDecimal === null) return null;\n                      return Math.round(priceDecimal * 100);\n                  })();\n\n        const durationInMinutes =\n            typeof service.durationInMinutes === 'number'\n                ? service.durationInMinutes\n                : typeof service.durationMinutes === 'number'\n                  ? service.durationMinutes\n                  : null;\n\n        const commissionPct =\n            typeof service.barberPercentage === 'number'\n                ? service.barberPercentage\n                : (() => {\n                      const n = toFiniteNumber(service.professionalPercentage);\n                      return n === null ? null : n;\n                  })();\n\n        const cancelFeePct =\n            typeof service.cancelFeePercentage === 'number'\n                ? service.cancelFeePercentage\n                : (() => {\n                      const n = toFiniteNumber(service.cancelFeePercentage);\n                      return n === null ? null : n;\n                  })();\n\n        return { priceInCents, durationInMinutes, commissionPct, cancelFeePct };\n    }, [service]);\n\n    const serviceLikeForDialog = React.useMemo(\n        () =>\n            ({\n                id: service.id,\n                unitId: service.unitId ?? null,\n                name: service.name,\n                price: centsToDecimalString(normalized.priceInCents),\n                durationMinutes: normalized.durationInMinutes ?? 0,\n                professionalPercentage:\n                    normalized.commissionPct !== null\n                        ? String(normalized.commissionPct)\n                        : '50',\n                cancelLimitHours: service.cancelLimitHours ?? null,\n                cancelFeePercentage:\n                    normalized.cancelFeePct !== null\n                        ? String(normalized.cancelFeePct)\n                        : null,\n                isActive: Boolean(service.isActive),\n            }) as any,\n        [\n            service,\n            normalized.priceInCents,\n            normalized.durationInMinutes,\n            normalized.commissionPct,\n            normalized.cancelFeePct,\n        ]\n    );\n\n    // ✅ Badge padronizado no estilo do Finance (rounded-md + border + tons)\n    const badgeToneClass = isActive\n        ? 'bg-green-500/15 text-green-600 border-green-500/30'\n        : 'bg-red-500/15 text-red-600 border-red-500/30';\n\n    return (\n        <tr className=\"border-t border-border-primary\">\n            <td className=\"px-4 py-3\">\n                <div className=\"space-y-0.5\">\n                    <p className=\"text-paragraph-medium-size text-content-primary\">\n                        {service.name}\n                    </p>\n                    {service.description ? (\n                        <p className=\"text-paragraph-small text-content-tertiary line-clamp-2\">\n                            {service.description}\n                        </p>\n                    ) : (\n                        <p className=\"text-paragraph-small text-content-tertiary\"></p>\n                    )}\n                </div>\n            </td>\n\n            <td className=\"px-4 py-3 text-paragraph-small text-content-secondary\">\n                {formatBRLFromCents(normalized.priceInCents)}\n            </td>\n\n            <td className=\"px-4 py-3 text-paragraph-small text-content-secondary\">\n                {formatMinutes(normalized.durationInMinutes)}\n            </td>\n\n            <td className=\"px-4 py-3 text-paragraph-small text-content-secondary\">\n                {typeof normalized.commissionPct === 'number'\n                    ? `${normalized.commissionPct}%`\n                    : '—'}\n            </td>\n\n            <td className=\"px-4 py-3 text-paragraph-small text-content-secondary\">\n                {typeof service.cancelLimitHours === 'number'\n                    ? `Até ${service.cancelLimitHours}h antes`\n                    : '—'}\n            </td>\n\n            <td className=\"px-4 py-3 text-paragraph-small text-content-secondary\">\n                {typeof normalized.cancelFeePct === 'number'\n                    ? `${normalized.cancelFeePct}%`\n                    : '—'}\n            </td>\n\n            <td className=\"px-4 py-3\">\n                <span\n                    className={[\n                        'inline-flex items-center rounded-md border px-2 py-0.5 text-xs',\n                        badgeToneClass,\n                    ].join(' ')}\n                >\n                    {isActive ? 'Ativo' : 'Inativo'}\n                </span>\n            </td>\n\n            <td className=\"px-4 py-3\">\n                <div className=\"flex items-center justify-end gap-2\">\n                    <ServiceEditDialog service={serviceLikeForDialog} />\n\n                    <Button\n                        variant={isActive ? 'destructive' : 'active'}\n                        size=\"sm\"\n                        type=\"button\"\n                        onClick={handleToggle}\n                        disabled={isToggling}\n                        className=\"border-border-primary hover:bg-muted/40\"\n                        title={\n                            isToggling\n                                ? 'Salvando...'\n                                : isActive\n                                  ? 'Desativar serviço'\n                                  : 'Ativar serviço'\n                        }\n                    >\n                        {isToggling\n                            ? 'Salvando...'\n                            : isActive\n                              ? 'Desativar'\n                              : 'Ativar'}\n                    </Button>\n                </div>\n            </td>\n        </tr>\n    );\n}\n","// src/components/service-edit-dialog.tsx\n'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { toast } from 'sonner';\nimport { useRouter } from 'next/navigation';\nimport type { Service } from '@prisma/client';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\n\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\nimport { cn } from '@/lib/utils';\nimport {\n    Scissors,\n    BadgeDollarSign,\n    Clock,\n    Percent,\n    Timer,\n    Receipt,\n    Users,\n    Loader2,\n    Building2,\n} from 'lucide-react';\n\ntype ServiceEditDialogProps = {\n    service: Service;\n};\n\ntype ProfessionalForPicker = {\n    id: string;\n    name: string;\n    isActive: boolean;\n};\n\ntype UnitOption = {\n    id: string;\n    name: string;\n    isActive: boolean;\n};\n\ntype ServiceDetailsApiResponse = {\n    ok: boolean;\n    data?: {\n        service: {\n            id: string;\n            unitId: string | null;\n            name: string;\n            price: string; // decimal string\n            durationMinutes: number;\n            isActive: boolean;\n            professionalPercentage: string; // decimal string\n            cancelLimitHours: number | null;\n            cancelFeePercentage: string | null; // decimal string|null\n            createdAt: string | Date;\n            updatedAt: string | Date;\n        };\n        professionals: ProfessionalForPicker[];\n        selectedProfessionalIds: string[];\n        units: UnitOption[]; // ✅ vem do GET /api/admin/services/[serviceId]\n    };\n    error?: string;\n};\n\nfunction toStringNumberOrEmpty(value: unknown): string {\n    if (value === null || value === undefined) return '';\n    const n = Number(value);\n    return Number.isFinite(n) ? String(n) : '';\n}\n\nfunction toNumberOrNull(value: unknown): number | null {\n    if (value === null || value === undefined) return null;\n    const n =\n        typeof value === 'string'\n            ? Number(value.replace(',', '.').trim())\n            : Number(value);\n    return Number.isFinite(n) ? n : null;\n}\n\nfunction IconInput(\n    props: React.ComponentProps<typeof Input> & {\n        icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n    }\n) {\n    const { icon: Icon, className, ...rest } = props;\n\n    return (\n        <div className=\"relative\">\n            <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                <Icon className=\"h-4 w-4 text-content-brand\" />\n            </div>\n\n            <Input {...rest} className={cn('pl-10', className)} />\n        </div>\n    );\n}\n\nconst INPUT_BASE =\n    'bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0';\n\nconst SELECT_TRIGGER =\n    'h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0 focus-visible:border-border-brand';\n\nexport function ServiceEditDialog({ service }: ServiceEditDialogProps) {\n    const router = useRouter();\n\n    const [open, setOpen] = useState(false);\n\n    const [loading, setLoading] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const [professionals, setProfessionals] = useState<ProfessionalForPicker[]>(\n        []\n    );\n    const [selectedProfessionalIds, setSelectedProfessionalIds] = useState<\n        Set<string>\n    >(new Set());\n\n    const [units, setUnits] = useState<UnitOption[]>([]);\n    const activeUnits = useMemo(() => units.filter((u) => u.isActive), [units]);\n\n    // form state\n    const [name, setName] = useState((service as any).name ?? '');\n    const [price, setPrice] = useState(String((service as any).price ?? ''));\n    const [durationMinutes, setDurationMinutes] = useState(\n        toStringNumberOrEmpty((service as any).durationMinutes)\n    );\n\n    // compat UI field name \"barberPercentage\" -> API field \"professionalPercentage\"\n    const [barberPercentage, setBarberPercentage] = useState(\n        toStringNumberOrEmpty((service as any).barberPercentage) ||\n            toStringNumberOrEmpty((service as any).professionalPercentage)\n    );\n\n    const [cancelLimitHours, setCancelLimitHours] = useState(\n        toStringNumberOrEmpty((service as any).cancelLimitHours)\n    );\n\n    const [cancelFeePercentage, setCancelFeePercentage] = useState(\n        toStringNumberOrEmpty((service as any).cancelFeePercentage)\n    );\n\n    const [selectedUnitId, setSelectedUnitId] = useState<string>(() => {\n        const raw = String((service as any).unitId ?? '').trim();\n        return raw;\n    });\n\n    const busy = loading || saving;\n\n    function resetToInitial() {\n        setProfessionals([]);\n        setSelectedProfessionalIds(new Set());\n        setUnits([]);\n\n        setName((service as any).name ?? '');\n        setPrice(String((service as any).price ?? ''));\n        setDurationMinutes(\n            toStringNumberOrEmpty((service as any).durationMinutes)\n        );\n\n        setBarberPercentage(\n            toStringNumberOrEmpty((service as any).barberPercentage) ||\n                toStringNumberOrEmpty((service as any).professionalPercentage)\n        );\n\n        setCancelLimitHours(\n            toStringNumberOrEmpty((service as any).cancelLimitHours)\n        );\n        setCancelFeePercentage(\n            toStringNumberOrEmpty((service as any).cancelFeePercentage)\n        );\n\n        setSelectedUnitId(String((service as any).unitId ?? '').trim());\n    }\n\n    const selectedCount = selectedProfessionalIds.size;\n\n    const professionalsSorted = useMemo(() => {\n        const list = [...(professionals ?? [])];\n        list.sort((a, b) => a.name.localeCompare(b.name));\n        return list;\n    }, [professionals]);\n\n    async function fetchDetails() {\n        setLoading(true);\n\n        try {\n            const res = await fetch(`/api/admin/services/${service.id}`, {\n                method: 'GET',\n                cache: 'no-store',\n                headers: { accept: 'application/json' },\n            });\n\n            const json = (await res\n                .json()\n                .catch(() => null)) as ServiceDetailsApiResponse | null;\n\n            if (!res.ok || !json?.ok || !json.data) {\n                const msg =\n                    (json && json.ok === false && json.error) ||\n                    'Não foi possível carregar os dados do serviço.';\n                toast.error(msg);\n                return;\n            }\n\n            const s = json.data.service;\n\n            setName(s.name ?? '');\n            setPrice(String(s.price ?? ''));\n            setDurationMinutes(String(s.durationMinutes ?? ''));\n\n            setBarberPercentage(String(s.professionalPercentage ?? ''));\n            setCancelLimitHours(\n                s.cancelLimitHours === null ? '' : String(s.cancelLimitHours)\n            );\n            setCancelFeePercentage(\n                s.cancelFeePercentage === null\n                    ? ''\n                    : String(s.cancelFeePercentage)\n            );\n\n            setProfessionals(json.data.professionals ?? []);\n            setSelectedProfessionalIds(\n                new Set(json.data.selectedProfessionalIds ?? [])\n            );\n\n            const unitsFromApi = json.data.units ?? [];\n            setUnits(unitsFromApi);\n\n            // unit selecionada: do service, senão primeira ativa\n            const unitFromService = String(s.unitId ?? '').trim();\n            if (unitFromService) {\n                setSelectedUnitId(unitFromService);\n            } else {\n                const firstActive = unitsFromApi.find((u) => u.isActive)?.id;\n                setSelectedUnitId(firstActive ?? '');\n            }\n        } catch {\n            toast.error('Não foi possível carregar os dados do serviço.');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        if (!open) return;\n        void fetchDetails();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open]);\n\n    function toggleProfessional(id: string) {\n        setSelectedProfessionalIds((prev) => {\n            const next = new Set(prev);\n            if (next.has(id)) next.delete(id);\n            else next.add(id);\n            return next;\n        });\n    }\n\n    function normalizePayloadNumberString(value: string) {\n        return String(value ?? '')\n            .replace(',', '.')\n            .trim();\n    }\n\n    const unitIsValid =\n        !!selectedUnitId &&\n        (units.find((u) => u.id === selectedUnitId)?.isActive ?? false);\n\n    async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n        e.preventDefault();\n        if (busy) return;\n\n        if (!unitIsValid) {\n            toast.error('Selecione uma unidade ativa.');\n            return;\n        }\n\n        const nameTrim = String(name ?? '').trim();\n        if (!nameTrim) {\n            toast.error('Nome do serviço é obrigatório.');\n            return;\n        }\n\n        const priceNum = toNumberOrNull(normalizePayloadNumberString(price));\n        if (priceNum === null || priceNum < 0) {\n            toast.error('Preço inválido.');\n            return;\n        }\n\n        const durationNum = toNumberOrNull(\n            normalizePayloadNumberString(durationMinutes)\n        );\n        if (durationNum === null || durationNum <= 0) {\n            toast.error('Duração inválida.');\n            return;\n        }\n\n        const pctNum = toNumberOrNull(\n            normalizePayloadNumberString(barberPercentage)\n        );\n        if (pctNum === null || pctNum < 0 || pctNum > 100) {\n            toast.error('Porcentagem inválida (0 a 100).');\n            return;\n        }\n\n        const cancelLimitNum =\n            cancelLimitHours.trim() === ''\n                ? null\n                : toNumberOrNull(\n                      normalizePayloadNumberString(cancelLimitHours)\n                  );\n\n        if (cancelLimitNum !== null && cancelLimitNum < 0) {\n            toast.error('Limite de cancelamento inválido.');\n            return;\n        }\n\n        const cancelFeeNum =\n            cancelFeePercentage.trim() === ''\n                ? null\n                : toNumberOrNull(\n                      normalizePayloadNumberString(cancelFeePercentage)\n                  );\n\n        if (cancelFeeNum !== null && (cancelFeeNum < 0 || cancelFeeNum > 100)) {\n            toast.error('Taxa de cancelamento inválida (0 a 100).');\n            return;\n        }\n\n        if (selectedCount === 0) {\n            toast.error('Selecione pelo menos 1 profissional.');\n            return;\n        }\n\n        setSaving(true);\n\n        try {\n            const payload = {\n                unitId: selectedUnitId,\n\n                name: nameTrim,\n                price: priceNum,\n                durationMinutes: Math.trunc(durationNum),\n\n                // API espera professionalPercentage\n                professionalPercentage: pctNum,\n                // alias compat também\n                barberPercentage: pctNum,\n\n                cancelLimitHours:\n                    cancelLimitNum === null ? null : Math.trunc(cancelLimitNum),\n                cancelFeePercentage:\n                    cancelFeeNum === null ? null : cancelFeeNum,\n\n                professionalIds: Array.from(selectedProfessionalIds),\n            };\n\n            const res = await fetch(`/api/admin/services/${service.id}`, {\n                method: 'PATCH',\n                headers: {\n                    'content-type': 'application/json',\n                    accept: 'application/json',\n                },\n                body: JSON.stringify(payload),\n            });\n\n            const json = (await res.json().catch(() => null)) as\n                | { ok: true; data?: any }\n                | { ok: false; error?: string }\n                | null;\n\n            if (!res.ok || !json || (json as any).ok !== true) {\n                const msg =\n                    (json &&\n                        (json as any).ok === false &&\n                        (json as any).error) ||\n                    'Não foi possível salvar o serviço.';\n                toast.error(msg);\n                return;\n            }\n\n            toast.success('Serviço atualizado com sucesso!');\n            setOpen(false);\n            router.refresh();\n        } catch {\n            toast.error('Não foi possível salvar o serviço.');\n        } finally {\n            setSaving(false);\n        }\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onOpenChange={(next) => {\n                if (busy) return;\n                setOpen(next);\n                if (!next) resetToInitial();\n            }}\n        >\n            <DialogTrigger asChild>\n                <Button\n                    variant=\"edit2\"\n                    size=\"sm\"\n                    className=\"border-border-primary hover:bg-muted/40\"\n                    type=\"button\"\n                >\n                    Editar\n                </Button>\n            </DialogTrigger>\n\n            <DialogContent className=\"bg-background-secondary border border-border-primary max-h-[80vh] overflow-y-auto\">\n                <DialogHeader>\n                    <DialogTitle className=\"text-title text-content-primary\">\n                        Editar serviço\n                    </DialogTitle>\n                </DialogHeader>\n\n                {loading ? (\n                    <div className=\"rounded-xl border border-dashed border-border-primary bg-background-tertiary p-4 text-sm text-content-secondary\">\n                        <span className=\"inline-flex items-center gap-2\">\n                            <Loader2 className=\"h-4 w-4 animate-spin\" />\n                            Carregando dados do serviço...\n                        </span>\n                    </div>\n                ) : (\n                    <form onSubmit={handleSubmit} className=\"space-y-4 pb-2\">\n                        {/* UNIDADE */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Unidade <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <Select\n                                value={selectedUnitId}\n                                onValueChange={(v) => setSelectedUnitId(v)}\n                                disabled={busy || activeUnits.length === 0}\n                            >\n                                <SelectTrigger className={SELECT_TRIGGER}>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Building2 className=\"h-4 w-4 text-content-brand\" />\n                                        <SelectValue placeholder=\"Selecione a unidade\" />\n                                    </div>\n                                </SelectTrigger>\n\n                                <SelectContent>\n                                    {units.map((u) => (\n                                        <SelectItem\n                                            key={u.id}\n                                            value={u.id}\n                                            disabled={!u.isActive}\n                                        >\n                                            {u.name}{' '}\n                                            {!u.isActive ? '(inativa)' : ''}\n                                        </SelectItem>\n                                    ))}\n                                </SelectContent>\n                            </Select>\n\n                            {!unitIsValid ? (\n                                <p className=\"text-xs text-red-500\">\n                                    Selecione uma unidade ativa.\n                                </p>\n                            ) : null}\n                        </div>\n\n                        {/* NOME */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Nome do serviço{' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                name=\"name\"\n                                required\n                                value={name}\n                                onChange={(e) => setName(e.target.value)}\n                                disabled={busy}\n                                icon={Scissors}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* VALOR */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Valor (R$){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                name=\"price\"\n                                type=\"number\"\n                                step=\"0.01\"\n                                required\n                                value={price}\n                                onChange={(e) => setPrice(e.target.value)}\n                                disabled={busy}\n                                icon={BadgeDollarSign}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* DURAÇÃO */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Duração (minutos){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                name=\"durationMinutes\"\n                                type=\"number\"\n                                min={1}\n                                required\n                                value={durationMinutes}\n                                onChange={(e) =>\n                                    setDurationMinutes(e.target.value)\n                                }\n                                disabled={busy}\n                                icon={Clock}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* PORCENTAGEM DO PROFISSIONAL */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Porcentagem do profissional (%){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                name=\"barberPercentage\"\n                                type=\"number\"\n                                step=\"0.01\"\n                                min={0}\n                                max={100}\n                                required\n                                value={barberPercentage}\n                                onChange={(e) =>\n                                    setBarberPercentage(e.target.value)\n                                }\n                                disabled={busy}\n                                placeholder=\"Ex: 50\"\n                                icon={Percent}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* LIMITE DE CANCELAMENTO (opcional) */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Limite para cobrança de taxa (horas antes do\n                                horário)\n                            </label>\n\n                            <IconInput\n                                name=\"cancelLimitHours\"\n                                type=\"number\"\n                                min={0}\n                                value={cancelLimitHours}\n                                onChange={(e) =>\n                                    setCancelLimitHours(e.target.value)\n                                }\n                                disabled={busy}\n                                placeholder=\"Ex: 2 (até 2h antes)\"\n                                icon={Timer}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* TAXA DE CANCELAMENTO (opcional) */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Taxa de cancelamento (%)\n                            </label>\n\n                            <IconInput\n                                name=\"cancelFeePercentage\"\n                                type=\"number\"\n                                step=\"0.01\"\n                                min={0}\n                                max={100}\n                                value={cancelFeePercentage}\n                                onChange={(e) =>\n                                    setCancelFeePercentage(e.target.value)\n                                }\n                                disabled={busy}\n                                placeholder=\"Ex: 50\"\n                                icon={Receipt}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* PROFISSIONAIS */}\n                        <div className=\"space-y-2\">\n                            <p className=\"text-label-small text-content-secondary\">\n                                Profissionais que realizam este serviço{' '}\n                                <span className=\"text-red-500\">*</span>\n                            </p>\n\n                            {professionalsSorted.length === 0 ? (\n                                <div className=\"rounded-xl border border-dashed border-border-primary bg-background-tertiary p-4 text-sm text-content-secondary\">\n                                    Nenhum profissional encontrado para esta\n                                    empresa.\n                                </div>\n                            ) : (\n                                <div className=\"overflow-hidden rounded-xl border border-border-primary bg-background-tertiary\">\n                                    <div className=\"flex items-center justify-between gap-2 border-b border-border-primary bg-background-secondary px-3 py-2\">\n                                        <span className=\"inline-flex items-center gap-2 text-xs text-content-secondary\">\n                                            <Users className=\"h-4 w-4 text-content-brand\" />\n                                            Selecione os profissionais\n                                        </span>\n\n                                        <span className=\"text-xs text-content-secondary\">\n                                            {selectedCount} selecionado\n                                            {selectedCount === 1 ? '' : 's'}\n                                        </span>\n                                    </div>\n\n                                    <div className=\"max-h-56 space-y-1 overflow-y-auto p-2\">\n                                        {professionalsSorted.map((p) => {\n                                            const checked =\n                                                selectedProfessionalIds.has(\n                                                    p.id\n                                                );\n\n                                            return (\n                                                <label\n                                                    key={p.id}\n                                                    className={cn(\n                                                        'flex items-center gap-2 rounded-lg px-2 text-paragraph-small',\n                                                        'hover:bg-muted/30',\n                                                        !p.isActive &&\n                                                            'opacity-60'\n                                                    )}\n                                                >\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        className=\"h-4 w-4 rounded border-border-primary\"\n                                                        checked={checked}\n                                                        onChange={() =>\n                                                            toggleProfessional(\n                                                                p.id\n                                                            )\n                                                        }\n                                                        disabled={\n                                                            busy || !p.isActive\n                                                        }\n                                                    />\n                                                    <span className=\"text-content-primary\">\n                                                        {p.name}{' '}\n                                                        {!p.isActive\n                                                            ? '(inativo)'\n                                                            : ''}\n                                                    </span>\n                                                </label>\n                                            );\n                                        })}\n                                    </div>\n                                </div>\n                            )}\n\n                            {selectedCount === 0 ? (\n                                <p className=\"text-xs text-red-500\">\n                                    Selecione pelo menos 1 profissional.\n                                </p>\n                            ) : null}\n                        </div>\n\n                        <div className=\"flex justify-end gap-2 pt-2\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"brand\"\n                                disabled={\n                                    busy || selectedCount === 0 || !unitIsValid\n                                }\n                                title={\n                                    !unitIsValid\n                                        ? 'Selecione uma unidade ativa'\n                                        : selectedCount === 0\n                                          ? 'Selecione ao menos 1 profissional'\n                                          : undefined\n                                }\n                            >\n                                {saving ? (\n                                    <span className=\"inline-flex items-center gap-2\">\n                                        <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                        Salvando...\n                                    </span>\n                                ) : (\n                                    'Salvar alterações'\n                                )}\n                            </Button>\n                        </div>\n                    </form>\n                )}\n            </DialogContent>\n        </Dialog>\n    );\n}\n","// src/components/service-new-dialog.tsx\n'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { toast } from 'sonner';\nimport { useRouter } from 'next/navigation';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\n\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\nimport { cn } from '@/lib/utils';\nimport {\n    Scissors,\n    BadgeDollarSign,\n    Clock,\n    Percent,\n    Timer,\n    Receipt,\n    Users,\n    Building2,\n} from 'lucide-react';\n\ntype ProfessionalOption = {\n    id: string;\n    name: string;\n    isActive: boolean;\n};\n\ntype UnitOption = {\n    id: string;\n    name: string;\n    isActive: boolean;\n};\n\ntype ServicesApiGetResponse =\n    | {\n          ok: true;\n          data: {\n              services: unknown[];\n              professionals: ProfessionalOption[];\n              units: UnitOption[];\n          };\n      }\n    | { ok: false; error?: string };\n\ntype ServicesApiPostResponse =\n    | {\n          ok: true;\n          data: { id: string };\n      }\n    | { ok: false; error?: string };\n\nfunction IconInput(\n    props: React.ComponentProps<typeof Input> & {\n        icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n    }\n) {\n    const { icon: Icon, className, ...rest } = props;\n\n    return (\n        <div className=\"relative\">\n            <div className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2\">\n                <Icon className=\"h-4 w-4 text-content-brand\" />\n            </div>\n\n            <Input {...rest} className={cn('pl-10', className)} />\n        </div>\n    );\n}\n\nconst INPUT_BASE =\n    'bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0';\n\nconst SELECT_TRIGGER =\n    'h-10 w-full justify-between text-left font-normal bg-background-tertiary border-border-primary text-content-primary hover:border-border-secondary focus:border-border-brand focus-visible:ring-1 focus-visible:ring-border-brand focus-visible:ring-offset-0 focus-visible:border-border-brand';\n\nfunction parseNumberPtBR(value: string) {\n    const normalized = String(value ?? '')\n        .trim()\n        .replace(/\\s/g, '')\n        .replace(/\\./g, '')\n        .replace(',', '.');\n\n    const n = Number(normalized);\n    return Number.isFinite(n) ? n : NaN;\n}\n\nexport function ServiceNewDialog() {\n    const router = useRouter();\n\n    const [open, setOpen] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [isPending, setIsPending] = useState(false);\n\n    const [professionals, setProfessionals] = useState<ProfessionalOption[]>(\n        []\n    );\n    const [units, setUnits] = useState<UnitOption[]>([]);\n\n    // fields\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState(''); // decimal (R$)\n    const [durationMinutes, setDurationMinutes] = useState(''); // int\n\n    const [professionalPercentage, setProfessionalPercentage] = useState('50'); // %\n    const [cancelLimitHours, setCancelLimitHours] = useState(''); // int | ''\n    const [cancelFeePercentage, setCancelFeePercentage] = useState(''); // decimal | ''\n\n    const [selectedProfessionalIds, setSelectedProfessionalIds] = useState<\n        string[]\n    >([]);\n\n    const [selectedUnitId, setSelectedUnitId] = useState<string>('');\n\n    const activeProfessionals = useMemo(\n        () => professionals.filter((p) => p.isActive),\n        [professionals]\n    );\n\n    const activeUnits = useMemo(() => units.filter((u) => u.isActive), [units]);\n\n    const hasProfessionals = activeProfessionals.length > 0;\n    const hasUnits = activeUnits.length > 0;\n\n    const busy = loading || isPending;\n    const selectedCount = selectedProfessionalIds.length;\n\n    function resetForm(nextUnits?: UnitOption[]) {\n        const nextActive =\n            (nextUnits ?? units).find((u) => u.isActive)?.id ?? '';\n        setName('');\n        setPrice('');\n        setDurationMinutes('');\n        setProfessionalPercentage('50');\n        setCancelLimitHours('');\n        setCancelFeePercentage('');\n        setSelectedProfessionalIds([]);\n        setSelectedUnitId(nextActive);\n    }\n\n    async function loadData() {\n        setLoading(true);\n\n        try {\n            const res = await fetch('/api/admin/services', {\n                method: 'GET',\n                cache: 'no-store',\n                headers: { accept: 'application/json' },\n            });\n\n            const json = (await res\n                .json()\n                .catch(() => null)) as ServicesApiGetResponse | null;\n\n            if (!res.ok || !json || (json as any).ok !== true) {\n                const msg =\n                    (json &&\n                        (json as any).ok === false &&\n                        (json as any).error) ||\n                    'Não foi possível carregar dados.';\n                setProfessionals([]);\n                setUnits([]);\n                toast.error(msg);\n                return;\n            }\n\n            const nextProfessionals = (json as any).data?.professionals ?? [];\n            const nextUnits = (json as any).data?.units ?? [];\n\n            setProfessionals(nextProfessionals);\n            setUnits(nextUnits);\n\n            // se não tiver selecionado ainda, tenta a primeira unidade ativa\n            setSelectedUnitId((prev) => {\n                if (prev) return prev;\n                return (\n                    (nextUnits as UnitOption[]).find((u) => u.isActive)?.id ??\n                    ''\n                );\n            });\n        } catch {\n            setProfessionals([]);\n            setUnits([]);\n            toast.error('Não foi possível carregar dados.');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        if (!open) return;\n        void loadData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open]);\n\n    function toggleProfessional(id: string) {\n        setSelectedProfessionalIds((prev) => {\n            if (prev.includes(id)) return prev.filter((x) => x !== id);\n            return [...prev, id];\n        });\n    }\n\n    const unitIsValid =\n        !!selectedUnitId &&\n        (units.find((u) => u.id === selectedUnitId)?.isActive ?? false);\n\n    const requiredOk =\n        unitIsValid &&\n        name.trim().length > 0 &&\n        Number.isFinite(parseNumberPtBR(price)) &&\n        parseNumberPtBR(price) >= 0 &&\n        Number.isFinite(Number(durationMinutes)) &&\n        Number(durationMinutes) > 0 &&\n        Number.isFinite(parseNumberPtBR(professionalPercentage)) &&\n        parseNumberPtBR(professionalPercentage) >= 0 &&\n        parseNumberPtBR(professionalPercentage) <= 100 &&\n        selectedCount > 0;\n\n    async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n        e.preventDefault();\n        if (busy) return;\n\n        if (!hasUnits) {\n            toast.error('Crie pelo menos 1 unidade antes de criar serviços.');\n            return;\n        }\n\n        if (!unitIsValid) {\n            toast.error('Selecione uma unidade ativa.');\n            return;\n        }\n\n        if (!hasProfessionals) {\n            toast.error(\n                'Cadastre pelo menos 1 profissional antes de criar serviços.'\n            );\n            return;\n        }\n\n        if (!requiredOk) {\n            toast.error('Preencha os campos obrigatórios.');\n            return;\n        }\n\n        const priceNum = parseNumberPtBR(price);\n        const pctNum = parseNumberPtBR(professionalPercentage);\n\n        const cancelLimit =\n            cancelLimitHours.trim() === '' ? null : Number(cancelLimitHours);\n\n        const cancelFee =\n            cancelFeePercentage.trim() === ''\n                ? null\n                : parseNumberPtBR(cancelFeePercentage);\n\n        if (\n            cancelLimit !== null &&\n            (!Number.isFinite(cancelLimit) || cancelLimit < 0)\n        ) {\n            toast.error('Limite de cancelamento inválido.');\n            return;\n        }\n\n        if (\n            cancelFee !== null &&\n            (!Number.isFinite(cancelFee) || cancelFee < 0 || cancelFee > 100)\n        ) {\n            toast.error('Taxa de cancelamento inválida (0 a 100).');\n            return;\n        }\n\n        setIsPending(true);\n\n        try {\n            const res = await fetch('/api/admin/services', {\n                method: 'POST',\n                headers: { 'content-type': 'application/json' },\n                body: JSON.stringify({\n                    name: name.trim(),\n                    unitId: selectedUnitId,\n                    price: priceNum,\n                    durationMinutes: Number(durationMinutes),\n                    professionalPercentage: pctNum,\n                    cancelLimitHours: cancelLimit,\n                    cancelFeePercentage: cancelFee,\n                    professionalIds: selectedProfessionalIds,\n                }),\n            });\n\n            const json = (await res\n                .json()\n                .catch(() => null)) as ServicesApiPostResponse | null;\n\n            if (!res.ok || !json || (json as any).ok !== true) {\n                const msg =\n                    (json &&\n                        (json as any).ok === false &&\n                        (json as any).error) ||\n                    'Não foi possível criar o serviço.';\n                toast.error(msg);\n                return;\n            }\n\n            toast.success('Serviço criado com sucesso!');\n            setOpen(false);\n            resetForm();\n            router.refresh();\n        } catch {\n            toast.error('Não foi possível criar o serviço.');\n        } finally {\n            setIsPending(false);\n        }\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onOpenChange={(next) => {\n                if (busy) return;\n                setOpen(next);\n                if (!next) resetForm();\n            }}\n        >\n            <DialogTrigger asChild>\n                <Button variant=\"brand\">Novo serviço</Button>\n            </DialogTrigger>\n\n            <DialogContent className=\"bg-background-secondary border border-border-primary max-h-[80vh] overflow-y-auto\">\n                <DialogHeader>\n                    <DialogTitle className=\"text-title text-content-primary\">\n                        Novo serviço\n                    </DialogTitle>\n                </DialogHeader>\n\n                {!loading && !hasUnits ? (\n                    <div className=\"rounded-xl border border-dashed border-border-primary bg-background-tertiary p-4 text-sm text-content-secondary\">\n                        Você ainda não tem unidades ativas. Crie uma unidade\n                        antes de cadastrar serviços.\n                    </div>\n                ) : !loading && !hasProfessionals ? (\n                    <div className=\"rounded-xl border border-dashed border-border-primary bg-background-tertiary p-4 text-sm text-content-secondary\">\n                        Você ainda não tem profissionais ativos. Cadastre um\n                        profissional antes de criar serviços.\n                    </div>\n                ) : (\n                    <form onSubmit={handleSubmit} className=\"space-y-4 pb-2\">\n                        {/* UNIDADE */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-label-small text-content-secondary\">\n                                Unidade <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <Select\n                                value={selectedUnitId}\n                                onValueChange={(v) => setSelectedUnitId(v)}\n                                disabled={busy || activeUnits.length === 0}\n                            >\n                                <SelectTrigger className={SELECT_TRIGGER}>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Building2 className=\"h-4 w-4 text-content-brand\" />\n                                        <SelectValue placeholder=\"Selecione a unidade\" />\n                                    </div>\n                                </SelectTrigger>\n\n                                <SelectContent>\n                                    {units.map((u) => (\n                                        <SelectItem\n                                            key={u.id}\n                                            value={u.id}\n                                            disabled={!u.isActive}\n                                        >\n                                            {u.name}{' '}\n                                            {!u.isActive ? '(inativa)' : ''}\n                                        </SelectItem>\n                                    ))}\n                                </SelectContent>\n                            </Select>\n\n                            {!unitIsValid ? (\n                                <p className=\"text-xs text-red-500\">\n                                    Selecione uma unidade ativa.\n                                </p>\n                            ) : null}\n                        </div>\n\n                        {/* NOME */}\n                        <div className=\"space-y-2\">\n                            <label\n                                className=\"text-label-small text-content-secondary\"\n                                htmlFor=\"name\"\n                            >\n                                Nome do serviço{' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                id=\"name\"\n                                name=\"name\"\n                                required\n                                icon={Scissors}\n                                value={name}\n                                onChange={(e) => setName(e.target.value)}\n                                disabled={busy}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* VALOR */}\n                        <div className=\"space-y-2\">\n                            <label\n                                className=\"text-label-small text-content-secondary\"\n                                htmlFor=\"price\"\n                            >\n                                Valor (R$){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                id=\"price\"\n                                name=\"price\"\n                                inputMode=\"decimal\"\n                                placeholder=\"Ex: 49,90\"\n                                required\n                                icon={BadgeDollarSign}\n                                value={price}\n                                onChange={(e) => setPrice(e.target.value)}\n                                disabled={busy}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* DURAÇÃO */}\n                        <div className=\"space-y-2\">\n                            <label\n                                className=\"text-label-small text-content-secondary\"\n                                htmlFor=\"durationMinutes\"\n                            >\n                                Duração (minutos){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                id=\"durationMinutes\"\n                                name=\"durationMinutes\"\n                                type=\"number\"\n                                min={1}\n                                required\n                                icon={Clock}\n                                value={durationMinutes}\n                                onChange={(e) =>\n                                    setDurationMinutes(e.target.value)\n                                }\n                                disabled={busy}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* PORCENTAGEM DO PROFISSIONAL */}\n                        <div className=\"space-y-2\">\n                            <label\n                                className=\"text-label-small text-content-secondary\"\n                                htmlFor=\"professionalPercentage\"\n                            >\n                                Porcentagem do profissional (%){' '}\n                                <span className=\"text-red-500\">*</span>\n                            </label>\n\n                            <IconInput\n                                id=\"professionalPercentage\"\n                                name=\"professionalPercentage\"\n                                type=\"number\"\n                                step=\"0.01\"\n                                min={0}\n                                max={100}\n                                required\n                                placeholder=\"Ex: 50\"\n                                icon={Percent}\n                                value={professionalPercentage}\n                                onChange={(e) =>\n                                    setProfessionalPercentage(e.target.value)\n                                }\n                                disabled={busy}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* LIMITE DE CANCELAMENTO */}\n                        <div className=\"space-y-2\">\n                            <label\n                                className=\"text-label-small text-content-secondary\"\n                                htmlFor=\"cancelLimitHours\"\n                            >\n                                Limite para cobrança de taxa (horas antes do\n                                horário)\n                            </label>\n\n                            <IconInput\n                                id=\"cancelLimitHours\"\n                                name=\"cancelLimitHours\"\n                                type=\"number\"\n                                min={0}\n                                placeholder=\"Ex: 2 (até 2h antes)\"\n                                icon={Timer}\n                                value={cancelLimitHours}\n                                onChange={(e) =>\n                                    setCancelLimitHours(e.target.value)\n                                }\n                                disabled={busy}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* TAXA DE CANCELAMENTO */}\n                        <div className=\"space-y-2\">\n                            <label\n                                className=\"text-label-small text-content-secondary\"\n                                htmlFor=\"cancelFeePercentage\"\n                            >\n                                Taxa de cancelamento (%)\n                            </label>\n\n                            <IconInput\n                                id=\"cancelFeePercentage\"\n                                name=\"cancelFeePercentage\"\n                                type=\"number\"\n                                step=\"0.01\"\n                                min={0}\n                                max={100}\n                                placeholder=\"Ex: 50\"\n                                icon={Receipt}\n                                value={cancelFeePercentage}\n                                onChange={(e) =>\n                                    setCancelFeePercentage(e.target.value)\n                                }\n                                disabled={busy}\n                                className={INPUT_BASE}\n                            />\n                        </div>\n\n                        {/* PROFISSIONAIS */}\n                        <div className=\"space-y-2\">\n                            <p className=\"text-label-small text-content-secondary\">\n                                Profissionais que realizam este serviço{' '}\n                                <span className=\"text-red-500\">*</span>\n                            </p>\n\n                            <div className=\"rounded-lg border border-border-primary bg-background-tertiary p-2\">\n                                <div className=\"mb-2 flex items-center gap-2 px-1 text-paragraph-small text-content-secondary\">\n                                    <Users className=\"h-4 w-4 text-content-brand\" />\n                                    <span>Selecione os profissionais</span>\n                                </div>\n\n                                {loading ? (\n                                    <div className=\"px-1 py-3 text-paragraph-small text-content-secondary\">\n                                        Carregando profissionais...\n                                    </div>\n                                ) : activeProfessionals.length === 0 ? (\n                                    <div className=\"px-1 py-3 text-paragraph-small text-content-secondary\">\n                                        Nenhum profissional ativo cadastrado no\n                                        momento.\n                                    </div>\n                                ) : (\n                                    <div className=\"max-h-48 space-y-1 overflow-y-auto px-1\">\n                                        {activeProfessionals.map((p) => (\n                                            <label\n                                                key={p.id}\n                                                className=\"flex items-center gap-2 text-paragraph-small text-content-primary\"\n                                            >\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className=\"h-4 w-4 rounded border-border-primary\"\n                                                    disabled={busy}\n                                                    checked={selectedProfessionalIds.includes(\n                                                        p.id\n                                                    )}\n                                                    onChange={() =>\n                                                        toggleProfessional(p.id)\n                                                    }\n                                                />\n                                                <span>{p.name}</span>\n                                            </label>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n\n                            {!loading &&\n                            hasProfessionals &&\n                            selectedCount === 0 ? (\n                                <p className=\"text-xs text-red-500\">\n                                    Selecione pelo menos 1 profissional.\n                                </p>\n                            ) : null}\n                        </div>\n\n                        <div className=\"flex justify-end gap-2 pt-2\">\n                            <Button\n                                type=\"submit\"\n                                variant=\"brand\"\n                                disabled={busy || !requiredOk}\n                                title={\n                                    !requiredOk\n                                        ? 'Preencha os campos obrigatórios'\n                                        : undefined\n                                }\n                            >\n                                {isPending ? 'Salvando...' : 'Criar serviço'}\n                            </Button>\n                        </div>\n                    </form>\n                )}\n            </DialogContent>\n        </Dialog>\n    );\n}\n"],"names":[],"mappings":"+EC0BA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAkB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAlB,AAAkB,CAAA,AAAlB,AAAmC,CAAnC,AAAkB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAqB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAnBxD,CAmBkE,AAnBlE,CAmBkE,AAnB/D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,eAGP,SACS,CAAA,6CAAiD,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzE,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAE,AAAF,EAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAY,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC3C,4DCOiC,CCAF,ADAE,AFZjB,CAAA,AEYiB,ACAF,CAAA,ADAE,AFZjB,CGYe,ADAE,AFZjB,CEYiB,AFZjB,AGYe,CDAE,AFZjB,cEJH,CCAA,ADAA,CCAA,ADAA,CAAA,YAAmB,GAAI,IAAK,GAAI,mBAAqB,wBACpC,CCAH,CAAA,MDAa,CCAH,ADAG,CAAA,ACAH,QDAe,gCACzB,CAAA,EAAI,CAAA,ACAF,CAAA,ADAE,CAAA,ACAF,IDAU,CAAA,ACAD,CDAC,ACAD,ADAI,MAAO,CAAA,CAAA,CAAA,CAAA,AAAK,ECAN,MDAM,CAAU,CAAA,iBFAvD,CAAA,eGcT,CAAA,ADAA,AFbE,ACAO,GDAP,EAAA,CAAA,EAAA,EAAA,OAAA,EAAA,qBGHe,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,AAAM,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,AAAI,CAAA,ADAA,CAAA,ACAA,CAAA,ADAA,CCAA,ADAA,CCAM,CDAD,CAAA,ACAC,CAAA,IAAS,CAAA,ADAD,CCAC,ADAD,CAAA,QCAe,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,CDAA,ACAA,CAAA,ADAA,CAAA,ACAA,CAAA,CAAU,ADAA,UCCvD,CDAR,ACAQ,GAAM,CDAF,ACAE,OAAU,CAAA,ADAD,CCAC,ADAD,GCAO,EAAA,ADAH,CAAA,ACAG,iBAAyB,CDAN,ACAM,CDAN,ACAM,MAAA,CAAU,CAAA,4BACjC,CAAA,ADAJ,CAAA,ACAI,AAAG,IAAK,CDAD,ACAC,CDAD,ACAC,CDAD,ACAC,CAAK,ADAN,ACAC,QAAK,CAAU,CAAA,GDAJ,4BFiBtD,CCbE,ADaF,GCbE,EAAA,CAAA,EDac,CCZA,ADYA,CCZA,ADYA,CCZA,ADYA,CAAA,ACZA,CDYA,ACZA,CAAA,ADYA,CAAA,ACZA,CAAA,ADYA,CCZA,ADYA,CCZA,ADYA,CCZA,ADYA,AAAiB,CCZjB,ADYA,ACZA,ADYiB,CCZjB,ADYA,AAAiB,ACZjB,CAAA,ADYA,ACZA,ADYiB,CCZjB,ADYA,ACZA,ADYiB,CCZjB,ADYiB,CCZjB,ADYiB,CCZjB,ADYiB,CCZjB,ADYiB,CCZjB,ADYiB,CCZjB,ADRoB,CAoBQ,CAlBxC,ACMY,ADY4B,CCZ5B,ADY4B,AClBxC,AEAD,AHAC,CCMY,AANZ,AEAD,AHAC,AAkBwC,CAlBxC,ACMY,ADY4B,AGlBzC,AFAC,CEAD,AFMa,ADY4B,AClBxC,ADAA,CCAA,AEAD,AHAC,ACMY,ADY4B,CClBxC,AEAD,AHAC,AAkBwC,ACZ5B,CDLZ,ACKY,ADY4B,CGjBzC,ADAA,AFAG,ACKU,ADY4B,CAAU,ACZtC,AELb,AHAG,AEAH,CCAA,AHAG,AEAH,AFiBmD,ACZtC,CAAA,CAAA,CAAA,CAAA,sEDLoE,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAEvF,CAAC,CEYH,ADbS,AEaT,AHZG,CGYH,AFbS,ACaT,AFZG,KAAQ,CGYL,AHZK,ACAA,ADAE,EAAG,CEYA,ACAF,AFZH,ADAK,CEYA,AFZA,ACAL,AEYG,CHZE,AGYF,ADAE,CCAF,AHZE,AEYA,CFZA,AEYA,ACAF,CDAE,AFZA,AGYF,CAAA,ADAE,AFZA,CEYA,AFZA,AGYF,CAAA,ADAE,AFZA,CGYF,ADAE,AFZA,CGYF,ADAE,AFZA,CGYF,ADAE,AFZA,CEYA,ACAF,AHZE,8BAA4C,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzE,CAAC,OAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAgB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CA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","ignoreList":[0,1,2,3]}