module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},766518,a=>{"use strict";var b=a.i(29173);let c=globalThis.prisma??new b.PrismaClient({log:["error"]});a.s(["prisma",0,c])},650645,a=>{a.n(a.i(827572))},262530,a=>{a.n(a.i(688848))},409171,a=>{a.n(a.i(753004))},21802,a=>{a.n(a.i(277152))},155517,a=>{a.n(a.i(298906))},640230,a=>{a.n(a.i(972760))},500908,a=>{"use strict";var b=a.i(766518),c=a.i(126918);async function d(){let a=await (0,c.getCurrentPainelUser)();if(!a||"PROFESSIONAL"!==a.role)return{companyId:"",professionalId:"",userId:"",unitId:""};let d=String(a.sub||"").trim(),e=String(a.companyId||"").trim();if(!d||!e)return{companyId:"",professionalId:"",userId:"",unitId:""};let f=await b.prisma.professional.findFirst({where:{userId:d,companyId:e,isActive:!0},select:{id:!0,name:!0,email:!0}});if(!f?.id)return{companyId:"",professionalId:"",userId:d,unitId:""};let g=await b.prisma.professionalUnit.findFirst({where:{companyId:e,professionalId:f.id,isActive:!0},select:{unitId:!0},orderBy:{updatedAt:"desc"}});return{companyId:e,professionalId:f.id,userId:d,unitId:g?.unitId??"",name:f.name??null,email:f.email}}a.s(["requireProfessionalSession",()=>d])},891704,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DailyExceptionModal() from the server but DailyExceptionModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/professional/daily-exception-modal/daily-exception-modal.tsx <module evaluation>","DailyExceptionModal");a.s(["DailyExceptionModal",0,b])},248843,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DailyExceptionModal() from the server but DailyExceptionModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/professional/daily-exception-modal/daily-exception-modal.tsx","DailyExceptionModal");a.s(["DailyExceptionModal",0,b])},980603,a=>{"use strict";a.i(891704);var b=a.i(248843);a.n(b)},909692,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DailyExceptionsList() from the server but DailyExceptionsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/professional/daily-exceptions-list/daily-exceptions-list.tsx <module evaluation>","DailyExceptionsList");a.s(["DailyExceptionsList",0,b])},614769,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call DailyExceptionsList() from the server but DailyExceptionsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/professional/daily-exceptions-list/daily-exceptions-list.tsx","DailyExceptionsList");a.s(["DailyExceptionsList",0,b])},315644,a=>{"use strict";a.i(909692);var b=a.i(614769);a.n(b)},73798,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call WeeklyAvailabilityClient() from the server but WeeklyAvailabilityClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/professional/weekly-availability-client/weekly-availability-client.tsx <module evaluation>","WeeklyAvailabilityClient");a.s(["WeeklyAvailabilityClient",0,b])},209636,a=>{"use strict";let b=(0,a.i(976286).registerClientReference)(function(){throw Error("Attempted to call WeeklyAvailabilityClient() from the server but WeeklyAvailabilityClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/professional/weekly-availability-client/weekly-availability-client.tsx","WeeklyAvailabilityClient");a.s(["WeeklyAvailabilityClient",0,b])},754883,a=>{"use strict";a.i(73798);var b=a.i(209636);a.n(b)},693487,a=>{"use strict";var b=a.i(623127),c=a.i(766518),d=a.i(500908),e=a.i(980603),f=a.i(315644),g=a.i(754883);async function h(){let a=await (0,d.requireProfessionalSession)(),b=String(a.companyId||"").trim(),e=String(a.professionalId||"").trim(),f=String(a.unitId||"").trim();if(!b)throw Error("missing_company");if(!e)throw Error("missing_professional");if(!f||!await c.prisma.professionalUnit.findFirst({where:{companyId:b,professionalId:e,unitId:f,isActive:!0,unit:{isActive:!0}},select:{id:!0}}))throw Error("missing_active_unit");return{companyId:b,professionalId:e,unitId:f}}async function i(){let a=await h(),d={0:{active:!1,startTime:"00:00",endTime:"23:30"},1:{active:!0,startTime:"00:00",endTime:"23:30"},2:{active:!0,startTime:"00:00",endTime:"23:30"},3:{active:!0,startTime:"00:00",endTime:"23:30"},4:{active:!0,startTime:"00:00",endTime:"23:30"},5:{active:!0,startTime:"00:00",endTime:"23:30"},6:{active:!0,startTime:"00:00",endTime:"23:30"}};for(let b of(await c.prisma.professionalWeeklyAvailability.findMany({where:{companyId:a.companyId,professionalId:a.professionalId,unitId:a.unitId},include:{intervals:!0},orderBy:{weekday:"asc"}}))){let a=b.weekday;if("number"!=typeof a||a<0||a>6)continue;d[a].active=!!b.isActive;let c=b.intervals?.[0];c?.startTime&&c?.endTime&&(d[a].startTime=String(c.startTime),d[a].endTime=String(c.endTime))}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("header",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h1",{className:"text-title text-content-primary",children:"Disponibilidade"}),(0,b.jsx)("p",{className:"text-paragraph-medium-size text-content-secondary",children:"Defina seus horários disponíveis para receber agendamentos e crie exceções em dias específicos."})]})}),(0,b.jsxs)("section",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"rounded-xl border border-border-primary bg-background-tertiary px-4 py-4 space-y-3",children:(0,b.jsx)(g.WeeklyAvailabilityClient,{initialValue:d,leftAction:(0,b.jsx)(e.DailyExceptionModal,{professionalId:a.professionalId})})}),(0,b.jsx)(f.DailyExceptionsList,{professionalId:a.professionalId})]})]})}a.s(["default",()=>i,"dynamic",0,"force-dynamic","metadata",0,{title:"Profissional | Disponibilidade"}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4521430d._.js.map