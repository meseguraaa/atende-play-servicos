{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-slot@1.2.4_@types+react@19.2.10_react@19.2.0/node_modules/@radix-ui/react-slot/src/slot.tsx","turbopack:///[project]/src/components/ui/button.tsx","turbopack:///[project]/node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs","turbopack:///[project]/src/components/ui/badge.tsx","turbopack:///[project]/src/app/admin/client-level/rules/ui-client.tsx"],"sourcesContent":["import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\ndeclare module 'react' {\n  interface ReactElement {\n    $$typeof?: symbol | string;\n  }\n}\n\nconst REACT_LAZY_TYPE = Symbol.for('react.lazy');\n\ninterface LazyReactElement extends React.ReactElement {\n  $$typeof: typeof REACT_LAZY_TYPE;\n  _payload: PromiseLike<Exclude<React.ReactNode, PromiseLike<any>>>;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\nexport type Usable<T> = PromiseLike<T> | React.Context<T>;\nconst use: typeof React.use | undefined = (React as any)[' use '.trim().toString()];\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nfunction isPromiseLike(value: unknown): value is PromiseLike<unknown> {\n  return typeof value === 'object' && value !== null && 'then' in value;\n}\n\nfunction isLazyComponent(element: React.ReactNode): element is LazyReactElement {\n  return (\n    element != null &&\n    typeof element === 'object' &&\n    '$$typeof' in element &&\n    element.$$typeof === REACT_LAZY_TYPE &&\n    '_payload' in element &&\n    isPromiseLike(element._payload)\n  );\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlot(ownerName: string) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === 'function') {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n\n    if (slottable) {\n      // the new element to render is the one passed as a child of `Slottable`\n      const newElement = slottable.props.children;\n\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          // because the new element will be the one rendered, we are only interested\n          // in grabbing its children (`newElement.props.children`)\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement)\n            ? (newElement.props as { children: React.ReactNode }).children\n            : null;\n        } else {\n          return child;\n        }\n      });\n\n      return (\n        <SlotClone {...slotProps} ref={forwardedRef}>\n          {React.isValidElement(newElement)\n            ? React.cloneElement(newElement, undefined, newChildren)\n            : null}\n        </SlotClone>\n      );\n    }\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {children}\n      </SlotClone>\n    );\n  });\n\n  Slot.displayName = `${ownerName}.Slot`;\n  return Slot;\n}\n\nconst Slot = createSlot('Slot');\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ function createSlotClone(ownerName: string) {\n  const SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === 'function') {\n      children = use(children._payload);\n    }\n\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props = mergeProps(slotProps, children.props as AnyProps);\n      // do not pass ref to React.Fragment for React 19 compatibility\n      if (children.type !== React.Fragment) {\n        props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props);\n    }\n\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLOTTABLE_IDENTIFIER = Symbol('radix.slottable');\n\ninterface SlottableProps {\n  children: React.ReactNode;\n}\n\ninterface SlottableComponent extends React.FC<SlottableProps> {\n  __radixId: symbol;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlottable(ownerName: string) {\n  const Slottable: SlottableComponent = ({ children }) => {\n    return <>{children}</>;\n  };\n  Slottable.displayName = `${ownerName}.Slottable`;\n  Slottable.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable;\n}\n\nconst Slottable = createSlottable('Slottable');\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode,\n): child is React.ReactElement<SlottableProps, typeof Slottable> {\n  return (\n    React.isValidElement(child) &&\n    typeof child.type === 'function' &&\n    '__radixId' in child.type &&\n    child.type.__radixId === SLOTTABLE_IDENTIFIER\n  );\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Slot as Root,\n};\nexport type { SlotProps };\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n    \"cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-1 focus-visible:ring-ring no-underline hover:no-underline\",\n    {\n        variants: {\n            variant: {\n                default:\n                    'bg-primary text-primary-foreground shadow-xs hover:bg-primary/90',\n                brand: 'bg-background-brand font-bold text-label-large text-[#050505] hover:bg-background-highlights rounded-lg',\n                outline:\n                    'border border-border-primary bg-background-tertiary text-content-primary hover:bg-background-secondary hover:border-border-secondary transition-colors font-medium',\n                destructive:\n                    '!bg-red-600 !text-white hover:!bg-red-700 !border-transparent border transition-colors font-medium rounded-lg',\n                active: 'bg-green-600 text-white hover:bg-green-700 transition-colors font-medium',\n                ghost: 'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n                link: 'text-primary underline-offset-4 hover:underline',\n                remove: 'inline-flex items-center gap-2 rounded-md border border-red-500/50 px-3 py-1 text-sm text-red-500 transition-all hover:bg-red-500 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-600 focus-visible:ring-offset-2 focus-visible:ring-offset-background',\n                edit: 'inline-flex items-center gap-2 rounded-md border border-blue-500/50 px-3 py-1 text-sm text-blue-500 transition-all hover:bg-blue-500 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-background',\n                edit2: 'bg-background-brand text-label-large text-[#ffffff] hover:bg-background-highlights rounded-lg',\n            },\n            size: {\n                default: 'h-12 px-4 py-3 has-[>svg]:px-3',\n                sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n                lg: 'h-12 rounded-md px-6 has-[>svg]:px-4',\n                icon: 'size-9',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n            size: 'default',\n        },\n    }\n);\n\nfunction Button({\n    className,\n    variant,\n    size,\n    asChild = false,\n    ...props\n}: React.ComponentProps<'button'> &\n    VariantProps<typeof buttonVariants> & {\n        asChild?: boolean;\n    }) {\n    const Comp = asChild ? Slot : 'button';\n\n    return (\n        <Comp\n            data-slot=\"button\"\n            className={cn(buttonVariants({ variant, size, className }))}\n            {...props}\n        />\n    );\n}\n\nexport { Button, buttonVariants };\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst badgeVariants = cva(\n    'inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n    {\n        variants: {\n            variant: {\n                default:\n                    'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n                secondary:\n                    'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n                destructive:\n                    'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n                outline:\n                    'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n        },\n    }\n);\n\nfunction Badge({\n    className,\n    variant,\n    asChild = false,\n    ...props\n}: React.ComponentProps<'span'> &\n    VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n    const Comp = asChild ? Slot : 'span';\n\n    return (\n        <Comp\n            data-slot=\"badge\"\n            className={cn(badgeVariants({ variant }), className)}\n            {...props}\n        />\n    );\n}\n\nexport { Badge, badgeVariants };\n","// src/app/admin/client-levels/rules/ui-client.tsx\n'use client';\n\nimport * as React from 'react';\nimport Link from 'next/link';\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation';\nimport { toast } from 'sonner';\n\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\n\ntype LevelKey = 'BRONZE' | 'PRATA' | 'OURO' | 'DIAMANTE';\ntype RuleType = 'HAS_ACTIVE_PLAN';\n\ntype UnitUI = {\n    id: string;\n    name: string;\n    isActive: boolean;\n};\n\ntype RuleUI = {\n    id: string;\n    type: RuleType;\n    targetLevel: LevelKey;\n    priority: number;\n    isEnabled: boolean;\n};\n\ntype ApiPayload = {\n    scope: {\n        companyId: string;\n        canSeeAllUnits: boolean;\n        unitCookie: string;\n    };\n    units: UnitUI[];\n    activeUnitId: string;\n    levels: LevelKey[];\n    ruleTypes: RuleType[];\n    rules: RuleUI[];\n};\n\nfunction levelLabel(level: LevelKey) {\n    switch (level) {\n        case 'BRONZE':\n            return 'Bronze';\n        case 'PRATA':\n            return 'Prata';\n        case 'OURO':\n            return 'Ouro';\n        case 'DIAMANTE':\n            return 'Diamante';\n    }\n}\n\nfunction ruleTypeLabel(type: RuleType) {\n    if (type === 'HAS_ACTIVE_PLAN') return 'Tem plano ativo';\n    return type;\n}\n\nexport default function AdminClientLevelsRulesClient({\n    initialData,\n    error,\n    initialCreateMode,\n}: {\n    initialData: ApiPayload | null;\n    error: string | null;\n    initialCreateMode: boolean;\n}) {\n    const router = useRouter();\n    const pathname = usePathname();\n    const sp = useSearchParams();\n\n    const units = initialData?.units ?? [];\n    const activeUnitId = initialData?.activeUnitId ?? '';\n    const levels =\n        initialData?.levels ??\n        (['BRONZE', 'PRATA', 'OURO', 'DIAMANTE'] as LevelKey[]);\n    const ruleTypes =\n        initialData?.ruleTypes ?? (['HAS_ACTIVE_PLAN'] as RuleType[]);\n    const rules = initialData?.rules ?? [];\n\n    const hasRule = rules.length > 0;\n    const hasOnlyOneUnit = units.length === 1;\n\n    const activeUnit = React.useMemo(\n        () => units.find((u) => u.id === activeUnitId) ?? null,\n        [units, activeUnitId]\n    );\n\n    const [selectedUnitId, setSelectedUnitId] = React.useState(activeUnitId);\n    const [isSaving, setIsSaving] = React.useState(false);\n\n    const createParam = sp?.get('create');\n    const isCreateMode = (initialCreateMode || createParam === '1') && !hasRule;\n\n    React.useEffect(() => {\n        setSelectedUnitId(activeUnitId);\n    }, [activeUnitId]);\n\n    function pushWithParams(params: Record<string, string | null | undefined>) {\n        const next = new URLSearchParams(sp?.toString() ?? '');\n        for (const [k, v] of Object.entries(params)) {\n            if (!v) next.delete(k);\n            else next.set(k, v);\n        }\n        const qs = next.toString();\n        router.push(qs ? `${pathname}?${qs}` : pathname);\n    }\n\n    function onLoadUnit() {\n        if (!selectedUnitId) return;\n        pushWithParams({ unitId: selectedUnitId, create: null });\n    }\n\n    function onEnterCreate() {\n        if (!activeUnitId) return;\n        pushWithParams({ unitId: activeUnitId, create: '1' });\n    }\n\n    function onCancelCreate() {\n        pushWithParams({ create: null });\n    }\n\n    async function submitIntent(fd: FormData) {\n        try {\n            setIsSaving(true);\n\n            const res = await fetch('/api/admin/client-levels/rules', {\n                method: 'POST',\n                body: fd,\n            });\n\n            const json = (await res.json()) as\n                | { ok: true; data: any }\n                | { ok: false; error: string };\n\n            if (!res.ok || !json.ok) {\n                const msg = !json.ok ? json.error : 'Falha ao salvar.';\n                toast.error(msg);\n                return false;\n            }\n\n            return true;\n        } catch (e: any) {\n            toast.error(\n                typeof e?.message === 'string' ? e.message : 'Falha ao salvar.'\n            );\n            return false;\n        } finally {\n            setIsSaving(false);\n        }\n    }\n\n    async function onCreate(e: React.FormEvent<HTMLFormElement>) {\n        e.preventDefault();\n        if (!activeUnitId) return;\n\n        const fd = new FormData(e.currentTarget);\n        fd.set('intent', 'create');\n        fd.set('unitId', activeUnitId);\n\n        const ok = await submitIntent(fd);\n        if (!ok) return;\n\n        toast.success('Regra criada.');\n        onCancelCreate();\n        router.refresh();\n    }\n\n    async function onUpdate(\n        ruleId: string,\n        e: React.FormEvent<HTMLFormElement>\n    ) {\n        e.preventDefault();\n        if (!activeUnitId) return;\n\n        const fd = new FormData(e.currentTarget);\n        fd.set('intent', 'update');\n        fd.set('unitId', activeUnitId);\n        fd.set('ruleId', ruleId);\n\n        const ok = await submitIntent(fd);\n        if (!ok) return;\n\n        toast.success('Regra atualizada.');\n        router.refresh();\n    }\n\n    async function onDelete(ruleId: string) {\n        if (!activeUnitId) return;\n\n        const fd = new FormData();\n        fd.set('intent', 'delete');\n        fd.set('unitId', activeUnitId);\n        fd.set('ruleId', ruleId);\n\n        const ok = await submitIntent(fd);\n        if (!ok) return;\n\n        toast.success('Regra excluída.');\n        router.refresh();\n    }\n\n    return (\n        <div className=\"space-y-5 max-w-7xl mx-auto\">\n            <header className=\"flex flex-col gap-3\">\n                <div className=\"flex items-start justify-between gap-4\">\n                    <div>\n                        <h1 className=\"text-title text-content-primary\">\n                            Nível para planos\n                        </h1>\n                        <p className=\"text-paragraph-medium text-content-secondary\">\n                            Regras que podem “forçar” um nível,\n                            independentemente das contagens do mês.\n                        </p>\n                    </div>\n\n                    <div className=\"flex items-center gap-2\">\n                        <Button asChild variant=\"outline\">\n                            <Link href=\"/admin/client-level\">Voltar</Link>\n                        </Button>\n                    </div>\n                </div>\n\n                {error ? (\n                    <section className=\"rounded-xl border border-border-primary bg-background-tertiary p-4\">\n                        <p className=\"text-paragraph-small text-content-secondary\">\n                            Não foi possível carregar os dados.\n                        </p>\n                        <p className=\"mt-1 text-[11px] text-content-tertiary\">\n                            {error}\n                        </p>\n                    </section>\n                ) : null}\n\n                <section className=\"rounded-xl border border-border-primary bg-background-tertiary p-4\">\n                    {hasOnlyOneUnit ? (\n                        <div className=\"flex flex-col md:flex-row md:items-end gap-3\">\n                            <div className=\"w-full md:w-90\">\n                                <label className=\"text-[11px] text-content-secondary\">\n                                    Unidade\n                                </label>\n                                <div className=\"h-10 w-full rounded-md border border-border-primary bg-background-secondary px-3 text-sm text-content-primary flex items-center\">\n                                    {activeUnit?.name ?? activeUnitId}\n                                </div>\n                            </div>\n\n                            <div className=\"flex items-center gap-2 md:ml-auto\">\n                                {!hasRule && (\n                                    <Button\n                                        type=\"button\"\n                                        size=\"sm\"\n                                        variant=\"edit2\"\n                                        onClick={onEnterCreate}\n                                        disabled={!activeUnitId}\n                                    >\n                                        Criar\n                                    </Button>\n                                )}\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"flex flex-col md:flex-row gap-3 md:items-end\">\n                            <div className=\"w-full md:w-90\">\n                                <label className=\"text-[11px] text-content-secondary\">\n                                    Unidade\n                                </label>\n                                <select\n                                    name=\"unitId\"\n                                    value={selectedUnitId || ''}\n                                    onChange={(e) =>\n                                        setSelectedUnitId(e.target.value)\n                                    }\n                                    className=\"h-10 w-full rounded-md border border-border-primary bg-background-secondary px-3 text-sm text-content-primary\"\n                                    disabled={units.length === 0}\n                                >\n                                    {units.map((u) => (\n                                        <option key={u.id} value={u.id}>\n                                            {u.name}\n                                        </option>\n                                    ))}\n                                </select>\n                            </div>\n\n                            <div className=\"flex items-center gap-2\">\n                                <Button\n                                    type=\"button\"\n                                    size=\"sm\"\n                                    variant=\"edit2\"\n                                    onClick={onLoadUnit}\n                                    disabled={!selectedUnitId}\n                                >\n                                    Carregar\n                                </Button>\n\n                                {!hasRule && (\n                                    <Button\n                                        type=\"button\"\n                                        size=\"sm\"\n                                        variant=\"edit2\"\n                                        onClick={onEnterCreate}\n                                        disabled={!activeUnitId}\n                                    >\n                                        Criar\n                                    </Button>\n                                )}\n\n                                {activeUnit ? (\n                                    <Badge className=\"bg-emerald-500/10 text-emerald-600 border-emerald-500/40\">\n                                        {activeUnit.name}\n                                    </Badge>\n                                ) : null}\n                            </div>\n                        </div>\n                    )}\n\n                    {hasRule ? (\n                        <p className=\"mt-2 text-[11px] text-content-secondary\">\n                            Esta unidade já possui 1 regra. Para remover, basta\n                            excluir.\n                        </p>\n                    ) : (\n                        <p className=\"mt-2 text-[11px] text-content-secondary\">\n                            Esta tela permite apenas 1 regra por unidade.\n                        </p>\n                    )}\n                </section>\n            </header>\n\n            {isCreateMode ? (\n                <section className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-3\">\n                    <div>\n                        <p className=\"text-label-small text-content-primary\">\n                            Nova regra\n                        </p>\n                        <p className=\"text-paragraph-small text-content-secondary\">\n                            Exemplo: “Tem plano ativo → Diamante”.\n                        </p>\n                    </div>\n\n                    <form\n                        className=\"grid gap-3 md:grid-cols-3 items-end\"\n                        method=\"POST\"\n                        action=\"/api/admin/client-levels/rules\"\n                        onSubmit={onCreate}\n                    >\n                        <input\n                            type=\"hidden\"\n                            name=\"unitId\"\n                            value={activeUnitId}\n                        />\n                        <input type=\"hidden\" name=\"intent\" value=\"create\" />\n\n                        <div className=\"space-y-1\">\n                            <label className=\"text-[11px] text-content-secondary\">\n                                Tipo\n                            </label>\n                            <select\n                                name=\"type\"\n                                defaultValue=\"HAS_ACTIVE_PLAN\"\n                                className=\"h-10 w-full rounded-md border border-border-primary bg-background-secondary px-3 text-sm text-content-primary\"\n                            >\n                                {ruleTypes.map((t) => (\n                                    <option key={t} value={t}>\n                                        {ruleTypeLabel(t)}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div className=\"space-y-1\">\n                            <label className=\"text-[11px] text-content-secondary\">\n                                Nível alvo\n                            </label>\n                            <select\n                                name=\"targetLevel\"\n                                defaultValue=\"DIAMANTE\"\n                                className=\"h-10 w-full rounded-md border border-border-primary bg-background-secondary px-3 text-sm text-content-primary\"\n                            >\n                                {levels.map((lvl) => (\n                                    <option key={lvl} value={lvl}>\n                                        {levelLabel(lvl)}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div className=\"flex items-center justify-end gap-2\">\n                            <Button\n                                type=\"submit\"\n                                size=\"sm\"\n                                variant=\"edit2\"\n                                disabled={!activeUnitId || isSaving}\n                            >\n                                {isSaving ? 'Salvando...' : 'Salvar'}\n                            </Button>\n\n                            <Button\n                                type=\"button\"\n                                size=\"sm\"\n                                variant=\"destructive\"\n                                onClick={onCancelCreate}\n                                disabled={isSaving}\n                            >\n                                Cancelar\n                            </Button>\n                        </div>\n                    </form>\n                </section>\n            ) : null}\n\n            <section className=\"space-y-2\">\n                {!hasRule ? (\n                    <div className=\"rounded-xl border border-border-primary bg-background-tertiary px-4 py-6\">\n                        <p className=\"text-paragraph-small text-content-secondary text-center\">\n                            Nenhuma regra cadastrada.\n                        </p>\n                    </div>\n                ) : (\n                    rules.map((r) => (\n                        <div\n                            key={r.id}\n                            className=\"rounded-xl border border-border-primary bg-background-tertiary p-4 space-y-3\"\n                        >\n                            <div className=\"flex items-start justify-between gap-3\">\n                                <div className=\"space-y-1\">\n                                    <div className=\"flex flex-wrap items-center gap-2\">\n                                        <p className=\"text-paragraph-medium-size font-semibold text-content-primary\">\n                                            {ruleTypeLabel(r.type)} →{' '}\n                                            {levelLabel(r.targetLevel)}\n                                        </p>\n\n                                        {r.isEnabled ? (\n                                            <Badge className=\"bg-emerald-500/10 text-emerald-600 border-emerald-500/40\">\n                                                Ativa\n                                            </Badge>\n                                        ) : (\n                                            <Badge\n                                                variant=\"outline\"\n                                                className=\"border-border-primary text-content-secondary\"\n                                            >\n                                                Desativada\n                                            </Badge>\n                                        )}\n                                    </div>\n\n                                    <p className=\"text-[11px] text-content-secondary\">\n                                        Prioridade:{' '}\n                                        <span className=\"text-content-primary font-semibold\">\n                                            {r.priority}\n                                        </span>\n                                        {' • '}Para desativar, exclua a regra.\n                                    </p>\n                                </div>\n                            </div>\n\n                            <form\n                                className=\"grid gap-3 md:grid-cols-[1fr_1fr_auto] items-end\"\n                                method=\"POST\"\n                                action=\"/api/admin/client-levels/rules\"\n                                onSubmit={(e) => onUpdate(r.id, e)}\n                            >\n                                <input\n                                    type=\"hidden\"\n                                    name=\"unitId\"\n                                    value={activeUnitId}\n                                />\n                                <input\n                                    type=\"hidden\"\n                                    name=\"intent\"\n                                    value=\"update\"\n                                />\n                                <input\n                                    type=\"hidden\"\n                                    name=\"ruleId\"\n                                    value={r.id}\n                                />\n\n                                <div className=\"space-y-1\">\n                                    <label className=\"text-[11px] text-content-secondary\">\n                                        Tipo\n                                    </label>\n                                    <select\n                                        name=\"type\"\n                                        defaultValue={r.type}\n                                        className=\"h-10 w-full rounded-md border border-border-primary bg-background-secondary px-3 text-sm text-content-primary\"\n                                    >\n                                        {ruleTypes.map((t) => (\n                                            <option key={t} value={t}>\n                                                {ruleTypeLabel(t)}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                <div className=\"space-y-1\">\n                                    <label className=\"text-[11px] text-content-secondary\">\n                                        Nível alvo\n                                    </label>\n                                    <select\n                                        name=\"targetLevel\"\n                                        defaultValue={r.targetLevel}\n                                        className=\"h-10 w-full rounded-md border border-border-primary bg-background-secondary px-3 text-sm text-content-primary\"\n                                    >\n                                        {levels.map((lvl) => (\n                                            <option key={lvl} value={lvl}>\n                                                {levelLabel(lvl)}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                <div className=\"flex items-center justify-end gap-2\">\n                                    <Button\n                                        type=\"submit\"\n                                        size=\"sm\"\n                                        variant=\"edit2\"\n                                        disabled={!activeUnitId || isSaving}\n                                    >\n                                        {isSaving ? 'Salvando...' : 'Salvar'}\n                                    </Button>\n\n                                    <Button\n                                        type=\"button\"\n                                        variant=\"destructive\"\n                                        size=\"sm\"\n                                        className=\"border-border-primary hover:bg-muted/40\"\n                                        disabled={isSaving}\n                                        onClick={() => onDelete(r.id)}\n                                    >\n                                        Excluir\n                                    </Button>\n                                </div>\n\n                                {/* prioridade fica editável via hidden (mantém valor atual) */}\n                                <input\n                                    type=\"hidden\"\n                                    name=\"priority\"\n                                    value={String(r.priority)}\n                                />\n                            </form>\n                        </div>\n                    ))\n                )}\n            </section>\n        </div>\n    );\n}\n"],"names":["Fragment","Slot","props","Slottable"],"mappings":"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","ignoreList":[2]}